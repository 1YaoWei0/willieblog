{"meta":{"version":1,"warehouse":"5.0.1"},"models":{"Asset":[{"_id":"source/images/Dynamics365_scalable.svg","path":"images/Dynamics365_scalable.svg","modified":0,"renderable":0},{"_id":"source/images/avatar.jpg","path":"images/avatar.jpg","modified":0,"renderable":0},{"_id":"node_modules/hexo-theme-next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/css/noscript.styl","path":"css/noscript.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/logo-algolia-nebula-blue-full.svg","path":"images/logo-algolia-nebula-blue-full.svg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/bookmark.js","path":"js/bookmark.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/comments-buttons.js","path":"js/comments-buttons.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/config.js","path":"js/config.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/comments.js","path":"js/comments.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/motion.js","path":"js/motion.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/next-boot.js","path":"js/next-boot.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/pjax.js","path":"js/pjax.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/schedule.js","path":"js/schedule.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/sidebar.js","path":"js/sidebar.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/addtoany.js","path":"js/third-party/addtoany.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/fancybox.js","path":"js/third-party/fancybox.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/pace.js","path":"js/third-party/pace.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/quicklink.js","path":"js/third-party/quicklink.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/baidu-analytics.js","path":"js/third-party/analytics/baidu-analytics.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/google-analytics.js","path":"js/third-party/analytics/google-analytics.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/growingio.js","path":"js/third-party/analytics/growingio.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/matomo.js","path":"js/third-party/analytics/matomo.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/tidio.js","path":"js/third-party/chat/tidio.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/chatra.js","path":"js/third-party/chat/chatra.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/changyan.js","path":"js/third-party/comments/changyan.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqus.js","path":"js/third-party/comments/disqus.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqusjs.js","path":"js/third-party/comments/disqusjs.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/gitalk.js","path":"js/third-party/comments/gitalk.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/isso.js","path":"js/third-party/comments/isso.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/livere.js","path":"js/third-party/comments/livere.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/utterances.js","path":"js/third-party/comments/utterances.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/katex.js","path":"js/third-party/math/katex.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/mathjax.js","path":"js/third-party/math/mathjax.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/algolia-search.js","path":"js/third-party/search/algolia-search.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/local-search.js","path":"js/third-party/search/local-search.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/firestore.js","path":"js/third-party/statistics/firestore.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/lean-analytics.js","path":"js/third-party/statistics/lean-analytics.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/mermaid.js","path":"js/third-party/tags/mermaid.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/pdf.js","path":"js/third-party/tags/pdf.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/wavedrom.js","path":"js/third-party/tags/wavedrom.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/HMT-page/index.md","hash":"989811e417ded3faad70a200e51250d2b6e2e1d5","modified":1766718662878},{"_id":"source/_posts/d365-cloneandconfigurd365fofromgithub.md","hash":"fa982eb00f9bcf9bbbee0fca9c9e9dddca36c81d","modified":1766718662879},{"_id":"source/categories/index.md","hash":"8d6e587c05165ff3c748cc18957f49e3865ac289","modified":1766718662942},{"_id":"source/_posts/d365-documentroutingconfiguration.md","hash":"967056a8cda18dadb4c7e33c688c16ff1ca30945","modified":1766718662879},{"_id":"source/_posts/hmt-installtutorial.md","hash":"6922978b64acff3fc4b796668d8f1792839beb3b","modified":1766718662905},{"_id":"source/_posts/mssql-clear-log.md","hash":"0b60ac3d6790d9eeb7dc5820fb9cd364897c2f68","modified":1766718662912},{"_id":"source/_posts/d365-transferjournalandtransferorder.md","hash":"fecabea052e3875cd24f3a2e45e2c07372c52e05","modified":1766718662904},{"_id":"source/_posts/xpp-ImplementTheSysExtensionSerializer.md","hash":"25cae3b895c4d50a0301082ae18f85bda94c3f94","modified":1766718662914},{"_id":"source/_posts/xpp-api-list.md","hash":"d0ad7ce34736e06ca0b0ebe158e66187beb741b4","modified":1766718662919},{"_id":"source/_posts/xpp-addbarcodetossrs.md","hash":"9b497ee56f7cf41498dc2b34bbb86bd343abed9e","modified":1766718662919},{"_id":"source/_posts/xpp-copyadditemsfeature.md","hash":"69b97994850d88ea4e1c4bef59692a8eea497a91","modified":1766718662921},{"_id":"source/_posts/xpp-createanewssrsreport.md","hash":"cb64ec25fb18916f082f305e59b4ce283e1a40de","modified":1766718662921},{"_id":"source/_posts/xpp-createledgerjournals.md","hash":"04e9b27f252bf6f4a3dced51ec37d5dc957dcd1b","modified":1766718662922},{"_id":"source/_posts/xpp-extendsalesinvoicereport.md","hash":"814e347a51e5a772383dce239553cc293a66a9cf","modified":1766718662928},{"_id":"source/_posts/xpp-dontsavebatchjobcache.md","hash":"1db463b00aa4523c45b6378b8b2f393be391cd52","modified":1768108327198},{"_id":"source/_posts/xpp-extendedvendtransandcusttrans.md","hash":"e5010634d30ac71132980c069acd6918aabec55a","modified":1766718662928},{"_id":"source/_posts/xpp-debug-configuration.md","hash":"ec7050a5362d6fe39a2a0519984818a7bd5680d4","modified":1766718662924},{"_id":"source/_posts/xpp-extendsubbillingschedule.md","hash":"073ef8383cbaf9b76d941f77cf2f83a426bd2c88","modified":1766718662934},{"_id":"source/_posts/xpp-merge-ledger-account.md","hash":"790ae29df90b927508ccd31cc5717c8c82586ca9","modified":1766718662935},{"_id":"source/_posts/xpp-getselectedrecords.md","hash":"9a715104bd1d806687d985f81be446f03072f44c","modified":1766718662934},{"_id":"source/_posts/xpp-multipleselectionforformgrid.md","hash":"c8444b37d58dbd13dab531f068c51dea802ba371","modified":1766718662935},{"_id":"source/_posts/xpp-noyesdialog.md","hash":"f91d73d7afb9cd91637dab946ee2e6eb3acd0122","modified":1766718662936},{"_id":"source/_posts/xpp-onhandinvent.md","hash":"f3de205a74f93585988b03905aeedc4863bb2c57","modified":1766718662937},{"_id":"source/_posts/xpp-open-in-office.md","hash":"43c7b204a06902e11e28749780f31ca1b1c67554","modified":1766718662937},{"_id":"source/_posts/xpp-runbase-how-to-add-record-to-include.md","hash":"490d00742de8133d8ccd33f0874a4d70749e4c85","modified":1768106648319},{"_id":"source/_posts/xpp-numbersequencedevelop.md","hash":"0cd393e81e4872d6182cbc0a2648623378f7c8c3","modified":1766718662937},{"_id":"source/_posts/xpp-reversaltrans.md","hash":"9a97333cb14acc0211da6766092462f3ece8f74f","modified":1766718662940},{"_id":"source/about/index.md","hash":"a3676edf6191f396c41dd0b3f1cff6e4ba0dba00","modified":1766718662941},{"_id":"source/images/Dynamics365_scalable.svg","hash":"01e415236e40c62bc0e6dfd25ba77029da633506","modified":1766718662943},{"_id":"source/_posts/xpp-runbase-how-to-enable-cache-mechanism.md","hash":"d39d1c6b2abdc9b2da29b05d44d7b4775d20ea33","modified":1768108491659},{"_id":"source/_posts/xpp-runbasebatch-how-to-enable-run-in-batch.md","hash":"f512d04a17b9f0260074f504cd98e523b3bd9fd2","modified":1768108644988},{"_id":"source/tags/index.md","hash":"b2b20e18bcf7c1a61c73838fec84c97518c51954","modified":1766718662945},{"_id":"source/_posts/d365-documentroutingconfiguration/image-27.png","hash":"de48bdae84d2a1a77c633a2c30e53a21e18eb968","modified":1766718662883},{"_id":"source/_posts/d365-documentroutingconfiguration/image-34.png","hash":"2593bfaf1630ded5a9ff93a16523baa76cd6fd68","modified":1766718662890},{"_id":"source/_posts/d365-documentroutingconfiguration/image-33.png","hash":"ec604517556bf16ab9448283c0873bf90f34e1d1","modified":1766718662890},{"_id":"source/_posts/d365-documentroutingconfiguration/image-35.png","hash":"7fb5f7b8976a0c97d8fc4a6745fb1e02fb4d18fb","modified":1766718662891},{"_id":"source/_posts/d365-documentroutingconfiguration/image-40.png","hash":"b68afe36ee486b98ee47478e75233e12b48cb25f","modified":1766718662897},{"_id":"source/_posts/d365-documentroutingconfiguration/image-46.png","hash":"27de22407cd73be14bbb8b8d1eb2cdc39e98207f","modified":1766718662901},{"_id":"source/_posts/hmt-installtutorial/Picture1.png","hash":"b071995d665f105e9e4d4d15e3c188ce11cc331d","modified":1766718662906},{"_id":"source/_posts/d365-documentroutingconfiguration/image-47.png","hash":"eda554c0565f8c1882cd9090c94b7bb7de0e3560","modified":1766718662902},{"_id":"source/_posts/hmt-installtutorial/Picture2.png","hash":"71f0ff041605e80560a383ce5b0ee2ee4f46dca8","modified":1766718662907},{"_id":"source/_posts/mssql-clear-log/mssql-clear-log.png","hash":"6d6f92e238a5d60b3aa370640dede1dc58eed509","modified":1766718662913},{"_id":"source/_posts/xpp-ImplementTheSysExtensionSerializer/Screenshot showing the Cust Table_.png","hash":"25e6bf55e6795b1f51a5630253d4d8de0051b386","modified":1766718662919},{"_id":"source/_posts/xpp-ImplementTheSysExtensionSerializer/Screenshot of the My Cust Table showing the Sys Extension Serializer Map_.png","hash":"e72eff2d337d914d5e5ae02151b8af5db0500fde","modified":1766718662916},{"_id":"source/_posts/xpp-ImplementTheSysExtensionSerializer/Screenshot of the Properties form showing that the Replacement Key is set to the Alternate key_.png","hash":"32d042f2f222d493b81e21bbc3e03f49c179d422","modified":1766718662917},{"_id":"source/_posts/xpp-ImplementTheSysExtensionSerializer/Screenshot of the Properties form showing the relation to the standard table_.png","hash":"a13d6c4406d5ee248374acfb483a76e12e982920","modified":1766718662918},{"_id":"source/_posts/xpp-api-list/xpp-api-list-recordinsertlist.png","hash":"6b0ec9fa8ce8c1b94ea0d400e25d964a86a2f048","modified":1766718662920},{"_id":"source/_posts/xpp-createledgerjournals/CopyJournalDialog.png","hash":"25303d1dd4597662e713aea913d973c651e212d6","modified":1766718662923},{"_id":"source/_posts/xpp-extendsalesinvoicereport/LineTablix.png","hash":"0d5a34ba225a6fd813af06f0a5d61bc0f2190b87","modified":1766718662930},{"_id":"source/_posts/xpp-extendsalesinvoicereport/CreateNewReport.png","hash":"b5f00e4ecfbc1bc1d0a800c707b594525e9f4fbc","modified":1766718662929},{"_id":"source/_posts/xpp-extendsalesinvoicereport/PrintedReport.png","hash":"ee10b1df43cc58741e77e0192d14728fde77482a","modified":1766718662931},{"_id":"source/_posts/xpp-extendsalesinvoicereport/ReportProperties.png","hash":"78702a1c847e3d681ad301364e6bf3be0919e6c0","modified":1766718662932},{"_id":"source/_posts/xpp-extendsalesinvoicereport/ReportDatasets.png","hash":"2b4bf1e0b1dcda4eb3ac57775b533da6ff55f851","modified":1766718662931},{"_id":"source/_posts/xpp-extendsalesinvoicereport/ReportResulting.png","hash":"542a0313ed57d414c387e10689e27a4268e4a340","modified":1766718662932},{"_id":"source/_posts/xpp-extendsalesinvoicereport/RowVisibility.png","hash":"5811a60c2bedb1e5991595793fb10c4769ea2c90","modified":1766718662934},{"_id":"source/_posts/xpp-open-in-office/xpp-open-in-office.png","hash":"e5597ae72ec0f393eefdba5b392300a018ad3a67","modified":1766718662938},{"_id":"source/_posts/xpp-runbase-how-to-add-record-to-include/batchjobdialog.png","hash":"0f1ec59517ab84ac601390e5f390cfefbea570a4","modified":1768051332809},{"_id":"source/_posts/xpp-runbasebatch-how-to-enable-run-in-batch/image-20260111105512293.png","hash":"89f94b1a125af0f8c44bd3f2f0d4ac0f7c787cf2","modified":1768100112308},{"_id":"source/_posts/xpp-open-in-office/xpp-open-in-office3.png","hash":"35a5d7ece7eef51acd7d862a869a63a47492fb64","modified":1766718662940},{"_id":"source/_posts/xpp-open-in-office/xpp-open-in-office2.png","hash":"d34920c5e53717299fbae46a4382ed2373ea5c07","modified":1766718662939},{"_id":"source/_posts/xpp-runbase-how-to-enable-cache-mechanism/image-20260110214346484.png","hash":"7d116d3df5c93a3f0a7decded2ee2879e56668ed","modified":1768052626491},{"_id":"source/_posts/d365-documentroutingconfiguration/image-28.png","hash":"13abe5ec8b08ff38590067cca417e827a5e266af","modified":1766718662885},{"_id":"source/_posts/d365-documentroutingconfiguration/image-26.png","hash":"016684a9a67b88995178c6ac622ff55ab93d6da4","modified":1766718662883},{"_id":"source/_posts/d365-documentroutingconfiguration/image-30.png","hash":"de42324e871c07bdb8c4adea25f68f13888e4519","modified":1766718662888},{"_id":"source/_posts/d365-documentroutingconfiguration/image-32.png","hash":"b0ef1f1f666228328d934a3724cb20125ecabb3d","modified":1766718662889},{"_id":"source/_posts/d365-documentroutingconfiguration/image-36.png","hash":"320f9ca1c9e69181dbbc5be81ea5e8caae2ac542","modified":1766718662892},{"_id":"source/_posts/d365-documentroutingconfiguration/image-37.png","hash":"037b833b85e1e42ad5ac7244d2a8eb9e30a7675c","modified":1766718662893},{"_id":"source/_posts/d365-documentroutingconfiguration/image-39.png","hash":"32f1bad5545503d89baa2248a94d5538c5753cdc","modified":1766718662895},{"_id":"source/_posts/d365-documentroutingconfiguration/image-41.png","hash":"ac96eeb43d3359e034c621fc60be82a6a4888a6a","modified":1766718662897},{"_id":"source/_posts/d365-documentroutingconfiguration/image-42.png","hash":"eaf909332d594faffa98bca18ea992adc09e14b0","modified":1766718662899},{"_id":"source/_posts/d365-documentroutingconfiguration/image-45.png","hash":"08c4558e4823d176aa54df442cf59dd8782bcd67","modified":1766718662901},{"_id":"source/_posts/d365-documentroutingconfiguration/image-48.png","hash":"da3598ac9bd996c78751f89c9f8007c581ea3b67","modified":1766718662903},{"_id":"source/_posts/hmt-installtutorial/Picture4.png","hash":"173775be1f996f2208efec169aea9b3f75d6652a","modified":1766718662911},{"_id":"source/_posts/d365-documentroutingconfiguration/image-49.png","hash":"81f1efe62befe58767343604fb4754c0fbe850e6","modified":1766718662904},{"_id":"source/_posts/xpp-debug-configuration/xpp-debug-configuration.png","hash":"f613c9fc9f3dd1eb3a5b54aa158cde9224f0cc9e","modified":1766718662927},{"_id":"source/images/avatar.jpg","hash":"c77064a12ff3c33295598885dc3d408ca233a4c8","modified":1766718662944},{"_id":"source/_posts/d365-documentroutingconfiguration/image-25.png","hash":"e5d04a6b69c0703a0e907a920bcdfedf46414c4b","modified":1766718662882},{"_id":"source/_posts/d365-documentroutingconfiguration/image-31.png","hash":"dc60ecd9e823683c09c36f7eda1c52d15f612358","modified":1766718662888},{"_id":"source/_posts/d365-documentroutingconfiguration/image-38.png","hash":"ee6aa6b26b27219937f83f52bb5e1b102e9af66d","modified":1766718662894},{"_id":"source/_posts/d365-documentroutingconfiguration/image-43.png","hash":"a132ae3278112f876f61f6d1f886df17cf63556d","modified":1766718662900},{"_id":"source/_posts/hmt-installtutorial/Picture3.png","hash":"b638f3f4a04050b45d3a075b08fe781b158482e9","modified":1766718662909},{"_id":"source/_posts/d365-documentroutingconfiguration/image-29.png","hash":"b2c239135d5a4787fd8f933a6d22fb6694d9e0da","modified":1766718662887},{"_id":"node_modules/hexo-theme-next/_vendors.yml","hash":"312fa7c1ae472e18d88f6d01c54dc6f32f66255c","modified":1768106168836},{"_id":"node_modules/hexo-theme-next/LICENSE.md","hash":"68fc9a03d50fd4b5ea97092b05967d1819dea2c4","modified":1768106166747},{"_id":"node_modules/hexo-theme-next/_config.yml","hash":"dbbd054721541f4d1f4fed4bc983bc19ff1f259a","modified":1768106168830},{"_id":"node_modules/hexo-theme-next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1768106166711},{"_id":"node_modules/hexo-theme-next/README.md","hash":"5dd295594b92dbe07b0376b505f29fb3884e77f9","modified":1768106166802},{"_id":"node_modules/hexo-theme-next/docs/AUTHORS.md","hash":"a648823121563c34a177ae91f5a774b5e29f01a0","modified":1768106166731},{"_id":"node_modules/hexo-theme-next/package.json","hash":"26e77380c9dd66388b9fd34eb9aac3e0ad510731","modified":1768106166704},{"_id":"node_modules/hexo-theme-next/languages/bn.yml","hash":"564bed75da6e05b11dce6164508f97a15e2fb6c2","modified":1768106168842},{"_id":"node_modules/hexo-theme-next/docs/LICENSE.txt","hash":"f5b14f791b7cfa1d16da981d929152e088a5d1b8","modified":1768106168806},{"_id":"node_modules/hexo-theme-next/languages/README.md","hash":"b2567e32805dda79601157351a07e5ca9fe01315","modified":1768106166779},{"_id":"node_modules/hexo-theme-next/languages/ar.yml","hash":"7d0f39e8684284a04bb9808521c87fecda8bd131","modified":1768106168838},{"_id":"node_modules/hexo-theme-next/languages/de.yml","hash":"79b37df731c29665dee6cd7c90d278e1edfb6e24","modified":1768106168857},{"_id":"node_modules/hexo-theme-next/languages/en.yml","hash":"ba0fd79a2b1d8db01a034180556061745965ff05","modified":1768106168861},{"_id":"node_modules/hexo-theme-next/languages/eo.yml","hash":"e34bb33ae827bf2f0727088599a73bc64bdad1b0","modified":1768106168864},{"_id":"node_modules/hexo-theme-next/languages/es.yml","hash":"dffc63ef42e1266b88e0acf08994fd17a9908d53","modified":1768106168868},{"_id":"node_modules/hexo-theme-next/languages/fr.yml","hash":"8ac44e58f71a38b7697a2f7f98a6971ed818cb5b","modified":1768106168875},{"_id":"node_modules/hexo-theme-next/languages/fa.yml","hash":"f3ffc444599f4ac92d62e9ed00a1490ebc277d70","modified":1768106168870},{"_id":"node_modules/hexo-theme-next/languages/id.yml","hash":"929df147f4f17d638b07de5fe52ca13e2549ab1c","modified":1768106168878},{"_id":"node_modules/hexo-theme-next/languages/pt.yml","hash":"b62faaa767a45a613dd042b5f1903675eb5a8cf9","modified":1768106168926},{"_id":"node_modules/hexo-theme-next/languages/it.yml","hash":"16d716ecfd748def2f6486ef5a82d0ab7ceb4890","modified":1768106168885},{"_id":"node_modules/hexo-theme-next/languages/ja.yml","hash":"543222bfc516aab6c33e8534f807972ecb8943a9","modified":1768106168900},{"_id":"node_modules/hexo-theme-next/languages/ru.yml","hash":"c6d8de0ff7d8148d09993257cfd3b7aca755696c","modified":1768106168933},{"_id":"node_modules/hexo-theme-next/languages/nl.yml","hash":"3cb3687696635ec71b4ca40c5fc43b56acc8843e","modified":1768106168908},{"_id":"node_modules/hexo-theme-next/languages/pt-BR.yml","hash":"76b8576ce228d540a16b1f0af5af2cce20923194","modified":1768106168923},{"_id":"node_modules/hexo-theme-next/languages/si.yml","hash":"2d712eedf3f60d04d36c3108cf5a12e2a52e875c","modified":1768106168939},{"_id":"node_modules/hexo-theme-next/languages/tk.yml","hash":"511726054873f6f8d7ce0d2e803f6731de0ddbe7","modified":1768106168957},{"_id":"node_modules/hexo-theme-next/languages/ko.yml","hash":"d345a303310c8a5f4836c3683f3580f861ebd1b4","modified":1768106168903},{"_id":"node_modules/hexo-theme-next/languages/th.yml","hash":"6829e998b39f8f143e20b276bb1f62d95a29de58","modified":1768106168943},{"_id":"node_modules/hexo-theme-next/languages/tr.yml","hash":"a57e4ed089b893a95f5e1ecff17ce625165f4d46","modified":1768106168963},{"_id":"node_modules/hexo-theme-next/languages/vi.yml","hash":"7ebcba5e1128784195e4681dffc9d34c4e873fec","modified":1768106168972},{"_id":"node_modules/hexo-theme-next/languages/uk.yml","hash":"ff537047b4b4c3ca9a7b64fa7f428a9942751eeb","modified":1768106168968},{"_id":"node_modules/hexo-theme-next/languages/zh-CN.yml","hash":"741d7efe0262c9cdc2c648014b55599665d90f6b","modified":1768106168978},{"_id":"node_modules/hexo-theme-next/languages/zh-TW.yml","hash":"5c0f00cdac3f4727b880dd223f622a535736fa8e","modified":1768106169015},{"_id":"node_modules/hexo-theme-next/languages/zh-HK.yml","hash":"8eb6a9f231ce1bfa54cc54418ccf14f01dcc9a31","modified":1768106168997},{"_id":"node_modules/hexo-theme-next/layout/_layout.njk","hash":"fc0a45112f2dcfc2642404e8934ea32a793c3bd7","modified":1768106166811},{"_id":"node_modules/hexo-theme-next/layout/archive.njk","hash":"d759f4d2cf5ddc6875ea250113a00662c1caf6d1","modified":1768106166843},{"_id":"node_modules/hexo-theme-next/layout/category.njk","hash":"c68b7343d0f8145010f93351908cc36ef6212ec1","modified":1768106166939},{"_id":"node_modules/hexo-theme-next/layout/page.njk","hash":"af6d7570621be760536c216a56d74e40a1cceae2","modified":1768106167327},{"_id":"node_modules/hexo-theme-next/layout/index.njk","hash":"dd63e488ae8cc144335a5958acedf6a16edd7a92","modified":1768106167155},{"_id":"node_modules/hexo-theme-next/layout/tag.njk","hash":"9e16ba20c28a7f2c6bc75aa427f48122301a30aa","modified":1768106167568},{"_id":"node_modules/hexo-theme-next/layout/post.njk","hash":"0bfce9f133f501a9a4837257e3b862b3bbca15be","modified":1768106167446},{"_id":"node_modules/hexo-theme-next/docs/ru/README.md","hash":"285d5c4dffb97da659851fb6e53379a614619fd9","modified":1768106166764},{"_id":"node_modules/hexo-theme-next/layout/_macro/post-collapse.njk","hash":"313637fe3569f98fd926e8cd0fcc75d098eb6e6e","modified":1768106167370},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/README.md","hash":"21567f1810f861b0a33db6514a4fcf18fb98467d","modified":1768106166772},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/CONTRIBUTING.md","hash":"a089f7a8368ab0b7d7b9b7ec0ac3767a453435df","modified":1768106166744},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"12a6631617695504d5cf2a94b57d87bd331bef6f","modified":1768106166735},{"_id":"node_modules/hexo-theme-next/layout/_partials/pagination.njk","hash":"bc719473ed5948ab6859449d60b8d36cfc1542b4","modified":1768106167332},{"_id":"node_modules/hexo-theme-next/layout/_partials/comments.njk","hash":"d0c470b0f6690aa217e9ada848c5e2e73fb27c6f","modified":1768106166968},{"_id":"node_modules/hexo-theme-next/layout/_partials/footer.njk","hash":"fbf8232cacf0df87e88e74860be66c9f86018302","modified":1768106167005},{"_id":"node_modules/hexo-theme-next/layout/_macro/post.njk","hash":"952449064fcb6a5cefc281b585f9149809f857f1","modified":1768106167427},{"_id":"node_modules/hexo-theme-next/layout/_macro/sidebar.njk","hash":"547c62ab14d9e05d2d9116db9048a677fbe1fb6d","modified":1768106167536},{"_id":"node_modules/hexo-theme-next/layout/_partials/languages.njk","hash":"e43f22198cccb5f6e306b1ce0d28d12a4fb891f8","modified":1768106167177},{"_id":"node_modules/hexo-theme-next/layout/_partials/widgets.njk","hash":"d83fb59f02c5e6630a7770401a05c02f6f07358b","modified":1768106167639},{"_id":"node_modules/hexo-theme-next/layout/_third-party/addtoany.njk","hash":"ef64c6bfb8540cd874701236b9be47db2496e98e","modified":1768106166824},{"_id":"node_modules/hexo-theme-next/scripts/events/index.js","hash":"bd9ea82376cd87df611ea3ae077875c7c595a3df","modified":1768106165675},{"_id":"node_modules/hexo-theme-next/layout/_scripts/vendors.njk","hash":"be80b9fe415a9a09d74c28e230995fd292dfc123","modified":1768106167612},{"_id":"node_modules/hexo-theme-next/layout/_scripts/index.njk","hash":"51704a2eadb0d363762ebf2e44994696e0843e40","modified":1768106167106},{"_id":"node_modules/hexo-theme-next/layout/_third-party/index.njk","hash":"dfd7cdd6ba89f8c3deabc27726c7a350cadafd11","modified":1768106167133},{"_id":"node_modules/hexo-theme-next/layout/_third-party/fancybox.njk","hash":"844559f46e2ff1c8be234d5763703106e2072a7b","modified":1768106166989},{"_id":"node_modules/hexo-theme-next/layout/_third-party/quicklink.njk","hash":"0efed71ed530447718c4ea5bbd5fc8695b0b0d5f","modified":1768106167516},{"_id":"node_modules/hexo-theme-next/layout/_third-party/pace.njk","hash":"d7ad5714079f7f65446f880baf14722435ca9061","modified":1768106167304},{"_id":"node_modules/hexo-theme-next/scripts/filters/default-injects.js","hash":"872f01cb10e422a648ea505436532e776e92926b","modified":1768106164944},{"_id":"node_modules/hexo-theme-next/scripts/filters/minify.js","hash":"2063aaa1db448ebcf7b0fdbbc54d3991a368bbd3","modified":1768106166144},{"_id":"node_modules/hexo-theme-next/scripts/filters/locals.js","hash":"9eb5310664759931287dd28ea39165dfb67f12ed","modified":1768106165998},{"_id":"node_modules/hexo-theme-next/scripts/filters/post.js","hash":"fdc8a0af90035e89c3fcb754a0eb189b8951a2bc","modified":1768106166399},{"_id":"node_modules/hexo-theme-next/scripts/helpers/engine.js","hash":"049b1a0b66563e39f68710bb576a8c7342ae749c","modified":1768106165211},{"_id":"node_modules/hexo-theme-next/scripts/helpers/font.js","hash":"f2d45eb3f03662033608075e3fa895498d08712d","modified":1768106165372},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-config.js","hash":"25bb3ec3c7c456aa1d1650eb139605b7df7394eb","modified":1768106166269},{"_id":"node_modules/hexo-theme-next/scripts/helpers/navigation.js","hash":"78107021101553c3d23e89290f7530b60cf4aa86","modified":1768106166229},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-url.js","hash":"6281d47c1de98eb38f3aa0f6df29bbb19d412173","modified":1768106166327},{"_id":"node_modules/hexo-theme-next/scripts/tags/caniuse.js","hash":"935a311142a409c1896b3ae3f01fe7a9e2db1134","modified":1768106163860},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-paginator.js","hash":"e86c764b546e4fbb87970cabc4135a56f9ef9fe1","modified":1768106166303},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-vendors.js","hash":"af3946a595f997eb43d9af87428e4898c9acbc82","modified":1768106166331},{"_id":"node_modules/hexo-theme-next/scripts/tags/center-quote.js","hash":"92c19d796bdb3320df9caea59bf52df7a95d9da9","modified":1768106163983},{"_id":"node_modules/hexo-theme-next/scripts/tags/button.js","hash":"c6ad2ed544fbb25ecb5d820c36e76302504271b7","modified":1768106163747},{"_id":"node_modules/hexo-theme-next/scripts/tags/group-pictures.js","hash":"f57f7e09eb6220f681fa8385082b0960502ce5c4","modified":1768106165576},{"_id":"node_modules/hexo-theme-next/scripts/tags/index.js","hash":"1f6aba7820f1fb58b61969485148db21846e1aa9","modified":1768106165689},{"_id":"node_modules/hexo-theme-next/scripts/tags/label.js","hash":"8a73348186113bae0a51ea2f891c1bb882fab05a","modified":1768106165803},{"_id":"node_modules/hexo-theme-next/scripts/tags/note.js","hash":"7b94ddb46b7d4b0fe815f2fbe4bd375f07f55363","modified":1768106166337},{"_id":"node_modules/hexo-theme-next/scripts/tags/link-grid.js","hash":"18a483c2d5afd701f6080ffdddf2d1321370336c","modified":1768106165872},{"_id":"node_modules/hexo-theme-next/scripts/tags/mermaid.js","hash":"7d7bbc4a9970bd4c5449bc71b94364a8ec61e5d2","modified":1768106166081},{"_id":"node_modules/hexo-theme-next/scripts/tags/video.js","hash":"2ee926448583be8f95af1f2884ae2c9c4830151d","modified":1768106166664},{"_id":"node_modules/hexo-theme-next/scripts/tags/wavedrom.js","hash":"b44dfeeb58b41945d469141787f3dbce4b117d08","modified":1768106166672},{"_id":"node_modules/hexo-theme-next/scripts/tags/tabs.js","hash":"0eabe51da40b4b13e16419c8fe02452d9a4fef73","modified":1768106166456},{"_id":"node_modules/hexo-theme-next/source/css/_colors.styl","hash":"ebfe0954e3931431f46f913abe08d0212e06e7c2","modified":1768106167670},{"_id":"node_modules/hexo-theme-next/scripts/tags/pdf.js","hash":"344636b6fd7e27e8831c1e194039afc0d61931cd","modified":1768106166346},{"_id":"node_modules/hexo-theme-next/source/css/main.styl","hash":"921a58577f411cf4eb5cfd66db0a241f8f88578c","modified":1768106168290},{"_id":"node_modules/hexo-theme-next/source/css/_mixins.styl","hash":"e21309d4165ebb6645084eed8dd749846ae981f1","modified":1768106167799},{"_id":"node_modules/hexo-theme-next/source/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1768106160248},{"_id":"node_modules/hexo-theme-next/source/css/noscript.styl","hash":"dadc81256afb127b77eac6763d5ee0ec9c77f0a3","modified":1768106168371},{"_id":"node_modules/hexo-theme-next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1768106167660},{"_id":"node_modules/hexo-theme-next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1768106167647},{"_id":"node_modules/hexo-theme-next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1768106167665},{"_id":"node_modules/hexo-theme-next/source/images/logo-algolia-nebula-blue-full.svg","hash":"a38c6d92b368bfc42c72ad799ad03f3274957065","modified":1768106168795},{"_id":"node_modules/hexo-theme-next/source/js/comments-buttons.js","hash":"1a7344440321713426a0b2ab17e276b5bdf85ade","modified":1768106164468},{"_id":"node_modules/hexo-theme-next/source/images/logo.svg","hash":"099e11ab995a2c8981427a85476d082609848c77","modified":1768106168802},{"_id":"node_modules/hexo-theme-next/source/js/bookmark.js","hash":"9ba4cceafd12c6d5ba8a6b986a046ef8319a7811","modified":1768106163667},{"_id":"node_modules/hexo-theme-next/source/js/motion.js","hash":"6f751f5c9499a39d7c5e1d323db3260342dd9431","modified":1768106166170},{"_id":"node_modules/hexo-theme-next/source/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1768106164779},{"_id":"node_modules/hexo-theme-next/source/js/pjax.js","hash":"0996078604f356a4f6692b9b0838038b3b10aa8a","modified":1768106166374},{"_id":"node_modules/hexo-theme-next/source/js/next-boot.js","hash":"8e2d589585f5270ee90285d3e65b69923c7629d8","modified":1768106166245},{"_id":"node_modules/hexo-theme-next/source/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1768106164572},{"_id":"node_modules/hexo-theme-next/source/js/sidebar.js","hash":"2ee359ae48273b01ba1e0768704524e08702c7eb","modified":1768106166439},{"_id":"node_modules/hexo-theme-next/source/js/schedule.js","hash":"a1333258726caf84f368a8f8454639c7dc1626bb","modified":1768106166424},{"_id":"node_modules/hexo-theme-next/layout/_partials/head/head-unique.njk","hash":"93c1d103d9d16581c944c51f3d0638f57c80ee41","modified":1768106167068},{"_id":"node_modules/hexo-theme-next/source/js/utils.js","hash":"d7954a623be2ee9fe3eadc785b17c17afac6c34d","modified":1768106166564},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/brand.njk","hash":"dd9c4c03e99dfde0dfb8edefcb2c933f2f560efc","modified":1768106166867},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/menu-item.njk","hash":"41a8b0cc16f60fa085cb719d07216d86b6bc4bf8","modified":1768106167261},{"_id":"node_modules/hexo-theme-next/layout/_partials/head/head.njk","hash":"5388b157bba4a40b9312f4a45c6678974ccf0837","modified":1768106167074},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/breadcrumb.njk","hash":"89825e75cc45e9709fa6ba89883669eedaff6f46","modified":1768106166875},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/page-header.njk","hash":"7ed4f102a1825195cff8d7995bf9219f323a9034","modified":1768106167312},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/index.njk","hash":"650de421a8ce4cf685428ffbe0087ff84cbd1356","modified":1768106167079},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/categories.njk","hash":"17156d99941f28a225951ffdcfa9a115e20dc2d2","modified":1768106166923},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/sub-menu.njk","hash":"06480d8ec5f0b87eafd47f082f07968d7282dd5c","modified":1768106167563},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/menu.njk","hash":"ee6fc2f111572d3eeab0a2fecbb2d6b3e37ab26b","modified":1768106167269},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/schedule.njk","hash":"0f4bc8e257da60f77c0c1738607b2bde55810684","modified":1768106167532},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-meta.njk","hash":"9fa47e4fb342811da590ee4adc91cf81118c0a39","modified":1768106167393},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/tags.njk","hash":"a18d1598e36cc72f2b0b24c3cc3c5990dfaa3254","modified":1768106167579},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-copyright.njk","hash":"bfff923526d6800218f08dba6ce0bbf5c17755fd","modified":1768106167374},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-followme.njk","hash":"c1e33b4889f75acc490af3c8bde0ec56c518ff41","modified":1768106167383},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-reward.njk","hash":"e8b8a7c41e9ec612d0c0c73419529d55d1c16256","modified":1768106167406},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-related.njk","hash":"e0986db00a0201dd3c60570f964829c84ba5bc68","modified":1768106167402},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/baidu-analytics.njk","hash":"6215309aee028dcb734452beec448c5afb6c63fc","modified":1768106166853},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/cloudflare.njk","hash":"a5b8297c2c383124dd6a56e256ecc0c0dcf489be","modified":1768106166965},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/index.njk","hash":"6ad43135bd3aecf933ffdd750763e27ade36f97c","modified":1768106167091},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-share.njk","hash":"16696990e4ce65fc8db18c4635082a5d5d06ff07","modified":1768106167412},{"_id":"node_modules/hexo-theme-next/layout/_partials/sidebar/site-overview.njk","hash":"bc5708e38b6070dff0cab6bf9480971017ce4dda","modified":1768106167540},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/plausible.njk","hash":"ef9f2bb7110507f1c4336800af9157d5fa9765bd","modified":1768106167345},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/index.njk","hash":"f900306497b133e8b098bd9f4b96b93d1d96c185","modified":1768106167124},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/google-analytics.njk","hash":"d89066ff53879693f023e540d59c86137172c529","modified":1768106167024},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/growingio.njk","hash":"8afaa772c390bd9d53a5cff9645ac3168334eb98","modified":1768106167064},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/chatra.njk","hash":"d7263fca16d0278ccf1f6aa1c6df6902a6344a09","modified":1768106166957},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/matomo.njk","hash":"4e89648a8ec8194c5823064cbca39c938a799006","modified":1768106167245},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/microsoft-clarity.njk","hash":"1efeeda00db08a3c033798228dd0092ee532cc36","modified":1768106167297},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/disqus.njk","hash":"9375b19a89b7fa9474e558d085af5448d4c5c50c","modified":1768106166972},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/changyan.njk","hash":"d1c950f8fbdf85e7a3eae5463767a89e858e8220","modified":1768106166947},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/isso.njk","hash":"64cc3bdaf644fd32c0d0a247f29f5b6904da9af3","modified":1768106167162},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/tidio.njk","hash":"02aab857c27fc103216029be991688b12a73a525","modified":1768106167589},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/gitalk.njk","hash":"b63b7e2ede0d3e66e732fa1a06bda9b19e1e85d4","modified":1768106167010},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/disqusjs.njk","hash":"0749cb6902baecdfd01f779a2a2513f6d2f6a823","modified":1768106166979},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/index.njk","hash":"abf37fc55aa86702118e8fdf5bf2d389dd589aa0","modified":1768106167139},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/livere.njk","hash":"3b13b09fba84ec6000886890a6710736a2b8fafe","modified":1768106167223},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/utterances.njk","hash":"5a94032bc3512a10ad4328fc19ec07b819a1d687","modified":1768106167605},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/firestore.njk","hash":"d32ebe94560fa95824478ebbff531bffc47b194d","modified":1768106167001},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/busuanzi-counter.njk","hash":"55c2468b2b7f035881d494085527d6554f37b556","modified":1768106166905},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/mathjax.njk","hash":"3677017fd4572b158311f5f5d870590ab25184e0","modified":1768106167233},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/index.njk","hash":"568ddf7955d11d93fb5e842b403a7ac8b1b7fdb1","modified":1768106167147},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/katex.njk","hash":"1ebf658690468ea197bdd0416eb7cfa4bd0b083a","modified":1768106167169},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/lean-analytics.njk","hash":"2446e748cdc102c78492216319ac02148db7daf6","modified":1768106167204},{"_id":"node_modules/hexo-theme-next/layout/_third-party/search/algolia-search.njk","hash":"41b28f05e6233fb37700f7151f55868be10a0965","modified":1768106166836},{"_id":"node_modules/hexo-theme-next/layout/_third-party/search/localsearch.njk","hash":"e45ea3542cdc9ed7ec8447b5e6f35df4c5e82758","modified":1768106167230},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/default-config.js","hash":"93ee5f9109dad885dc38c49bcee630c10f9dce6e","modified":1768106164865},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/wavedrom.njk","hash":"02202bf563fb5eedde2ccad4d6c5b9109d30a703","modified":1768106167635},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/changyan.js","hash":"5798cfc8f63665031dd3e01debed051628cec319","modified":1768106164101},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/common.js","hash":"19a402a225c31edffc50f202a14e0d582d3db23e","modified":1768106164665},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/mermaid.njk","hash":"099e031f52fb8e47b3af5b2684737efc9e643ee7","modified":1768106167273},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/disqus.js","hash":"7f71d6b271ba65ff333d5682e7575711d368c0d2","modified":1768106164997},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/gitalk.js","hash":"7bb7dafdd7f6bca8464b54e17e552ce7f1714195","modified":1768106165455},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/livere.js","hash":"5a07d8bb52bc1d51a624ca8db54be144566c306b","modified":1768106165904},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/disqusjs.js","hash":"a600a98e7436edeb31e291abca359885567df3c9","modified":1768106165102},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/pdf.njk","hash":"2c81984cc4f5123103460442f6e046f5b6c97127","modified":1768106167338},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/utterances.js","hash":"d3bded697bc32dace689d2a6dfb6eb7514169d15","modified":1768106166573},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/isso.js","hash":"ff8b5b5145220a17d0ecd9508ba9bd2d3b2da47d","modified":1768106165704},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/config.js","hash":"9ec51eb61f7fee612ffc5252f489003a0fa301fc","modified":1768106164733},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/highlight.js","hash":"8a8f752260be5b8098393f9879b61ffe904465e8","modified":1768106165647},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/injects.js","hash":"d987709267a1bc6e5014411e9983d7c49c102c16","modified":1768106165699},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/navigation.js","hash":"dd3562686d95a50375e6fd32e717ccb0d99c1e3d","modified":1768106166204},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/utils.js","hash":"5942feb3f31ed3480bf50b0f5a4a305b5bdca3d6","modified":1768106166536},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Gemini.styl","hash":"96e0a7c2a65ce68215e17e369085b2ea2f1334f2","modified":1768106167979},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/vendors.js","hash":"e2b4a9d6b08155735ec336eedc506763d5671821","modified":1768106166633},{"_id":"node_modules/hexo-theme-next/source/css/_variables/base.styl","hash":"e814de4dab6aee6153d0a46438c231f94ed05e73","modified":1768106167880},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Mist.styl","hash":"2c800eaab6c613e5d091be2111aaa786641aa0c2","modified":1768106168319},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Pisces.styl","hash":"20d5c6aa136bbb55e03906d98ee90ad3fbaa80a7","modified":1768106168426},{"_id":"node_modules/hexo-theme-next/source/js/third-party/fancybox.js","hash":"819f382c561fe5ec23c67cc5fabd63dd1cc22dc1","modified":1768106165272},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Muse.styl","hash":"879b49f693af0c04c285b2dd0c9cccaf77347b7c","modified":1768106168339},{"_id":"node_modules/hexo-theme-next/source/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1768106166343},{"_id":"node_modules/hexo-theme-next/source/js/third-party/quicklink.js","hash":"eed02e6fced8e5a653077205d4d4d7834ca71472","modified":1768106166407},{"_id":"node_modules/hexo-theme-next/source/js/third-party/addtoany.js","hash":"5276c8f78ee562a8965216dc67d762e59cb4a9f2","modified":1768106161196},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/base.styl","hash":"d898944f9a68da04c9c9bc4afeec4b5595b76783","modified":1768106167865},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Gemini/index.styl","hash":"bcbf498d8d3ecea84324f0a59b7f95f389a52b8d","modified":1768106168191},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/buttons.styl","hash":"a042571d85ff7265f799004239a45f36b716b8a6","modified":1768106167916},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/comments.styl","hash":"e4fecc889ba3317a64e9abba5842c79dff9b7827","modified":1768106167935},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/toggles.styl","hash":"69c66aab4651e2e7ae9e65f08600144970648c60","modified":1768106168747},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/normalize.styl","hash":"b56367ea676ea8e8783ea89cd4ab150c7da7a060","modified":1768106168363},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/umami.njk","hash":"3343750682fbd8535e50f8129be3003ad26015b4","modified":1768106167596},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/pagination.styl","hash":"f4228c759db4a650c8d38745c2edd1dc83c45687","modified":1768106168401},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tables.styl","hash":"e840b23d33023e6d45e018f6e84b683dd56efd8d","modified":1768106168709},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/back-to-top.styl","hash":"b8445c828d78a38e2de50bdc86b3bff66285ea0f","modified":1768106167841},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/index.styl","hash":"2298e521253b3bf376a2412271bc2a7d305051f3","modified":1768106168047},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/index.styl","hash":"8e34df131830d4fa3725e4590a672ba1cf1903e5","modified":1768106168126},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/google-analytics.js","hash":"def07bcc7c17d8a0caad177fb1dd2f3a5e5b3536","modified":1768106165551},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/mobile.styl","hash":"48b2dfc04df6409c6e0736ccc11462ad97d349b1","modified":1768106168335},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/reading-progress.styl","hash":"90a86045a33c1bae49fc2f6fa1e1b53170c7f77b","modified":1768106168545},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/baidu-analytics.js","hash":"f629acc46ff40c071ffd31b77d5c7616f0fdd778","modified":1768106163264},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/matomo.js","hash":"c6a25b26a1443caa70b47fd3dfa282271574deb5","modified":1768106166065},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_header.styl","hash":"dafc6d23c80d6fe3e55a7711e94210d2479b629a","modified":1768106167682},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/growingio.js","hash":"78dd3cf04082b7dbe6246e404b2aa8e726922402","modified":1768106165611},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_layout.styl","hash":"fa4fd8f76464e214fb7318f325b13c2b62f4b478","modified":1768106167712},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_menu.styl","hash":"f23c53e32d140091b819be2603d1afbbb5d66933","modified":1768106167769},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/index.styl","hash":"ab16a3dcdc0393b9b582ef59dcc13db9320e917c","modified":1768106168200},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_posts-expand.styl","hash":"485d23ccb42c0d0c8ead7ea8930dd3e06d79a285","modified":1768106167805},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_header.styl","hash":"dc03835e42d82eaf2633cf3b627990ad3e1f5967","modified":1768106167705},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_layout.styl","hash":"a92c4eb16bdb7806079467eb022ccf193bb0f794","modified":1768106167740},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"778ed2ad5643b93970c95626b325defeb586733f","modified":1768106167836},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_header.styl","hash":"3fbfab591f280e2e7f3b0265901c93bc4bd137ed","modified":1768106167698},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_sidebar.styl","hash":"e792a6233e1d4dbc5fd2f10ae97b7a790b82568b","modified":1768106167822},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_layout.styl","hash":"6569a6640f79d247a8235b3914772c0e2f99ead2","modified":1768106167724},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_menu.styl","hash":"e31f6adbb22a451f07e4661cff9a2f12e4e99a36","modified":1768106167774},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_sub-menu.styl","hash":"c48ccd8d6651fe1a01faff8f01179456d39ba9b1","modified":1768106167829},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/index.styl","hash":"8000075b227749a7495eaf417cac6ccfbe441580","modified":1768106168225},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1768106168208},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_sidebar.styl","hash":"c29a827e82d2820ed8977c92994da73721200fac","modified":1768106167809},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/chatra.js","hash":"c32180522788c10e51df1803aa6842ef0432ddc9","modified":1768106164395},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqus.js","hash":"da361917d65e5dca8362f8cdeb6c8cc0e8316cec","modified":1768106165050},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/tidio.js","hash":"b0079f6a4601e06ca6fe46e83a2f5af553e9bc3c","modified":1768106166503},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/changyan.js","hash":"260d1a77d6a3bb33a579d3e4cca1997003e799b5","modified":1768106164278},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqusjs.js","hash":"1e826dea3f684c0515f362dc1352447a1f0eae71","modified":1768106165165},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/gitalk.js","hash":"0ec038cf83e8ec067534f16a54041e47a3c1e59a","modified":1768106165507},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/isso.js","hash":"753a873b6f566aff5ba77ca23f91b78eb880ca64","modified":1768106165735},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/utterances.js","hash":"f67f90eb03e284c82da2b8cf2f1e31801813c16d","modified":1768106166602},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/livere.js","hash":"2247d88c934c765c43013337860774aaa99f0b31","modified":1768106165936},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/katex.js","hash":"83c54ee536e487a1031783443fe0cb63b1b4767e","modified":1768106165772},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1768106166020},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/lean-analytics.js","hash":"835cbf54c49ef1327f47df70ff2636ad36b6f57d","modified":1768106165839},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/local-search.js","hash":"4262628e173b16c4c6c18f817173dd103fb9e9a8","modified":1768106165969},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/firestore.js","hash":"6e0682bb42170d61b13b786295f45f9c785f8b73","modified":1768106165336},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/algolia-search.js","hash":"111f60e26b82b4d5be4357737e9273617778c9a9","modified":1768106161808},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1768106166369},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"d6418fd2bbfba7b73ddf11ec62db9637fdf5d8af","modified":1768106167892},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/mermaid.js","hash":"1d1b6d847215b16f26b230859d7e16501190ecc0","modified":1768106166120},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/wavedrom.js","hash":"40dcd10df6edf124088c329346e0cc0bdac74ef1","modified":1768106166700},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/index.styl","hash":"22cd37bd5df9972d5074710896aba4424ad5161c","modified":1768106168174},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"393ff96234e4196b569d4b11496774eb78e147de","modified":1768106168024},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/label.styl","hash":"debee14539272fbe3835a7d3853af2230baa3501","modified":1768106168255},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/note.styl","hash":"8213015d9cae45d2c9945f8aba9d8db39c734efc","modified":1768106168395},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/link-grid.styl","hash":"49329a7144f3413d1c832e52a1f4954171ef11e1","modified":1768106168273},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/mermaid.styl","hash":"48d35dba575a7c9e8845b16652e76b7d4a4646de","modified":1768106168307},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/pdf.styl","hash":"b6654a1d7cf82577d8263faffee8af3ad4a5c0e8","modified":1768106168418},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/tabs.styl","hash":"c3be8b0738f693e750486bb71769c3dbbec174cc","modified":1768106168723},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/wavedrom.styl","hash":"af113411ad9cca7674177be36af8dd399680834d","modified":1768106168776},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/index.styl","hash":"9b0217e1caecd91e05572c7e8e52d32016ca312f","modified":1768106168147},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/breadcrumb.styl","hash":"8afdc311c6b8db121758371f95cf1c5e77354f42","modified":1768106167903},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/fold.styl","hash":"42a0b65491ad85438596b3fe0b7f23973e4cef34","modified":1768106167974},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"f634f94828620e88c3f5a8db56f7944f6ba232b0","modified":1768106167946},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/categories.styl","hash":"51a97a33879289904cb523ddc2d88b5b0c60fa72","modified":1768106167929},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/index.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1768106168061},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/schedule.styl","hash":"6b816c2511242ee503fb5f34cd3e4dcdafc06b85","modified":1768106168598},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/tag-cloud.styl","hash":"1a81d1a71fcf0699629ce6e72dfd0a15f3a2dd0a","modified":1768106168730},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/footer/index.styl","hash":"4e967702cf4c637132346bc74ec8854426f1a68c","modified":1768106168099},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/index.styl","hash":"098d4bd034e986fcf7e443eac4fc2193935461b7","modified":1768106168070},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-collapse.styl","hash":"809bab3414b1eb1ae44444eb821126868f764414","modified":1768106168456},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-body.styl","hash":"93f014809d6442da23f8b7d729f7375e2badba7d","modified":1768106168442},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-footer.styl","hash":"11497388f124bfbb4001495a67d3629a9f618405","modified":1768106168472},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-header.styl","hash":"1191f1bfa5c43e54be8e5b3cc0d802984e161747","modified":1768106168490},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-gallery.styl","hash":"aa366d37389760c8595529b850f461569577a1c5","modified":1768106168479},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-reward.styl","hash":"b47fb36915962309553ff7fb1782341585ed2b76","modified":1768106168523},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/github-banner.styl","hash":"38c64c2d04e46848382bfa246a0e9c508294767b","modified":1768106168001},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-nav.styl","hash":"9ac6f477177264c26a46e8333b8456720a0444dc","modified":1768106168505},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/bookmark.styl","hash":"e74f4bb47a101b014ee2a1783c87f3b87323f9a0","modified":1768106167898},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/menu.styl","hash":"a3dd3edea9c01b66b28a8367185269b9dcc3bdee","modified":1768106168301},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/index.styl","hash":"6e0d0796ef7fbbb62ffdfb448753a850de82c74f","modified":1768106168105},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-widgets.styl","hash":"ebfba158a0a4af3d1dabcacbc58986664de52140","modified":1768106168538},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/disqusjs.styl","hash":"877a537d5b95beb048142e4fdee6f17e6ef9c7bb","modified":1768106167959},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/site-meta.styl","hash":"a851e9d5aefcd027c95eeb323860b6da70f202d1","modified":1768106168666},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/site-nav.styl","hash":"bf3ad8b4268f763a1e26377681644887694bc009","modified":1768106168676},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/gitalk.styl","hash":"8f094c4ac17e2ab45569b12d157747f9c7333c12","modified":1768106167991},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_menu.styl","hash":"a03f16ffc7dfdbdc6053f9fd68d77257ba0c559e","modified":1768106167788},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/search.styl","hash":"be60b8dacd4dc9d2b1b68982dc4f0c5325b9a315","modified":1768106168604},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/utterances.styl","hash":"56d90ae0559caa55b75f3c300ff2711f9ed65fc4","modified":1768106168767},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/related-posts.styl","hash":"b05908f04ef95f2d91e6eba89b12411c378d050f","modified":1768106168571},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-followme.styl","hash":"1ecfd64507954810b07a9d21fb5305b5378feda0","modified":1768106168463},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/index.styl","hash":"54d12e2c5d9982f7b9e5b23be5133954a8514e9d","modified":1768106168087},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/index.styl","hash":"21acb11e397526132605eef23bde7b307aa1eab5","modified":1768106168137},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"0847400d8579b0a2dd1bf662c78954c10adf2680","modified":1768106168609},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/math.styl","hash":"9d995eb4871a6c273d9d51558676a1fdabf69e72","modified":1768106168296},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"46eece42510c2c89bb9209afb0262ad76a4b0b36","modified":1768106168634},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/index.styl","hash":"523fb7b653b87ae37fc91fc8813e4ffad87b0d7e","modified":1768106168159},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"86b110899eaae51b85c4c95eadfe7a912e58a813","modified":1768106168627},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"24752d145c6fb8f5344dca9c7b9640839c02e009","modified":1768106168640},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-copyright.styl","hash":"56805b77fe236fac19e19c716a49363bcf986311","modified":1768106168636},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"5b38ac4a0f1ade0e681aff0e3366c481d9cf3dcd","modified":1768106168621},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"c2e354a565c8c1b32bd0ceacc972b17982758b67","modified":1768106168642},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/site-state.styl","hash":"26dd0adfcb1db6df29c6090c8d7e9b5a43583fb0","modified":1768106168705},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"741566d6ac5f852b5c8dee6a8996b65e48e7c97f","modified":1768106168645},{"_id":"public/search.json","hash":"b4102c5d4195f80e57d5c763b577f42c74e03a7d","modified":1768108662213},{"_id":"public/about/index.html","hash":"41bf20b4714f23ea99eca5aa9e35eae37bf641e3","modified":1768108662213},{"_id":"public/tags/index.html","hash":"bd9a6cb4b709d0d85e4e9aafe12e2f8b8a34b6ca","modified":1768108662213},{"_id":"public/categories/index.html","hash":"7a422675483ec208f6bf78c2586851ace3ea0ecd","modified":1768108662213},{"_id":"public/HMT-page/index.html","hash":"46eb81575ddcdfee66af8497ab0bdd39c2b89d6d","modified":1768108662213},{"_id":"public/2026/01/11/xpp-runbasebatch-how-to-enable-run-in-batch/index.html","hash":"889bd36fea7be5c9eae246ad0fb9c687544c6437","modified":1768108662213},{"_id":"public/2026/01/11/xpp-dontsavebatchjobcache/index.html","hash":"0f5993bc3cb4382df5f4a1c308b5d74d5088e15f","modified":1768108662213},{"_id":"public/2026/01/11/xpp-runbase-how-to-enable-cache-mechanism/index.html","hash":"80110a5c5bbfff5971ffee6925e8832d3f533c81","modified":1768108662213},{"_id":"public/2026/01/11/xpp-runbase-how-to-add-record-to-include/index.html","hash":"2456d592762096f186848b0acb409a91ad0d26a2","modified":1768108662213},{"_id":"public/2025/07/14/xpp-addbarcodetossrs/index.html","hash":"a139cc04d8c8013bd3bff06a2a1933bba0ea4272","modified":1768108662213},{"_id":"public/2025/07/14/xpp-ImplementTheSysExtensionSerializer/index.html","hash":"95e7ac59f2b4d128dab0841038084bfe89caf9ad","modified":1768108662213},{"_id":"public/2025/07/14/d365-cloneandconfigurd365fofromgithub/index.html","hash":"d5badc3563841e1ac3ad458152f4de6dc3e0e47e","modified":1768108662213},{"_id":"public/2025/07/13/hmt-installtutorial/index.html","hash":"498ba2a3727945fbc336115920b9513aefc92058","modified":1768108662213},{"_id":"public/2025/07/11/xpp-noyesdialog/index.html","hash":"80bc82f4e5c3607399b767f30bbe97838cde5bd0","modified":1768108662213},{"_id":"public/2025/07/11/xpp-createanewssrsreport/index.html","hash":"a9e8bbcee5c0036b2ec80aed2a5d4d96d0a30b15","modified":1768108662213},{"_id":"public/2025/07/11/xpp-numbersequencedevelop/index.html","hash":"1727df479cbc01101de39868c017a82628b04e7b","modified":1768108662213},{"_id":"public/2025/07/11/xpp-multipleselectionforformgrid/index.html","hash":"08bcd102f7c9edb6f08518dcfcf02a90c4f10760","modified":1768108662213},{"_id":"public/2025/07/11/xpp-extendsubbillingschedule/index.html","hash":"b5d9a68233861ed4244549a2861d958ee764b617","modified":1768108662213},{"_id":"public/2025/07/09/xpp-extendedvendtransandcusttrans/index.html","hash":"db05df42d1f90256295f0f104b8f547f7eff00a8","modified":1768108662213},{"_id":"public/2025/07/09/xpp-extendsalesinvoicereport/index.html","hash":"343114f59d3ccf354de32593a45bc80bd2b459d1","modified":1768108662213},{"_id":"public/2025/07/11/xpp-reversaltrans/index.html","hash":"ea9804569c59b1b0aedb87296d30edb57c9e2320","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/index.html","hash":"c5e4efd8cf16c3c842714511752fc79b56efd654","modified":1768108662213},{"_id":"public/2025/07/09/xpp-createledgerjournals/index.html","hash":"45f2847a173cd42d3b470eda09698bd134f0b568","modified":1768108662213},{"_id":"public/2025/07/08/xpp-getselectedrecords/index.html","hash":"96dd61c943d4357a826bbc57e9396ef22b384601","modified":1768108662213},{"_id":"public/2025/07/08/d365-transferjournalandtransferorder/index.html","hash":"53b44cd96e57504d060f0beda0246cfe825ae8d1","modified":1768108662213},{"_id":"public/2025/07/08/xpp-onhandinvent/index.html","hash":"12c97f90228e07efce5211e1fc240385dca22f7d","modified":1768108662213},{"_id":"public/2025/02/23/xpp-debug-configuration/index.html","hash":"6c0df0ac2b6cca558a6d1c2973878c76678f90aa","modified":1768108662213},{"_id":"public/2025/01/18/xpp-open-in-office/index.html","hash":"3f270ff655c9f755fba8c82e05fc3042064529f8","modified":1768108662213},{"_id":"public/2024/12/23/mssql-clear-log/index.html","hash":"b3338a530275ce8eb35af7d286674d4e83600e79","modified":1768108662213},{"_id":"public/2024/12/23/xpp-merge-ledger-account/index.html","hash":"fc4a7123579e7559dc183da64abd09a0b2135c40","modified":1768108662213},{"_id":"public/2025/07/11/xpp-copyadditemsfeature/index.html","hash":"e976db6d63c3efd8302ef71c10e0e97625b4b9b8","modified":1768108662213},{"_id":"public/2024/12/23/xpp-api-list/index.html","hash":"242b1d0e802dbb9a7b70f423f7d20bdef247b0e4","modified":1768108662213},{"_id":"public/archives/index.html","hash":"a9b63e0664dd0d39ab4b63c2cd10a866a54191a2","modified":1768108662213},{"_id":"public/archives/page/3/index.html","hash":"bed99400b363ea23a811c5cce0a393ebfdbcaff8","modified":1768108662213},{"_id":"public/archives/2024/index.html","hash":"785c397db73152638d71e77ed8e1142bafd887b3","modified":1768108662213},{"_id":"public/archives/2025/index.html","hash":"cda6dc8ea0c32de799e6bd26b43036ac56c6021b","modified":1768108662213},{"_id":"public/archives/2024/12/index.html","hash":"0d06a952d3efa94f34d76b5c646a3a08cf54fcce","modified":1768108662213},{"_id":"public/archives/page/2/index.html","hash":"aa93638da1b7006b2ed4a1387f2ef5d0b4fdd181","modified":1768108662213},{"_id":"public/archives/2025/page/2/index.html","hash":"8999276e165bf618117af6f27d8c5aa5cb78dfd9","modified":1768108662213},{"_id":"public/archives/2025/01/index.html","hash":"3068af58c6390a676d98f5bf1e8865e599cc1575","modified":1768108662213},{"_id":"public/archives/2025/02/index.html","hash":"8e39e5ae4f4f9d90318d831e6e314e8365af2b85","modified":1768108662213},{"_id":"public/archives/2025/07/index.html","hash":"09448c14b7dd6a83aae0064178f0d49164e2ba6e","modified":1768108662213},{"_id":"public/archives/2025/07/page/2/index.html","hash":"7f2c929279eb47d506659c5f8afa105ec52b0af0","modified":1768108662213},{"_id":"public/archives/2026/index.html","hash":"6ed17daec0816c45b56986345bb5d25ec75385c0","modified":1768108662213},{"_id":"public/archives/2026/01/index.html","hash":"fa718519d437c0624875e72981c529ef7d45bdd3","modified":1768108662213},{"_id":"public/categories/x/index.html","hash":"522938bcd355e0ac7f62c28420fa217e2a3ea990","modified":1768108662213},{"_id":"public/page/2/index.html","hash":"78b6034c9c40fef7e09e05b2bf45419305741056","modified":1768108662213},{"_id":"public/categories/d365/index.html","hash":"b50a97f2bf4be5faeaf5014bee04c0b1a40f76bb","modified":1768108662213},{"_id":"public/categories/x/page/2/index.html","hash":"ffd618612506b0ea7461c40b05470c3621aa7e6b","modified":1768108662213},{"_id":"public/categories/t-sql/index.html","hash":"c52a813d8944d793f4ef9d887622383b616d65cd","modified":1768108662213},{"_id":"public/categories/x/page/3/index.html","hash":"f035e6ac51344290a86f0422307aa251d25afa33","modified":1768108662213},{"_id":"public/tags/git/index.html","hash":"2dd031d4212bc319152328692b959a3b77180828","modified":1768108662213},{"_id":"public/tags/HMT/index.html","hash":"dae306fcc3424a8d3cc17183964b28e380fffb62","modified":1768108662213},{"_id":"public/index.html","hash":"7b43676698a00ba0bdc80b83b1e94a70ed1dfa9d","modified":1768108662213},{"_id":"public/tags/Table/index.html","hash":"70baff86def1f14c9e847ff7e86f87710be13938","modified":1768108662213},{"_id":"public/tags/LedgerJournalTrans/index.html","hash":"2ac1b5b15105493007f710d376c5f14791e4852b","modified":1768108662213},{"_id":"public/tags/Extend/index.html","hash":"428034b5c3719abcbf30626299a8a6b93216c119","modified":1768108662213},{"_id":"public/tags/ssrs/index.html","hash":"1b525c722c22b8daefbd646548bc5e09c845a177","modified":1768108662213},{"_id":"public/tags/RunBase/index.html","hash":"6ef420b4373dd89ced9a7ba2e3dc95d04171782f","modified":1768108662213},{"_id":"public/tags/CustTrans/index.html","hash":"b6b20dcc4ad12224d0ac85a0f6775557ef2b9740","modified":1768108662213},{"_id":"public/tags/VendTrans/index.html","hash":"b5ca555f529fbf75433e20349aa0942658d645a9","modified":1768108662213},{"_id":"public/tags/Reversal/index.html","hash":"b5ea00e1bc3591c3f033dbf98e9fd4aa80ff0f2e","modified":1768108662213},{"_id":"public/tags/SalesTable/index.html","hash":"b2c0c5ee4771460c0f9dbfd856ac98078bd5fbcc","modified":1768108662213},{"_id":"public/tags/SubBillingSchedule/index.html","hash":"d5e56f9f8e955d9c4c56ad8554b379779eb6550a","modified":1768108662213},{"_id":"public/tags/sales-invoice-report/index.html","hash":"28018d913455a78a0b00287a9993410e44508c6b","modified":1768108662213},{"_id":"public/tags/SubBillingScheduleLine/index.html","hash":"ee9a31b87b8da7b7926d83349366496cec21ed42","modified":1768108662213},{"_id":"public/tags/Lookup/index.html","hash":"205fa074542f23d4b39adf269af1434a6ac2bb38","modified":1768108662213},{"_id":"public/tags/SalesLine/index.html","hash":"94ce9997619c4cc224cc81e3a0c7864e2eb2a2b3","modified":1768108662213},{"_id":"public/tags/Multiple-Selection-Lookup/index.html","hash":"e3517d50ee813bba2c5e3cf36f7136a96b592538","modified":1768108662213},{"_id":"public/tags/Form/index.html","hash":"1816c25a909846e31630a547311a68770b16323d","modified":1768108662213},{"_id":"public/tags/Dialog/index.html","hash":"554e574263ea0d3f0ea809a8e364679d9926a32f","modified":1768108662213},{"_id":"public/tags/Grid/index.html","hash":"4e9aaea5380843be554c1ebe307aaef8399333f2","modified":1768108662213},{"_id":"public/tags/NumberSeq/index.html","hash":"27e8e86c0d549a7f714caf54bd10df0ed0c65bf1","modified":1768108662213},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1768108662213},{"_id":"public/images/Dynamics365_scalable.svg","hash":"01e415236e40c62bc0e6dfd25ba77029da633506","modified":1768108662213},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1768108662213},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1768108662213},{"_id":"public/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1768108662213},{"_id":"public/images/logo.svg","hash":"099e11ab995a2c8981427a85476d082609848c77","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-27.png","hash":"de48bdae84d2a1a77c633a2c30e53a21e18eb968","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-33.png","hash":"ec604517556bf16ab9448283c0873bf90f34e1d1","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-34.png","hash":"2593bfaf1630ded5a9ff93a16523baa76cd6fd68","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-35.png","hash":"7fb5f7b8976a0c97d8fc4a6745fb1e02fb4d18fb","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-40.png","hash":"b68afe36ee486b98ee47478e75233e12b48cb25f","modified":1768108662213},{"_id":"public/2025/07/13/hmt-installtutorial/Picture2.png","hash":"71f0ff041605e80560a383ce5b0ee2ee4f46dca8","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-46.png","hash":"27de22407cd73be14bbb8b8d1eb2cdc39e98207f","modified":1768108662213},{"_id":"public/2025/07/13/hmt-installtutorial/Picture1.png","hash":"b071995d665f105e9e4d4d15e3c188ce11cc331d","modified":1768108662213},{"_id":"public/2024/12/23/mssql-clear-log/mssql-clear-log.png","hash":"6d6f92e238a5d60b3aa370640dede1dc58eed509","modified":1768108662213},{"_id":"public/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot of the My Cust Table showing the Sys Extension Serializer Map_.png","hash":"e72eff2d337d914d5e5ae02151b8af5db0500fde","modified":1768108662213},{"_id":"public/2025/07/09/xpp-createledgerjournals/CopyJournalDialog.png","hash":"25303d1dd4597662e713aea913d973c651e212d6","modified":1768108662213},{"_id":"public/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot of the Properties form showing the relation to the standard table_.png","hash":"a13d6c4406d5ee248374acfb483a76e12e982920","modified":1768108662213},{"_id":"public/2024/12/23/xpp-api-list/xpp-api-list-recordinsertlist.png","hash":"6b0ec9fa8ce8c1b94ea0d400e25d964a86a2f048","modified":1768108662213},{"_id":"public/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot of the Properties form showing that the Replacement Key is set to the Alternate key_.png","hash":"32d042f2f222d493b81e21bbc3e03f49c179d422","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-47.png","hash":"eda554c0565f8c1882cd9090c94b7bb7de0e3560","modified":1768108662213},{"_id":"public/2025/07/09/xpp-extendsalesinvoicereport/PrintedReport.png","hash":"ee10b1df43cc58741e77e0192d14728fde77482a","modified":1768108662213},{"_id":"public/2025/07/09/xpp-extendsalesinvoicereport/CreateNewReport.png","hash":"b5f00e4ecfbc1bc1d0a800c707b594525e9f4fbc","modified":1768108662213},{"_id":"public/2025/07/09/xpp-extendsalesinvoicereport/LineTablix.png","hash":"0d5a34ba225a6fd813af06f0a5d61bc0f2190b87","modified":1768108662213},{"_id":"public/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot showing the Cust Table_.png","hash":"25e6bf55e6795b1f51a5630253d4d8de0051b386","modified":1768108662213},{"_id":"public/2026/01/11/xpp-runbase-how-to-add-record-to-include/batchjobdialog.png","hash":"0f1ec59517ab84ac601390e5f390cfefbea570a4","modified":1768108662213},{"_id":"public/2025/07/09/xpp-extendsalesinvoicereport/ReportDatasets.png","hash":"2b4bf1e0b1dcda4eb3ac57775b533da6ff55f851","modified":1768108662213},{"_id":"public/2025/01/18/xpp-open-in-office/xpp-open-in-office.png","hash":"e5597ae72ec0f393eefdba5b392300a018ad3a67","modified":1768108662213},{"_id":"public/2025/07/09/xpp-extendsalesinvoicereport/ReportProperties.png","hash":"78702a1c847e3d681ad301364e6bf3be0919e6c0","modified":1768108662213},{"_id":"public/2025/07/09/xpp-extendsalesinvoicereport/RowVisibility.png","hash":"5811a60c2bedb1e5991595793fb10c4769ea2c90","modified":1768108662213},{"_id":"public/2025/07/09/xpp-extendsalesinvoicereport/ReportResulting.png","hash":"542a0313ed57d414c387e10689e27a4268e4a340","modified":1768108662213},{"_id":"public/2025/01/18/xpp-open-in-office/xpp-open-in-office2.png","hash":"d34920c5e53717299fbae46a4382ed2373ea5c07","modified":1768108662213},{"_id":"public/2025/01/18/xpp-open-in-office/xpp-open-in-office3.png","hash":"35a5d7ece7eef51acd7d862a869a63a47492fb64","modified":1768108662213},{"_id":"public/2026/01/11/xpp-runbase-how-to-enable-cache-mechanism/image-20260110214346484.png","hash":"7d116d3df5c93a3f0a7decded2ee2879e56668ed","modified":1768108662213},{"_id":"public/2026/01/11/xpp-runbasebatch-how-to-enable-run-in-batch/image-20260111105512293.png","hash":"89f94b1a125af0f8c44bd3f2f0d4ac0f7c787cf2","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-26.png","hash":"016684a9a67b88995178c6ac622ff55ab93d6da4","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-28.png","hash":"13abe5ec8b08ff38590067cca417e827a5e266af","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-30.png","hash":"de42324e871c07bdb8c4adea25f68f13888e4519","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-32.png","hash":"b0ef1f1f666228328d934a3724cb20125ecabb3d","modified":1768108662213},{"_id":"public/css/main.css","hash":"5f91f892213bf5f8326efbb14e61c3a18bccde7e","modified":1768108662213},{"_id":"public/css/noscript.css","hash":"4cd5301e478e0e0d4b176740ec314087ec5cb707","modified":1768108662213},{"_id":"public/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1768108662213},{"_id":"public/js/bookmark.js","hash":"9ba4cceafd12c6d5ba8a6b986a046ef8319a7811","modified":1768108662213},{"_id":"public/js/next-boot.js","hash":"8e2d589585f5270ee90285d3e65b69923c7629d8","modified":1768108662213},{"_id":"public/js/sidebar.js","hash":"2ee359ae48273b01ba1e0768704524e08702c7eb","modified":1768108662213},{"_id":"public/js/motion.js","hash":"6f751f5c9499a39d7c5e1d323db3260342dd9431","modified":1768108662213},{"_id":"public/js/utils.js","hash":"d7954a623be2ee9fe3eadc785b17c17afac6c34d","modified":1768108662213},{"_id":"public/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1768108662213},{"_id":"public/js/third-party/addtoany.js","hash":"5276c8f78ee562a8965216dc67d762e59cb4a9f2","modified":1768108662213},{"_id":"public/js/third-party/search/local-search.js","hash":"4262628e173b16c4c6c18f817173dd103fb9e9a8","modified":1768108662213},{"_id":"public/js/third-party/analytics/matomo.js","hash":"c6a25b26a1443caa70b47fd3dfa282271574deb5","modified":1768108662213},{"_id":"public/js/third-party/tags/mermaid.js","hash":"1d1b6d847215b16f26b230859d7e16501190ecc0","modified":1768108662213},{"_id":"public/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1768108662213},{"_id":"public/js/third-party/tags/wavedrom.js","hash":"40dcd10df6edf124088c329346e0cc0bdac74ef1","modified":1768108662213},{"_id":"public/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-36.png","hash":"320f9ca1c9e69181dbbc5be81ea5e8caae2ac542","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-37.png","hash":"037b833b85e1e42ad5ac7244d2a8eb9e30a7675c","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-41.png","hash":"ac96eeb43d3359e034c621fc60be82a6a4888a6a","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-39.png","hash":"32f1bad5545503d89baa2248a94d5538c5753cdc","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-45.png","hash":"08c4558e4823d176aa54df442cf59dd8782bcd67","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-49.png","hash":"81f1efe62befe58767343604fb4754c0fbe850e6","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-42.png","hash":"eaf909332d594faffa98bca18ea992adc09e14b0","modified":1768108662213},{"_id":"public/2025/07/13/hmt-installtutorial/Picture4.png","hash":"173775be1f996f2208efec169aea9b3f75d6652a","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-48.png","hash":"da3598ac9bd996c78751f89c9f8007c581ea3b67","modified":1768108662213},{"_id":"public/2025/02/23/xpp-debug-configuration/xpp-debug-configuration.png","hash":"f613c9fc9f3dd1eb3a5b54aa158cde9224f0cc9e","modified":1768108662213},{"_id":"public/images/avatar.jpg","hash":"c77064a12ff3c33295598885dc3d408ca233a4c8","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-25.png","hash":"e5d04a6b69c0703a0e907a920bcdfedf46414c4b","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-31.png","hash":"dc60ecd9e823683c09c36f7eda1c52d15f612358","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-38.png","hash":"ee6aa6b26b27219937f83f52bb5e1b102e9af66d","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-43.png","hash":"a132ae3278112f876f61f6d1f886df17cf63556d","modified":1768108662213},{"_id":"public/2025/07/13/hmt-installtutorial/Picture3.png","hash":"b638f3f4a04050b45d3a075b08fe781b158482e9","modified":1768108662213},{"_id":"public/2025/07/08/d365-documentroutingconfiguration/image-29.png","hash":"b2c239135d5a4787fd8f933a6d22fb6694d9e0da","modified":1768108662213}],"Category":[{"name":"d365","_id":"cmk9a8vpa00040cqkaiwo3anz"},{"name":"x++","_id":"cmk9a8vph000h0cqkaoyze39l"},{"name":"t-sql","_id":"cmk9a8vpk000t0cqkevw0czgk"}],"Data":[],"Page":[{"title":"about","date":"2024-12-22T14:10:18.000Z","type":"about","comments":0,"_content":"\nHello there! My name is Willie Yao. I am a Dynamics 365 F&O developer.","source":"about/index.md","raw":"---\ntitle: about\ndate: 2024-12-22 22:10:18\ntype: \"about\"\ncomments: false\n---\n\nHello there! My name is Willie Yao. I am a Dynamics 365 F&O developer.","updated":"2025-12-26T03:11:02.941Z","path":"about/index.html","layout":"page","_id":"cmk9a8vp500000cqk0tojbo37","content":"<p>Hello there! My name is Willie Yao. I am a Dynamics 365 F&amp;O developer.</p>\n","excerpt":"","more":"<p>Hello there! My name is Willie Yao. I am a Dynamics 365 F&amp;O developer.</p>\n"},{"title":"categories","date":"2024-12-22T09:12:29.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2024-12-22 17:12:29\ntype: \"categories\"\n---\n","updated":"2025-12-26T03:11:02.942Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cmk9a8vp900020cqk1ju49x6b","content":"","excerpt":"","more":""},{"title":"tags","date":"2024-12-22T09:12:48.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2024-12-22 17:12:48\ntype: \"tags\"\n---\n","updated":"2025-12-26T03:11:02.945Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cmk9a8vpb00060cqkam9dgi85","content":"","excerpt":"","more":""},{"title":"HMT","comments":1,"date":"2025-07-13T08:58:23.000Z","tags":null,"categories":null,"description":null,"_content":"","source":"HMT-page/index.md","raw":"---\ntitle: HMT\ncomments: true\ndate: 2025-07-13 16:58:23\ntags:\ncategories:\ndescription:\n---\n","updated":"2025-12-26T03:11:02.878Z","path":"HMT-page/index.html","layout":"page","_id":"cmk9a8vpc00080cqkhu364apq","content":"","excerpt":"","more":""}],"Post":[{"title":"How to Clone and Configure a D365FO Project From GitHub","comments":1,"date":"2025-07-14T11:50:48.000Z","description":"This article explains how to clone and configure the d365 project using git and github. This is a good example that can be referred to.","_content":"\n> Reprint from: https://alexdmeyer.com/2024/04/29/how-to-clone-and-configure-a-d365fo-project-from-github/\n\n**For reference only.**","source":"_posts/d365-cloneandconfigurd365fofromgithub.md","raw":"---\ntitle: How to Clone and Configure a D365FO Project From GitHub\ncomments: true\ndate: 2025-07-14 19:50:48\ntags:\n - git\ncategories:\n - d365\ndescription: This article explains how to clone and configure the d365 project using git and github. This is a good example that can be referred to.\n---\n\n> Reprint from: https://alexdmeyer.com/2024/04/29/how-to-clone-and-configure-a-d365fo-project-from-github/\n\n**For reference only.**","slug":"d365-cloneandconfigurd365fofromgithub","published":1,"updated":"2025-12-26T03:11:02.879Z","layout":"post","photos":[],"_id":"cmk9a8vp700010cqkfkchcc3r","content":"<blockquote>\n<p>Reprint from: <a href=\"https://alexdmeyer.com/2024/04/29/how-to-clone-and-configure-a-d365fo-project-from-github/\">https://alexdmeyer.com/2024/04/29/how-to-clone-and-configure-a-d365fo-project-from-github/</a></p>\n</blockquote>\n<p><strong>For reference only.</strong></p>\n","excerpt":"","more":"<blockquote>\n<p>Reprint from: <a href=\"https://alexdmeyer.com/2024/04/29/how-to-clone-and-configure-a-d365fo-project-from-github/\">https://alexdmeyer.com/2024/04/29/how-to-clone-and-configure-a-d365fo-project-from-github/</a></p>\n</blockquote>\n<p><strong>For reference only.</strong></p>\n"},{"title":"Document Routing Agent in D365 F&O","comments":1,"date":"2025-07-08T12:33:46.000Z","description":"Document Routing Agent in D365 F&O","_content":"\n> Reprinted from: https://mohitrampal.com/2023/03/20/document-routing-agent-in-d365-fo/\n\n> You can also watch video: https://www.youtube.com/watch?v=oG6n2PA-Phs\n\n> Chinese version: https://www.cnblogs.com/lingdanglfw/p/14141545.html\n\n> Official documentation: https://learn.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/er-design-zpl-labels\n\n> ZPL View: https://labelary.com/viewer.html\n\nThe Document Routing Agent (DRA) is an application that resides on the Customers network, to act as a bridge between the internet-hosted Dynamics 365 (D365 F&O) system and Customers network printers.\n\n{% asset_img \"image-25.png\" \"image-25\" %}\n\nDRA tool is Supported on Windows 8.1, Windows 10, Microsoft Windows Server 2012 R2, Microsoft Windows Server 2016, or Microsoft Windows Server 2019.\n\nDRA run as either a desktop application or a Microsoft Windows service.\n\nDRA as a Service can be configured to start automatically after a computer restart, so no user intervention is required. However, When the Document Routing Agent runs as a Windows service, document reports, such as checks, that require custom margins cant be printed directly to network printers. Instead, the Document Routing Agent automatically routes those documents to a target folder.\n\nDRA as a desktop application uses Adobe Reader to spool the document to the shared printer device chosen in finance and operations. Microsoft recommends installing the Document Routing Agent in several places to manage situations when documents with custom margins need to be printed. The printers for those documents should thus only be installed on Document Routing Agents that will operate in desktop application mode. As an alternative, you can pick up the files in the target directory and guide them in the right direction using a post-execution process.\n\n## Steps to Install & Configure DRA\n\nSign in to D365 F&O environment which you want to configure in the DRA tool.\n\n1. Go to Organization Administration>Setup>Network Printers\n2. Click on Download Document Routing Agent Installer.\n\n{% asset_img \"image-26.png\" \"image-26\" %}\n\n3. Ensure that you are logged in as Admin user. Run the downloaded file and complete the setup.\n4. Open the DRA tool and sign in with Admin account.\n\n{% asset_img \"image-27.png\" \"image-27\" %}\n\n5. Click on Settings Button and enter values in all the fields.\n\n{% asset_img \"image-28.png\" \"image-28\" %}\n\n6. If Run as Windows Service checkbox is checked, then DRA will run as a Service. To run as service, window service should be set up and running.\n\nRight click on the highlighted Service and click on Properties.\n\n{% asset_img \"image-29.png\" \"image-29\" %}\n\nClick on Log On tab and add your Admin/Service account.\n\n{% asset_img \"image-30.png\" \"image-30\" %}\n\nPlease note that step 6 is not required if running as an Application (Run as a window service checkbox is unchecked).\n\n7. Start the service and go back to step 5 and Click on Printers.\n\nOnly printers which are registered will be visible in D365 F&O.\n\n{% asset_img \"image-31.png\" \"image-31\" %}\n\n8. After registering a printer, go to D365 F&O (Organization Administration>Setup>Network Printers) and activate the printer.\n\n{% asset_img \"image-32.png\" \"image-32\" %}\n\n9. Now, you can test it in your reports by using Network Printer as shown below (after printing to screen), or setting up the print management.\n\n{% asset_img \"image-33.png\" \"image-33\" %}\n\nI had a requirement to test multiple network printers based on specific values, like if department is A the document should route to PrinterA, if department is B, it should go to PrinterB etc. This configuration was done in print management of report and I tested with dummy Printers and OneNote.\n\nYou can setup a dummy printer by going to Printers & Scanners.\n\n- Click on Add a Printer or Scanner button.\n\n{% asset_img \"image-34.png\" \"image-34\" %}\n\n- Click on The printer that I want isnt listed.\n\n{% asset_img \"image-35.png\" \"image-35\" %}\n\n- Select last option as below screenshot and click Next.\n\n{% asset_img \"image-36.png\" \"image-36\" %}\n\n - Select Nul port and click Next.\n\n{% asset_img \"image-37.png\" \"image-37\" %}\n\n - Select Microsoft Print to PDF and click Next\n\n{% asset_img \"image-38.png\" \"image-38\" %}\n\n{% asset_img \"image-39.png\" \"image-39\" %}\n\n- Specify printer name and click Next.\n\n{% asset_img \"image-40.png\" \"image-40\" %}\n\n{% asset_img \"image-41.png\" \"image-41\" %}\n\n- Click on Open Queue of Printer and Pause Printing.\n\n{% asset_img \"image-42.png\" \"image-42\" %}\n\n- As mentioned earlier, you need to register the printer.\n\n{% asset_img \"image-43.png\" \"image-43\" %}\n\n- After registering the printer, it will be visible in D365 F&O. Activate the printer.\n\n{% asset_img \"image-44.png\" \"image-44\" %}\n\n{% asset_img \"image-45.png\" \"image-45\" %}\n\n- As you can see, After report is printed on screen, I can select my new printer.\n\n{% asset_img \"image-46.png\" \"image-46\" %}\n\n{% asset_img \"image-47.png\" \"image-47\" %}\n\n- The document will be visible in print queue.\n\n{% asset_img \"image-48.png\" \"image-48\" %}\n\n## Note\n\n- DRA is legal entity specific, so you have to setup the printers in all required legal entities.\n- If you already have DRA tool, you might get below error for different versions.\nTo resolve this, you have to uninstall the DRA and install again.\n\n{% asset_img \"image-49.png\" \"image-49\" %}","source":"_posts/d365-documentroutingconfiguration.md","raw":"---\ntitle: Document Routing Agent in D365 F&O\ncomments: true\ndate: 2025-07-08 20:33:46\ntags:\ncategories:\n - d365\ndescription: Document Routing Agent in D365 F&O\n---\n\n> Reprinted from: https://mohitrampal.com/2023/03/20/document-routing-agent-in-d365-fo/\n\n> You can also watch video: https://www.youtube.com/watch?v=oG6n2PA-Phs\n\n> Chinese version: https://www.cnblogs.com/lingdanglfw/p/14141545.html\n\n> Official documentation: https://learn.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/er-design-zpl-labels\n\n> ZPL View: https://labelary.com/viewer.html\n\nThe Document Routing Agent (DRA) is an application that resides on the Customers network, to act as a bridge between the internet-hosted Dynamics 365 (D365 F&O) system and Customers network printers.\n\n{% asset_img \"image-25.png\" \"image-25\" %}\n\nDRA tool is Supported on Windows 8.1, Windows 10, Microsoft Windows Server 2012 R2, Microsoft Windows Server 2016, or Microsoft Windows Server 2019.\n\nDRA run as either a desktop application or a Microsoft Windows service.\n\nDRA as a Service can be configured to start automatically after a computer restart, so no user intervention is required. However, When the Document Routing Agent runs as a Windows service, document reports, such as checks, that require custom margins cant be printed directly to network printers. Instead, the Document Routing Agent automatically routes those documents to a target folder.\n\nDRA as a desktop application uses Adobe Reader to spool the document to the shared printer device chosen in finance and operations. Microsoft recommends installing the Document Routing Agent in several places to manage situations when documents with custom margins need to be printed. The printers for those documents should thus only be installed on Document Routing Agents that will operate in desktop application mode. As an alternative, you can pick up the files in the target directory and guide them in the right direction using a post-execution process.\n\n## Steps to Install & Configure DRA\n\nSign in to D365 F&O environment which you want to configure in the DRA tool.\n\n1. Go to Organization Administration>Setup>Network Printers\n2. Click on Download Document Routing Agent Installer.\n\n{% asset_img \"image-26.png\" \"image-26\" %}\n\n3. Ensure that you are logged in as Admin user. Run the downloaded file and complete the setup.\n4. Open the DRA tool and sign in with Admin account.\n\n{% asset_img \"image-27.png\" \"image-27\" %}\n\n5. Click on Settings Button and enter values in all the fields.\n\n{% asset_img \"image-28.png\" \"image-28\" %}\n\n6. If Run as Windows Service checkbox is checked, then DRA will run as a Service. To run as service, window service should be set up and running.\n\nRight click on the highlighted Service and click on Properties.\n\n{% asset_img \"image-29.png\" \"image-29\" %}\n\nClick on Log On tab and add your Admin/Service account.\n\n{% asset_img \"image-30.png\" \"image-30\" %}\n\nPlease note that step 6 is not required if running as an Application (Run as a window service checkbox is unchecked).\n\n7. Start the service and go back to step 5 and Click on Printers.\n\nOnly printers which are registered will be visible in D365 F&O.\n\n{% asset_img \"image-31.png\" \"image-31\" %}\n\n8. After registering a printer, go to D365 F&O (Organization Administration>Setup>Network Printers) and activate the printer.\n\n{% asset_img \"image-32.png\" \"image-32\" %}\n\n9. Now, you can test it in your reports by using Network Printer as shown below (after printing to screen), or setting up the print management.\n\n{% asset_img \"image-33.png\" \"image-33\" %}\n\nI had a requirement to test multiple network printers based on specific values, like if department is A the document should route to PrinterA, if department is B, it should go to PrinterB etc. This configuration was done in print management of report and I tested with dummy Printers and OneNote.\n\nYou can setup a dummy printer by going to Printers & Scanners.\n\n- Click on Add a Printer or Scanner button.\n\n{% asset_img \"image-34.png\" \"image-34\" %}\n\n- Click on The printer that I want isnt listed.\n\n{% asset_img \"image-35.png\" \"image-35\" %}\n\n- Select last option as below screenshot and click Next.\n\n{% asset_img \"image-36.png\" \"image-36\" %}\n\n - Select Nul port and click Next.\n\n{% asset_img \"image-37.png\" \"image-37\" %}\n\n - Select Microsoft Print to PDF and click Next\n\n{% asset_img \"image-38.png\" \"image-38\" %}\n\n{% asset_img \"image-39.png\" \"image-39\" %}\n\n- Specify printer name and click Next.\n\n{% asset_img \"image-40.png\" \"image-40\" %}\n\n{% asset_img \"image-41.png\" \"image-41\" %}\n\n- Click on Open Queue of Printer and Pause Printing.\n\n{% asset_img \"image-42.png\" \"image-42\" %}\n\n- As mentioned earlier, you need to register the printer.\n\n{% asset_img \"image-43.png\" \"image-43\" %}\n\n- After registering the printer, it will be visible in D365 F&O. Activate the printer.\n\n{% asset_img \"image-44.png\" \"image-44\" %}\n\n{% asset_img \"image-45.png\" \"image-45\" %}\n\n- As you can see, After report is printed on screen, I can select my new printer.\n\n{% asset_img \"image-46.png\" \"image-46\" %}\n\n{% asset_img \"image-47.png\" \"image-47\" %}\n\n- The document will be visible in print queue.\n\n{% asset_img \"image-48.png\" \"image-48\" %}\n\n## Note\n\n- DRA is legal entity specific, so you have to setup the printers in all required legal entities.\n- If you already have DRA tool, you might get below error for different versions.\nTo resolve this, you have to uninstall the DRA and install again.\n\n{% asset_img \"image-49.png\" \"image-49\" %}","slug":"d365-documentroutingconfiguration","published":1,"updated":"2025-12-26T03:11:02.879Z","layout":"post","photos":[],"_id":"cmk9a8vp900030cqkb889h06q","content":"<blockquote>\n<p>Reprinted from: <a href=\"https://mohitrampal.com/2023/03/20/document-routing-agent-in-d365-fo/\">https://mohitrampal.com/2023/03/20/document-routing-agent-in-d365-fo/</a></p>\n</blockquote>\n<blockquote>\n<p>You can also watch video: <a href=\"https://www.youtube.com/watch?v=oG6n2PA-Phs\">https://www.youtube.com/watch?v=oG6n2PA-Phs</a></p>\n</blockquote>\n<blockquote>\n<p>Chinese version: <a href=\"https://www.cnblogs.com/lingdanglfw/p/14141545.html\">https://www.cnblogs.com/lingdanglfw/p/14141545.html</a></p>\n</blockquote>\n<blockquote>\n<p>Official documentation: <a href=\"https://learn.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/er-design-zpl-labels\">https://learn.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/er-design-zpl-labels</a></p>\n</blockquote>\n<blockquote>\n<p>ZPL View: <a href=\"https://labelary.com/viewer.html\">https://labelary.com/viewer.html</a></p>\n</blockquote>\n<p>The Document Routing Agent (DRA) is an application that resides on the Customers network, to act as a bridge between the internet-hosted Dynamics 365 (D365 F&amp;O) system and Customers network printers.</p>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-25.png\" class=\"\" title=\"image-25\">\n\n<p>DRA tool is Supported on Windows 8.1, Windows 10, Microsoft Windows Server 2012 R2, Microsoft Windows Server 2016, or Microsoft Windows Server 2019.</p>\n<p>DRA run as either a desktop application or a Microsoft Windows service.</p>\n<p>DRA as a Service can be configured to start automatically after a computer restart, so no user intervention is required. However, When the Document Routing Agent runs as a Windows service, document reports, such as checks, that require custom margins cant be printed directly to network printers. Instead, the Document Routing Agent automatically routes those documents to a target folder.</p>\n<p>DRA as a desktop application uses Adobe Reader to spool the document to the shared printer device chosen in finance and operations. Microsoft recommends installing the Document Routing Agent in several places to manage situations when documents with custom margins need to be printed. The printers for those documents should thus only be installed on Document Routing Agents that will operate in desktop application mode. As an alternative, you can pick up the files in the target directory and guide them in the right direction using a post-execution process.</p>\n<h2 id=\"Steps-to-Install-Configure-DRA\"><a href=\"#Steps-to-Install-Configure-DRA\" class=\"headerlink\" title=\"Steps to Install &amp; Configure DRA\"></a>Steps to Install &amp; Configure DRA</h2><p>Sign in to D365 F&amp;O environment which you want to configure in the DRA tool.</p>\n<ol>\n<li>Go to Organization Administration&gt;Setup&gt;Network Printers</li>\n<li>Click on Download Document Routing Agent Installer.</li>\n</ol>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-26.png\" class=\"\" title=\"image-26\">\n\n<ol start=\"3\">\n<li>Ensure that you are logged in as Admin user. Run the downloaded file and complete the setup.</li>\n<li>Open the DRA tool and sign in with Admin account.</li>\n</ol>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-27.png\" class=\"\" title=\"image-27\">\n\n<ol start=\"5\">\n<li>Click on Settings Button and enter values in all the fields.</li>\n</ol>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-28.png\" class=\"\" title=\"image-28\">\n\n<ol start=\"6\">\n<li>If Run as Windows Service checkbox is checked, then DRA will run as a Service. To run as service, window service should be set up and running.</li>\n</ol>\n<p>Right click on the highlighted Service and click on Properties.</p>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-29.png\" class=\"\" title=\"image-29\">\n\n<p>Click on Log On tab and add your Admin&#x2F;Service account.</p>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-30.png\" class=\"\" title=\"image-30\">\n\n<p>Please note that step 6 is not required if running as an Application (Run as a window service checkbox is unchecked).</p>\n<ol start=\"7\">\n<li>Start the service and go back to step 5 and Click on Printers.</li>\n</ol>\n<p>Only printers which are registered will be visible in D365 F&amp;O.</p>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-31.png\" class=\"\" title=\"image-31\">\n\n<ol start=\"8\">\n<li>After registering a printer, go to D365 F&amp;O (Organization Administration&gt;Setup&gt;Network Printers) and activate the printer.</li>\n</ol>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-32.png\" class=\"\" title=\"image-32\">\n\n<ol start=\"9\">\n<li>Now, you can test it in your reports by using Network Printer as shown below (after printing to screen), or setting up the print management.</li>\n</ol>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-33.png\" class=\"\" title=\"image-33\">\n\n<p>I had a requirement to test multiple network printers based on specific values, like if department is A the document should route to PrinterA, if department is B, it should go to PrinterB etc. This configuration was done in print management of report and I tested with dummy Printers and OneNote.</p>\n<p>You can setup a dummy printer by going to Printers &amp; Scanners.</p>\n<ul>\n<li>Click on Add a Printer or Scanner button.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-34.png\" class=\"\" title=\"image-34\">\n\n<ul>\n<li>Click on The printer that I want isnt listed.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-35.png\" class=\"\" title=\"image-35\">\n\n<ul>\n<li>Select last option as below screenshot and click Next.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-36.png\" class=\"\" title=\"image-36\">\n\n<ul>\n<li>Select Nul port and click Next.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-37.png\" class=\"\" title=\"image-37\">\n\n<ul>\n<li>Select Microsoft Print to PDF and click Next</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-38.png\" class=\"\" title=\"image-38\">\n\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-39.png\" class=\"\" title=\"image-39\">\n\n<ul>\n<li>Specify printer name and click Next.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-40.png\" class=\"\" title=\"image-40\">\n\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-41.png\" class=\"\" title=\"image-41\">\n\n<ul>\n<li>Click on Open Queue of Printer and Pause Printing.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-42.png\" class=\"\" title=\"image-42\">\n\n<ul>\n<li>As mentioned earlier, you need to register the printer.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-43.png\" class=\"\" title=\"image-43\">\n\n<ul>\n<li>After registering the printer, it will be visible in D365 F&amp;O. Activate the printer.</li>\n</ul>\n\n\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-45.png\" class=\"\" title=\"image-45\">\n\n<ul>\n<li>As you can see, After report is printed on screen, I can select my new printer.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-46.png\" class=\"\" title=\"image-46\">\n\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-47.png\" class=\"\" title=\"image-47\">\n\n<ul>\n<li>The document will be visible in print queue.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-48.png\" class=\"\" title=\"image-48\">\n\n<h2 id=\"Note\"><a href=\"#Note\" class=\"headerlink\" title=\"Note\"></a>Note</h2><ul>\n<li>DRA is legal entity specific, so you have to setup the printers in all required legal entities.</li>\n<li>If you already have DRA tool, you might get below error for different versions.<br>To resolve this, you have to uninstall the DRA and install again.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-49.png\" class=\"\" title=\"image-49\">","excerpt":"","more":"<blockquote>\n<p>Reprinted from: <a href=\"https://mohitrampal.com/2023/03/20/document-routing-agent-in-d365-fo/\">https://mohitrampal.com/2023/03/20/document-routing-agent-in-d365-fo/</a></p>\n</blockquote>\n<blockquote>\n<p>You can also watch video: <a href=\"https://www.youtube.com/watch?v=oG6n2PA-Phs\">https://www.youtube.com/watch?v=oG6n2PA-Phs</a></p>\n</blockquote>\n<blockquote>\n<p>Chinese version: <a href=\"https://www.cnblogs.com/lingdanglfw/p/14141545.html\">https://www.cnblogs.com/lingdanglfw/p/14141545.html</a></p>\n</blockquote>\n<blockquote>\n<p>Official documentation: <a href=\"https://learn.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/er-design-zpl-labels\">https://learn.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/er-design-zpl-labels</a></p>\n</blockquote>\n<blockquote>\n<p>ZPL View: <a href=\"https://labelary.com/viewer.html\">https://labelary.com/viewer.html</a></p>\n</blockquote>\n<p>The Document Routing Agent (DRA) is an application that resides on the Customers network, to act as a bridge between the internet-hosted Dynamics 365 (D365 F&amp;O) system and Customers network printers.</p>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-25.png\" class=\"\" title=\"image-25\">\n\n<p>DRA tool is Supported on Windows 8.1, Windows 10, Microsoft Windows Server 2012 R2, Microsoft Windows Server 2016, or Microsoft Windows Server 2019.</p>\n<p>DRA run as either a desktop application or a Microsoft Windows service.</p>\n<p>DRA as a Service can be configured to start automatically after a computer restart, so no user intervention is required. However, When the Document Routing Agent runs as a Windows service, document reports, such as checks, that require custom margins cant be printed directly to network printers. Instead, the Document Routing Agent automatically routes those documents to a target folder.</p>\n<p>DRA as a desktop application uses Adobe Reader to spool the document to the shared printer device chosen in finance and operations. Microsoft recommends installing the Document Routing Agent in several places to manage situations when documents with custom margins need to be printed. The printers for those documents should thus only be installed on Document Routing Agents that will operate in desktop application mode. As an alternative, you can pick up the files in the target directory and guide them in the right direction using a post-execution process.</p>\n<h2 id=\"Steps-to-Install-Configure-DRA\"><a href=\"#Steps-to-Install-Configure-DRA\" class=\"headerlink\" title=\"Steps to Install &amp; Configure DRA\"></a>Steps to Install &amp; Configure DRA</h2><p>Sign in to D365 F&amp;O environment which you want to configure in the DRA tool.</p>\n<ol>\n<li>Go to Organization Administration&gt;Setup&gt;Network Printers</li>\n<li>Click on Download Document Routing Agent Installer.</li>\n</ol>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-26.png\" class=\"\" title=\"image-26\">\n\n<ol start=\"3\">\n<li>Ensure that you are logged in as Admin user. Run the downloaded file and complete the setup.</li>\n<li>Open the DRA tool and sign in with Admin account.</li>\n</ol>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-27.png\" class=\"\" title=\"image-27\">\n\n<ol start=\"5\">\n<li>Click on Settings Button and enter values in all the fields.</li>\n</ol>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-28.png\" class=\"\" title=\"image-28\">\n\n<ol start=\"6\">\n<li>If Run as Windows Service checkbox is checked, then DRA will run as a Service. To run as service, window service should be set up and running.</li>\n</ol>\n<p>Right click on the highlighted Service and click on Properties.</p>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-29.png\" class=\"\" title=\"image-29\">\n\n<p>Click on Log On tab and add your Admin&#x2F;Service account.</p>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-30.png\" class=\"\" title=\"image-30\">\n\n<p>Please note that step 6 is not required if running as an Application (Run as a window service checkbox is unchecked).</p>\n<ol start=\"7\">\n<li>Start the service and go back to step 5 and Click on Printers.</li>\n</ol>\n<p>Only printers which are registered will be visible in D365 F&amp;O.</p>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-31.png\" class=\"\" title=\"image-31\">\n\n<ol start=\"8\">\n<li>After registering a printer, go to D365 F&amp;O (Organization Administration&gt;Setup&gt;Network Printers) and activate the printer.</li>\n</ol>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-32.png\" class=\"\" title=\"image-32\">\n\n<ol start=\"9\">\n<li>Now, you can test it in your reports by using Network Printer as shown below (after printing to screen), or setting up the print management.</li>\n</ol>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-33.png\" class=\"\" title=\"image-33\">\n\n<p>I had a requirement to test multiple network printers based on specific values, like if department is A the document should route to PrinterA, if department is B, it should go to PrinterB etc. This configuration was done in print management of report and I tested with dummy Printers and OneNote.</p>\n<p>You can setup a dummy printer by going to Printers &amp; Scanners.</p>\n<ul>\n<li>Click on Add a Printer or Scanner button.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-34.png\" class=\"\" title=\"image-34\">\n\n<ul>\n<li>Click on The printer that I want isnt listed.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-35.png\" class=\"\" title=\"image-35\">\n\n<ul>\n<li>Select last option as below screenshot and click Next.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-36.png\" class=\"\" title=\"image-36\">\n\n<ul>\n<li>Select Nul port and click Next.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-37.png\" class=\"\" title=\"image-37\">\n\n<ul>\n<li>Select Microsoft Print to PDF and click Next</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-38.png\" class=\"\" title=\"image-38\">\n\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-39.png\" class=\"\" title=\"image-39\">\n\n<ul>\n<li>Specify printer name and click Next.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-40.png\" class=\"\" title=\"image-40\">\n\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-41.png\" class=\"\" title=\"image-41\">\n\n<ul>\n<li>Click on Open Queue of Printer and Pause Printing.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-42.png\" class=\"\" title=\"image-42\">\n\n<ul>\n<li>As mentioned earlier, you need to register the printer.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-43.png\" class=\"\" title=\"image-43\">\n\n<ul>\n<li>After registering the printer, it will be visible in D365 F&amp;O. Activate the printer.</li>\n</ul>\n\n\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-45.png\" class=\"\" title=\"image-45\">\n\n<ul>\n<li>As you can see, After report is printed on screen, I can select my new printer.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-46.png\" class=\"\" title=\"image-46\">\n\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-47.png\" class=\"\" title=\"image-47\">\n\n<ul>\n<li>The document will be visible in print queue.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-48.png\" class=\"\" title=\"image-48\">\n\n<h2 id=\"Note\"><a href=\"#Note\" class=\"headerlink\" title=\"Note\"></a>Note</h2><ul>\n<li>DRA is legal entity specific, so you have to setup the printers in all required legal entities.</li>\n<li>If you already have DRA tool, you might get below error for different versions.<br>To resolve this, you have to uninstall the DRA and install again.</li>\n</ul>\n<img src=\"/2025/07/08/d365-documentroutingconfiguration/image-49.png\" class=\"\" title=\"image-49\">"},{"title":"HMTHow to Install HMT Development Tools","comments":1,"date":"2025-07-13T08:19:40.000Z","description":"This article provides instructions on how to install the powerful Dynamics 365 development tools.","_content":"\n## Installing Huamei 365 D365FO Tools for Visual Studio\n\nTo improve development efficiency in Dynamics 365 Finance and Operations (D365FO), the **Huamei 365 D365FO Tools** extension offers a suite of useful generators and helpers. This blog post provides a quick guide to installing this extension in Visual Studio 2022.\n\n###  Step 1: Open the Extensions Menu\n\nIn Visual Studio 2022, go to the top menu and click **Extensions**.\n\n{% asset_img \"Picture1.png\" \"Picture1\" %}\n\n---\n\n###  Step 2: Browse Extensions\n\nIn the Extensions dropdown, select **Manage Extensions**. In the Extension Manager, go to the **Browse** tab and use the search bar to look for `Huamei 365 D365FO Tools`.\n\n{% asset_img \"Picture2.png\" \"Picture2\" %}\n\n{% asset_img \"Picture3.png\" \"Picture3\" %}\n\n{% asset_img \"Picture4.png\" \"Picture4\" %}\n\n---\n\n###  Step 3: Locate and Install the Extension\n\nFind **Huamei 365 D365FO Tools** in the search results. Click **Install** on the right-hand panel.\n\n{% asset_img \"Picture4.png\" \"Picture4\" %}\n\n---\n\n###  Requirements\n\n* **Visual Studio 2022 version 17.13.+**\n* The extension is designed specifically for D365FO development and may not work outside this context.\n\n---\n\n###  Feedback & Support\n\nFor feedback and bug reports, contact the author directly at:\n **[Willie.You@huameisoft.cn](mailto:Willie.You@huameisoft.cn)**\n\n---\n\nBy using **Huamei 365 D365FO Tools**, you can significantly improve your productivity when working on D365FO projects. Be sure to keep your extension updated to enjoy new features and improvements.","source":"_posts/hmt-installtutorial.md","raw":"---\ntitle: HMTHow to Install HMT Development Tools\ncomments: true\ndate: 2025-07-13 16:19:40\ntags:\n - HMT\ncategories:\n - x++\ndescription: This article provides instructions on how to install the powerful Dynamics 365 development tools.\n---\n\n## Installing Huamei 365 D365FO Tools for Visual Studio\n\nTo improve development efficiency in Dynamics 365 Finance and Operations (D365FO), the **Huamei 365 D365FO Tools** extension offers a suite of useful generators and helpers. This blog post provides a quick guide to installing this extension in Visual Studio 2022.\n\n###  Step 1: Open the Extensions Menu\n\nIn Visual Studio 2022, go to the top menu and click **Extensions**.\n\n{% asset_img \"Picture1.png\" \"Picture1\" %}\n\n---\n\n###  Step 2: Browse Extensions\n\nIn the Extensions dropdown, select **Manage Extensions**. In the Extension Manager, go to the **Browse** tab and use the search bar to look for `Huamei 365 D365FO Tools`.\n\n{% asset_img \"Picture2.png\" \"Picture2\" %}\n\n{% asset_img \"Picture3.png\" \"Picture3\" %}\n\n{% asset_img \"Picture4.png\" \"Picture4\" %}\n\n---\n\n###  Step 3: Locate and Install the Extension\n\nFind **Huamei 365 D365FO Tools** in the search results. Click **Install** on the right-hand panel.\n\n{% asset_img \"Picture4.png\" \"Picture4\" %}\n\n---\n\n###  Requirements\n\n* **Visual Studio 2022 version 17.13.+**\n* The extension is designed specifically for D365FO development and may not work outside this context.\n\n---\n\n###  Feedback & Support\n\nFor feedback and bug reports, contact the author directly at:\n **[Willie.You@huameisoft.cn](mailto:Willie.You@huameisoft.cn)**\n\n---\n\nBy using **Huamei 365 D365FO Tools**, you can significantly improve your productivity when working on D365FO projects. Be sure to keep your extension updated to enjoy new features and improvements.","slug":"hmt-installtutorial","published":1,"updated":"2025-12-26T03:11:02.905Z","layout":"post","photos":[],"_id":"cmk9a8vpc00070cqk2v696dgr","content":"<h2 id=\"Installing-Huamei-365-D365FO-Tools-for-Visual-Studio\"><a href=\"#Installing-Huamei-365-D365FO-Tools-for-Visual-Studio\" class=\"headerlink\" title=\"Installing Huamei 365 D365FO Tools for Visual Studio\"></a>Installing Huamei 365 D365FO Tools for Visual Studio</h2><p>To improve development efficiency in Dynamics 365 Finance and Operations (D365FO), the <strong>Huamei 365 D365FO Tools</strong> extension offers a suite of useful generators and helpers. This blog post provides a quick guide to installing this extension in Visual Studio 2022.</p>\n<h3 id=\"-Step-1-Open-the-Extensions-Menu\"><a href=\"#-Step-1-Open-the-Extensions-Menu\" class=\"headerlink\" title=\" Step 1: Open the Extensions Menu\"></a> Step 1: Open the Extensions Menu</h3><p>In Visual Studio 2022, go to the top menu and click <strong>Extensions</strong>.</p>\n<img src=\"/2025/07/13/hmt-installtutorial/Picture1.png\" class=\"\" title=\"Picture1\">\n\n<hr>\n<h3 id=\"-Step-2-Browse-Extensions\"><a href=\"#-Step-2-Browse-Extensions\" class=\"headerlink\" title=\" Step 2: Browse Extensions\"></a> Step 2: Browse Extensions</h3><p>In the Extensions dropdown, select <strong>Manage Extensions</strong>. In the Extension Manager, go to the <strong>Browse</strong> tab and use the search bar to look for <code>Huamei 365 D365FO Tools</code>.</p>\n<img src=\"/2025/07/13/hmt-installtutorial/Picture2.png\" class=\"\" title=\"Picture2\">\n\n<img src=\"/2025/07/13/hmt-installtutorial/Picture3.png\" class=\"\" title=\"Picture3\">\n\n<img src=\"/2025/07/13/hmt-installtutorial/Picture4.png\" class=\"\" title=\"Picture4\">\n\n<hr>\n<h3 id=\"-Step-3-Locate-and-Install-the-Extension\"><a href=\"#-Step-3-Locate-and-Install-the-Extension\" class=\"headerlink\" title=\" Step 3: Locate and Install the Extension\"></a> Step 3: Locate and Install the Extension</h3><p>Find <strong>Huamei 365 D365FO Tools</strong> in the search results. Click <strong>Install</strong> on the right-hand panel.</p>\n<img src=\"/2025/07/13/hmt-installtutorial/Picture4.png\" class=\"\" title=\"Picture4\">\n\n<hr>\n<h3 id=\"-Requirements\"><a href=\"#-Requirements\" class=\"headerlink\" title=\" Requirements\"></a> Requirements</h3><ul>\n<li><strong>Visual Studio 2022 version 17.13.+</strong></li>\n<li>The extension is designed specifically for D365FO development and may not work outside this context.</li>\n</ul>\n<hr>\n<h3 id=\"-Feedback-Support\"><a href=\"#-Feedback-Support\" class=\"headerlink\" title=\" Feedback &amp; Support\"></a> Feedback &amp; Support</h3><p>For feedback and bug reports, contact the author directly at:<br> <strong><a href=\"mailto:Willie.You@huameisoft.cn\">Willie.You@huameisoft.cn</a></strong></p>\n<hr>\n<p>By using <strong>Huamei 365 D365FO Tools</strong>, you can significantly improve your productivity when working on D365FO projects. Be sure to keep your extension updated to enjoy new features and improvements.</p>\n","excerpt":"","more":"<h2 id=\"Installing-Huamei-365-D365FO-Tools-for-Visual-Studio\"><a href=\"#Installing-Huamei-365-D365FO-Tools-for-Visual-Studio\" class=\"headerlink\" title=\"Installing Huamei 365 D365FO Tools for Visual Studio\"></a>Installing Huamei 365 D365FO Tools for Visual Studio</h2><p>To improve development efficiency in Dynamics 365 Finance and Operations (D365FO), the <strong>Huamei 365 D365FO Tools</strong> extension offers a suite of useful generators and helpers. This blog post provides a quick guide to installing this extension in Visual Studio 2022.</p>\n<h3 id=\"-Step-1-Open-the-Extensions-Menu\"><a href=\"#-Step-1-Open-the-Extensions-Menu\" class=\"headerlink\" title=\" Step 1: Open the Extensions Menu\"></a> Step 1: Open the Extensions Menu</h3><p>In Visual Studio 2022, go to the top menu and click <strong>Extensions</strong>.</p>\n<img src=\"/2025/07/13/hmt-installtutorial/Picture1.png\" class=\"\" title=\"Picture1\">\n\n<hr>\n<h3 id=\"-Step-2-Browse-Extensions\"><a href=\"#-Step-2-Browse-Extensions\" class=\"headerlink\" title=\" Step 2: Browse Extensions\"></a> Step 2: Browse Extensions</h3><p>In the Extensions dropdown, select <strong>Manage Extensions</strong>. In the Extension Manager, go to the <strong>Browse</strong> tab and use the search bar to look for <code>Huamei 365 D365FO Tools</code>.</p>\n<img src=\"/2025/07/13/hmt-installtutorial/Picture2.png\" class=\"\" title=\"Picture2\">\n\n<img src=\"/2025/07/13/hmt-installtutorial/Picture3.png\" class=\"\" title=\"Picture3\">\n\n<img src=\"/2025/07/13/hmt-installtutorial/Picture4.png\" class=\"\" title=\"Picture4\">\n\n<hr>\n<h3 id=\"-Step-3-Locate-and-Install-the-Extension\"><a href=\"#-Step-3-Locate-and-Install-the-Extension\" class=\"headerlink\" title=\" Step 3: Locate and Install the Extension\"></a> Step 3: Locate and Install the Extension</h3><p>Find <strong>Huamei 365 D365FO Tools</strong> in the search results. Click <strong>Install</strong> on the right-hand panel.</p>\n<img src=\"/2025/07/13/hmt-installtutorial/Picture4.png\" class=\"\" title=\"Picture4\">\n\n<hr>\n<h3 id=\"-Requirements\"><a href=\"#-Requirements\" class=\"headerlink\" title=\" Requirements\"></a> Requirements</h3><ul>\n<li><strong>Visual Studio 2022 version 17.13.+</strong></li>\n<li>The extension is designed specifically for D365FO development and may not work outside this context.</li>\n</ul>\n<hr>\n<h3 id=\"-Feedback-Support\"><a href=\"#-Feedback-Support\" class=\"headerlink\" title=\" Feedback &amp; Support\"></a> Feedback &amp; Support</h3><p>For feedback and bug reports, contact the author directly at:<br> <strong><a href=\"mailto:Willie.You@huameisoft.cn\">Willie.You@huameisoft.cn</a></strong></p>\n<hr>\n<p>By using <strong>Huamei 365 D365FO Tools</strong>, you can significantly improve your productivity when working on D365FO projects. Be sure to keep your extension updated to enjoy new features and improvements.</p>\n"},{"title":"Difference Between Transfer Journal and Transfer Order D365 F&O","comments":1,"date":"2025-07-08T12:17:26.000Z","description":"Difference Between Transfer Journal and Transfer Order D365 F&O","_content":"\nIn Dynamics 365 Finance and Operations (D365 F&O), knowing the difference between a transfer journal and a Transfer Order is crucial when handling inventories. Although they seem to be related, these two features serve separate purposes and meet different needs.\n\nThis write-up explores the nuances of transfer journals and transfer orders, explaining their differences and uses inside D365 F&O.\n\n## Overview of Dynamics 365 Finance and Operations\nDesigned to maximize business processes, Dynamics 365 Finance and Operations is a complete enterprise resource planning (ERP) tool. Among its many capabilities are supply chain management, inventory control, and financial management. Within the field of inventory control, the correct and effective movement of products is mostly dependent on Transfer Journals and Transfer Orders.\n\nLets learn about them, one by one.\n\n## What is a Transfer Journal?\nOne simple tool for internal inventory movement in D365 Finance and Operations is a transfer journal. It lets organizations move goods between several sites inside the same warehouse or between closely spaced warehouses without including thorough tracking or shipping documents.\n\nTransfer journals are perfect for regular inventory changes and internal relocations because of their simplicity.\n\n### Scenarios for Transfer Journals:\n- **Internal Reorganization**: Transfer Journals allow an organization to shift goods from one bin location to another inside the same warehouse when it needs to rearrange its warehouse layout. This simplifies the maintenance of an accurate record of inventory locations free from the complexity of shipping documentation.\n- **Correcting Mistakes**: A Transfer Journal allows one to rapidly rectify mistakes in items received with erroneous tracking numbers or at the wrong location. Businesses can keep exact traceability by moving goods between tracking dimensions, such as batch or serial numbers.\n- **Close Proximity Transfers**: Transfer Journals help to streamline the process while goods are being moved between two geographically close warehouses. This simplifies the transfer procedure by removing the necessity for thorough tracking and documentation for delivery.\n\n### How to Create and Process a Transfer Journal?\nCreating and processing a Transfer Journal in D365 Finance and Operations involves a few straightforward steps:\n\n- Navigate to Inventory Management > Journal entries > Items > Transfer.\n- Create a new journal by clicking \"New\". Add the required information including the journal name, description, site, and warehouse.\n- Enter the item number, quantity, from site, to site, from warehouse, and to warehouse to add the items you wish to transfer.\n- Validate the journal to look for mistakes. Post the journal once validated to complete the transfer. This will change the levels of inventory in the designated sites.\n- Navigate to Inventory management > Inquiries and reports > Journals > Item transactions to review the transfer specifics. To read the specifics, choose the journal you posted and click \"Transactions\".\n> Get Dynamics 365 Finance and Operations implemented by a top Microsoft Gold partner in the USADynamics Square. Schedule a free consultation now!\n\n## What is a Transfer Order?\nA transfer order in D365 Finance and Operations is designed as a completed tool for moving stocks between warehouses or sites where thorough tracking and shipping paperwork are needed.\n\nTransfer orders are appropriate for circumstances whereby objects must be tracked throughout travel since they offer more control and visibility over the transfer process.\n\n### Scenarios for Transfer Orders:\n- **Long-Distance Transfers**: Transfer Orders guarantee that goods are being traced all through the transportation process when goods are being moved between warehouses that are far apart. Maintaining inventory accuracy depends on tracking, shipping, and receiving documents, hence this covers all aspects.\n- **Shipping Documentation**: Transfer orders are utilized when shipment documentation is needed to go along with the items. This is crucial for giving customers comprehensive shipment data and following shipping laws.\n- **Warehouse Management Processes**: Transfer Orders fit very well in settings where warehouse staff members handle picking, packing, shipping, and receiving items. They guarantee that every stage of the transfer process is recorded and tracked.\n\n### How to Create and Process a Transfer Order?\nCreating and processing a Transfer Order in D365 Finance and Operations involves several detailed steps:\n\n- Visit Inventory Management > Outbound orders > Transfer Order to navigate.\n- Click \"New\" to draft a fresh transfer order. Now go into the \"from\" and \"to\" warehouses.\n- Enter the item number and quantity to add the items you wish to move.\n- Go to Inventory management > Periodic > Release transfer order picking. Click \"OK,\" then enter the transfer order number. Should the \"Deduct released for picking\" checkbox be chosen, the system will automatically deduct the pertinent quantity from the on-hand inventory.\n- Go return to your transfer order and click \"Ship\" in the Action Pane. Check the quantity and product; then, click \"OK\" to post the shipment.\n- Go to Inventory management > Inbound orders > Transfer order. Choose the transfer order then click \"Receive\" on the Action Pane. Check the quantity and product; then, to finish the receipt, click \"OK.\"\n\n## Key Differences Between Transfer Journals and Transfer Orders\n\n### Complexity and Application\n- Transfer Journals: Simple and flexible, transfer journals fit for internal relocation, error correction, and close proximity transfers.\n- Transfer Orders: These are more complicated, suited for long-distance transfers, needing shipping documents, and interacting with warehouse management systems.\n\n### Tracking and Documentation\n- Transfer Journals: Minimal tracking and no need for shipping documentation. Ideal for internal transfers where detailed tracking is unnecessary.\n- Transfer Orders: Detailed tracking with shipping and receiving documentation. Ensures visibility and control over the transfer process.\n\n### Inventory Impact\nTransfer Journals: Inventory movements are recorded without offsetting costs. Suitable for internal adjustments and corrections.\nTransfer Orders: Inventory and its value are tracked throughout the transfer process, with potential impacts on costing methods like moving or weighted average.","source":"_posts/d365-transferjournalandtransferorder.md","raw":"---\ntitle: Difference Between Transfer Journal and Transfer Order D365 F&O\ncomments: true\ndate: 2025-07-08 20:17:26\ntags:\ncategories:\n - d365\ndescription: Difference Between Transfer Journal and Transfer Order D365 F&O\n---\n\nIn Dynamics 365 Finance and Operations (D365 F&O), knowing the difference between a transfer journal and a Transfer Order is crucial when handling inventories. Although they seem to be related, these two features serve separate purposes and meet different needs.\n\nThis write-up explores the nuances of transfer journals and transfer orders, explaining their differences and uses inside D365 F&O.\n\n## Overview of Dynamics 365 Finance and Operations\nDesigned to maximize business processes, Dynamics 365 Finance and Operations is a complete enterprise resource planning (ERP) tool. Among its many capabilities are supply chain management, inventory control, and financial management. Within the field of inventory control, the correct and effective movement of products is mostly dependent on Transfer Journals and Transfer Orders.\n\nLets learn about them, one by one.\n\n## What is a Transfer Journal?\nOne simple tool for internal inventory movement in D365 Finance and Operations is a transfer journal. It lets organizations move goods between several sites inside the same warehouse or between closely spaced warehouses without including thorough tracking or shipping documents.\n\nTransfer journals are perfect for regular inventory changes and internal relocations because of their simplicity.\n\n### Scenarios for Transfer Journals:\n- **Internal Reorganization**: Transfer Journals allow an organization to shift goods from one bin location to another inside the same warehouse when it needs to rearrange its warehouse layout. This simplifies the maintenance of an accurate record of inventory locations free from the complexity of shipping documentation.\n- **Correcting Mistakes**: A Transfer Journal allows one to rapidly rectify mistakes in items received with erroneous tracking numbers or at the wrong location. Businesses can keep exact traceability by moving goods between tracking dimensions, such as batch or serial numbers.\n- **Close Proximity Transfers**: Transfer Journals help to streamline the process while goods are being moved between two geographically close warehouses. This simplifies the transfer procedure by removing the necessity for thorough tracking and documentation for delivery.\n\n### How to Create and Process a Transfer Journal?\nCreating and processing a Transfer Journal in D365 Finance and Operations involves a few straightforward steps:\n\n- Navigate to Inventory Management > Journal entries > Items > Transfer.\n- Create a new journal by clicking \"New\". Add the required information including the journal name, description, site, and warehouse.\n- Enter the item number, quantity, from site, to site, from warehouse, and to warehouse to add the items you wish to transfer.\n- Validate the journal to look for mistakes. Post the journal once validated to complete the transfer. This will change the levels of inventory in the designated sites.\n- Navigate to Inventory management > Inquiries and reports > Journals > Item transactions to review the transfer specifics. To read the specifics, choose the journal you posted and click \"Transactions\".\n> Get Dynamics 365 Finance and Operations implemented by a top Microsoft Gold partner in the USADynamics Square. Schedule a free consultation now!\n\n## What is a Transfer Order?\nA transfer order in D365 Finance and Operations is designed as a completed tool for moving stocks between warehouses or sites where thorough tracking and shipping paperwork are needed.\n\nTransfer orders are appropriate for circumstances whereby objects must be tracked throughout travel since they offer more control and visibility over the transfer process.\n\n### Scenarios for Transfer Orders:\n- **Long-Distance Transfers**: Transfer Orders guarantee that goods are being traced all through the transportation process when goods are being moved between warehouses that are far apart. Maintaining inventory accuracy depends on tracking, shipping, and receiving documents, hence this covers all aspects.\n- **Shipping Documentation**: Transfer orders are utilized when shipment documentation is needed to go along with the items. This is crucial for giving customers comprehensive shipment data and following shipping laws.\n- **Warehouse Management Processes**: Transfer Orders fit very well in settings where warehouse staff members handle picking, packing, shipping, and receiving items. They guarantee that every stage of the transfer process is recorded and tracked.\n\n### How to Create and Process a Transfer Order?\nCreating and processing a Transfer Order in D365 Finance and Operations involves several detailed steps:\n\n- Visit Inventory Management > Outbound orders > Transfer Order to navigate.\n- Click \"New\" to draft a fresh transfer order. Now go into the \"from\" and \"to\" warehouses.\n- Enter the item number and quantity to add the items you wish to move.\n- Go to Inventory management > Periodic > Release transfer order picking. Click \"OK,\" then enter the transfer order number. Should the \"Deduct released for picking\" checkbox be chosen, the system will automatically deduct the pertinent quantity from the on-hand inventory.\n- Go return to your transfer order and click \"Ship\" in the Action Pane. Check the quantity and product; then, click \"OK\" to post the shipment.\n- Go to Inventory management > Inbound orders > Transfer order. Choose the transfer order then click \"Receive\" on the Action Pane. Check the quantity and product; then, to finish the receipt, click \"OK.\"\n\n## Key Differences Between Transfer Journals and Transfer Orders\n\n### Complexity and Application\n- Transfer Journals: Simple and flexible, transfer journals fit for internal relocation, error correction, and close proximity transfers.\n- Transfer Orders: These are more complicated, suited for long-distance transfers, needing shipping documents, and interacting with warehouse management systems.\n\n### Tracking and Documentation\n- Transfer Journals: Minimal tracking and no need for shipping documentation. Ideal for internal transfers where detailed tracking is unnecessary.\n- Transfer Orders: Detailed tracking with shipping and receiving documentation. Ensures visibility and control over the transfer process.\n\n### Inventory Impact\nTransfer Journals: Inventory movements are recorded without offsetting costs. Suitable for internal adjustments and corrections.\nTransfer Orders: Inventory and its value are tracked throughout the transfer process, with potential impacts on costing methods like moving or weighted average.","slug":"d365-transferjournalandtransferorder","published":1,"updated":"2025-12-26T03:11:02.904Z","layout":"post","photos":[],"_id":"cmk9a8vpd00090cqk40ja9yru","content":"<p>In Dynamics 365 Finance and Operations (D365 F&amp;O), knowing the difference between a transfer journal and a Transfer Order is crucial when handling inventories. Although they seem to be related, these two features serve separate purposes and meet different needs.</p>\n<p>This write-up explores the nuances of transfer journals and transfer orders, explaining their differences and uses inside D365 F&amp;O.</p>\n<h2 id=\"Overview-of-Dynamics-365-Finance-and-Operations\"><a href=\"#Overview-of-Dynamics-365-Finance-and-Operations\" class=\"headerlink\" title=\"Overview of Dynamics 365 Finance and Operations\"></a>Overview of Dynamics 365 Finance and Operations</h2><p>Designed to maximize business processes, Dynamics 365 Finance and Operations is a complete enterprise resource planning (ERP) tool. Among its many capabilities are supply chain management, inventory control, and financial management. Within the field of inventory control, the correct and effective movement of products is mostly dependent on Transfer Journals and Transfer Orders.</p>\n<p>Lets learn about them, one by one.</p>\n<h2 id=\"What-is-a-Transfer-Journal\"><a href=\"#What-is-a-Transfer-Journal\" class=\"headerlink\" title=\"What is a Transfer Journal?\"></a>What is a Transfer Journal?</h2><p>One simple tool for internal inventory movement in D365 Finance and Operations is a transfer journal. It lets organizations move goods between several sites inside the same warehouse or between closely spaced warehouses without including thorough tracking or shipping documents.</p>\n<p>Transfer journals are perfect for regular inventory changes and internal relocations because of their simplicity.</p>\n<h3 id=\"Scenarios-for-Transfer-Journals\"><a href=\"#Scenarios-for-Transfer-Journals\" class=\"headerlink\" title=\"Scenarios for Transfer Journals:\"></a>Scenarios for Transfer Journals:</h3><ul>\n<li><strong>Internal Reorganization</strong>: Transfer Journals allow an organization to shift goods from one bin location to another inside the same warehouse when it needs to rearrange its warehouse layout. This simplifies the maintenance of an accurate record of inventory locations free from the complexity of shipping documentation.</li>\n<li><strong>Correcting Mistakes</strong>: A Transfer Journal allows one to rapidly rectify mistakes in items received with erroneous tracking numbers or at the wrong location. Businesses can keep exact traceability by moving goods between tracking dimensions, such as batch or serial numbers.</li>\n<li><strong>Close Proximity Transfers</strong>: Transfer Journals help to streamline the process while goods are being moved between two geographically close warehouses. This simplifies the transfer procedure by removing the necessity for thorough tracking and documentation for delivery.</li>\n</ul>\n<h3 id=\"How-to-Create-and-Process-a-Transfer-Journal\"><a href=\"#How-to-Create-and-Process-a-Transfer-Journal\" class=\"headerlink\" title=\"How to Create and Process a Transfer Journal?\"></a>How to Create and Process a Transfer Journal?</h3><p>Creating and processing a Transfer Journal in D365 Finance and Operations involves a few straightforward steps:</p>\n<ul>\n<li>Navigate to Inventory Management &gt; Journal entries &gt; Items &gt; Transfer.</li>\n<li>Create a new journal by clicking New. Add the required information including the journal name, description, site, and warehouse.</li>\n<li>Enter the item number, quantity, from site, to site, from warehouse, and to warehouse to add the items you wish to transfer.</li>\n<li>Validate the journal to look for mistakes. Post the journal once validated to complete the transfer. This will change the levels of inventory in the designated sites.</li>\n<li>Navigate to Inventory management &gt; Inquiries and reports &gt; Journals &gt; Item transactions to review the transfer specifics. To read the specifics, choose the journal you posted and click Transactions.<blockquote>\n<p>Get Dynamics 365 Finance and Operations implemented by a top Microsoft Gold partner in the USADynamics Square. Schedule a free consultation now!</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"What-is-a-Transfer-Order\"><a href=\"#What-is-a-Transfer-Order\" class=\"headerlink\" title=\"What is a Transfer Order?\"></a>What is a Transfer Order?</h2><p>A transfer order in D365 Finance and Operations is designed as a completed tool for moving stocks between warehouses or sites where thorough tracking and shipping paperwork are needed.</p>\n<p>Transfer orders are appropriate for circumstances whereby objects must be tracked throughout travel since they offer more control and visibility over the transfer process.</p>\n<h3 id=\"Scenarios-for-Transfer-Orders\"><a href=\"#Scenarios-for-Transfer-Orders\" class=\"headerlink\" title=\"Scenarios for Transfer Orders:\"></a>Scenarios for Transfer Orders:</h3><ul>\n<li><strong>Long-Distance Transfers</strong>: Transfer Orders guarantee that goods are being traced all through the transportation process when goods are being moved between warehouses that are far apart. Maintaining inventory accuracy depends on tracking, shipping, and receiving documents, hence this covers all aspects.</li>\n<li><strong>Shipping Documentation</strong>: Transfer orders are utilized when shipment documentation is needed to go along with the items. This is crucial for giving customers comprehensive shipment data and following shipping laws.</li>\n<li><strong>Warehouse Management Processes</strong>: Transfer Orders fit very well in settings where warehouse staff members handle picking, packing, shipping, and receiving items. They guarantee that every stage of the transfer process is recorded and tracked.</li>\n</ul>\n<h3 id=\"How-to-Create-and-Process-a-Transfer-Order\"><a href=\"#How-to-Create-and-Process-a-Transfer-Order\" class=\"headerlink\" title=\"How to Create and Process a Transfer Order?\"></a>How to Create and Process a Transfer Order?</h3><p>Creating and processing a Transfer Order in D365 Finance and Operations involves several detailed steps:</p>\n<ul>\n<li>Visit Inventory Management &gt; Outbound orders &gt; Transfer Order to navigate.</li>\n<li>Click New to draft a fresh transfer order. Now go into the from and to warehouses.</li>\n<li>Enter the item number and quantity to add the items you wish to move.</li>\n<li>Go to Inventory management &gt; Periodic &gt; Release transfer order picking. Click OK, then enter the transfer order number. Should the Deduct released for picking checkbox be chosen, the system will automatically deduct the pertinent quantity from the on-hand inventory.</li>\n<li>Go return to your transfer order and click Ship in the Action Pane. Check the quantity and product; then, click OK to post the shipment.</li>\n<li>Go to Inventory management &gt; Inbound orders &gt; Transfer order. Choose the transfer order then click Receive on the Action Pane. Check the quantity and product; then, to finish the receipt, click OK.</li>\n</ul>\n<h2 id=\"Key-Differences-Between-Transfer-Journals-and-Transfer-Orders\"><a href=\"#Key-Differences-Between-Transfer-Journals-and-Transfer-Orders\" class=\"headerlink\" title=\"Key Differences Between Transfer Journals and Transfer Orders\"></a>Key Differences Between Transfer Journals and Transfer Orders</h2><h3 id=\"Complexity-and-Application\"><a href=\"#Complexity-and-Application\" class=\"headerlink\" title=\"Complexity and Application\"></a>Complexity and Application</h3><ul>\n<li>Transfer Journals: Simple and flexible, transfer journals fit for internal relocation, error correction, and close proximity transfers.</li>\n<li>Transfer Orders: These are more complicated, suited for long-distance transfers, needing shipping documents, and interacting with warehouse management systems.</li>\n</ul>\n<h3 id=\"Tracking-and-Documentation\"><a href=\"#Tracking-and-Documentation\" class=\"headerlink\" title=\"Tracking and Documentation\"></a>Tracking and Documentation</h3><ul>\n<li>Transfer Journals: Minimal tracking and no need for shipping documentation. Ideal for internal transfers where detailed tracking is unnecessary.</li>\n<li>Transfer Orders: Detailed tracking with shipping and receiving documentation. Ensures visibility and control over the transfer process.</li>\n</ul>\n<h3 id=\"Inventory-Impact\"><a href=\"#Inventory-Impact\" class=\"headerlink\" title=\"Inventory Impact\"></a>Inventory Impact</h3><p>Transfer Journals: Inventory movements are recorded without offsetting costs. Suitable for internal adjustments and corrections.<br>Transfer Orders: Inventory and its value are tracked throughout the transfer process, with potential impacts on costing methods like moving or weighted average.</p>\n","excerpt":"","more":"<p>In Dynamics 365 Finance and Operations (D365 F&amp;O), knowing the difference between a transfer journal and a Transfer Order is crucial when handling inventories. Although they seem to be related, these two features serve separate purposes and meet different needs.</p>\n<p>This write-up explores the nuances of transfer journals and transfer orders, explaining their differences and uses inside D365 F&amp;O.</p>\n<h2 id=\"Overview-of-Dynamics-365-Finance-and-Operations\"><a href=\"#Overview-of-Dynamics-365-Finance-and-Operations\" class=\"headerlink\" title=\"Overview of Dynamics 365 Finance and Operations\"></a>Overview of Dynamics 365 Finance and Operations</h2><p>Designed to maximize business processes, Dynamics 365 Finance and Operations is a complete enterprise resource planning (ERP) tool. Among its many capabilities are supply chain management, inventory control, and financial management. Within the field of inventory control, the correct and effective movement of products is mostly dependent on Transfer Journals and Transfer Orders.</p>\n<p>Lets learn about them, one by one.</p>\n<h2 id=\"What-is-a-Transfer-Journal\"><a href=\"#What-is-a-Transfer-Journal\" class=\"headerlink\" title=\"What is a Transfer Journal?\"></a>What is a Transfer Journal?</h2><p>One simple tool for internal inventory movement in D365 Finance and Operations is a transfer journal. It lets organizations move goods between several sites inside the same warehouse or between closely spaced warehouses without including thorough tracking or shipping documents.</p>\n<p>Transfer journals are perfect for regular inventory changes and internal relocations because of their simplicity.</p>\n<h3 id=\"Scenarios-for-Transfer-Journals\"><a href=\"#Scenarios-for-Transfer-Journals\" class=\"headerlink\" title=\"Scenarios for Transfer Journals:\"></a>Scenarios for Transfer Journals:</h3><ul>\n<li><strong>Internal Reorganization</strong>: Transfer Journals allow an organization to shift goods from one bin location to another inside the same warehouse when it needs to rearrange its warehouse layout. This simplifies the maintenance of an accurate record of inventory locations free from the complexity of shipping documentation.</li>\n<li><strong>Correcting Mistakes</strong>: A Transfer Journal allows one to rapidly rectify mistakes in items received with erroneous tracking numbers or at the wrong location. Businesses can keep exact traceability by moving goods between tracking dimensions, such as batch or serial numbers.</li>\n<li><strong>Close Proximity Transfers</strong>: Transfer Journals help to streamline the process while goods are being moved between two geographically close warehouses. This simplifies the transfer procedure by removing the necessity for thorough tracking and documentation for delivery.</li>\n</ul>\n<h3 id=\"How-to-Create-and-Process-a-Transfer-Journal\"><a href=\"#How-to-Create-and-Process-a-Transfer-Journal\" class=\"headerlink\" title=\"How to Create and Process a Transfer Journal?\"></a>How to Create and Process a Transfer Journal?</h3><p>Creating and processing a Transfer Journal in D365 Finance and Operations involves a few straightforward steps:</p>\n<ul>\n<li>Navigate to Inventory Management &gt; Journal entries &gt; Items &gt; Transfer.</li>\n<li>Create a new journal by clicking New. Add the required information including the journal name, description, site, and warehouse.</li>\n<li>Enter the item number, quantity, from site, to site, from warehouse, and to warehouse to add the items you wish to transfer.</li>\n<li>Validate the journal to look for mistakes. Post the journal once validated to complete the transfer. This will change the levels of inventory in the designated sites.</li>\n<li>Navigate to Inventory management &gt; Inquiries and reports &gt; Journals &gt; Item transactions to review the transfer specifics. To read the specifics, choose the journal you posted and click Transactions.<blockquote>\n<p>Get Dynamics 365 Finance and Operations implemented by a top Microsoft Gold partner in the USADynamics Square. Schedule a free consultation now!</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"What-is-a-Transfer-Order\"><a href=\"#What-is-a-Transfer-Order\" class=\"headerlink\" title=\"What is a Transfer Order?\"></a>What is a Transfer Order?</h2><p>A transfer order in D365 Finance and Operations is designed as a completed tool for moving stocks between warehouses or sites where thorough tracking and shipping paperwork are needed.</p>\n<p>Transfer orders are appropriate for circumstances whereby objects must be tracked throughout travel since they offer more control and visibility over the transfer process.</p>\n<h3 id=\"Scenarios-for-Transfer-Orders\"><a href=\"#Scenarios-for-Transfer-Orders\" class=\"headerlink\" title=\"Scenarios for Transfer Orders:\"></a>Scenarios for Transfer Orders:</h3><ul>\n<li><strong>Long-Distance Transfers</strong>: Transfer Orders guarantee that goods are being traced all through the transportation process when goods are being moved between warehouses that are far apart. Maintaining inventory accuracy depends on tracking, shipping, and receiving documents, hence this covers all aspects.</li>\n<li><strong>Shipping Documentation</strong>: Transfer orders are utilized when shipment documentation is needed to go along with the items. This is crucial for giving customers comprehensive shipment data and following shipping laws.</li>\n<li><strong>Warehouse Management Processes</strong>: Transfer Orders fit very well in settings where warehouse staff members handle picking, packing, shipping, and receiving items. They guarantee that every stage of the transfer process is recorded and tracked.</li>\n</ul>\n<h3 id=\"How-to-Create-and-Process-a-Transfer-Order\"><a href=\"#How-to-Create-and-Process-a-Transfer-Order\" class=\"headerlink\" title=\"How to Create and Process a Transfer Order?\"></a>How to Create and Process a Transfer Order?</h3><p>Creating and processing a Transfer Order in D365 Finance and Operations involves several detailed steps:</p>\n<ul>\n<li>Visit Inventory Management &gt; Outbound orders &gt; Transfer Order to navigate.</li>\n<li>Click New to draft a fresh transfer order. Now go into the from and to warehouses.</li>\n<li>Enter the item number and quantity to add the items you wish to move.</li>\n<li>Go to Inventory management &gt; Periodic &gt; Release transfer order picking. Click OK, then enter the transfer order number. Should the Deduct released for picking checkbox be chosen, the system will automatically deduct the pertinent quantity from the on-hand inventory.</li>\n<li>Go return to your transfer order and click Ship in the Action Pane. Check the quantity and product; then, click OK to post the shipment.</li>\n<li>Go to Inventory management &gt; Inbound orders &gt; Transfer order. Choose the transfer order then click Receive on the Action Pane. Check the quantity and product; then, to finish the receipt, click OK.</li>\n</ul>\n<h2 id=\"Key-Differences-Between-Transfer-Journals-and-Transfer-Orders\"><a href=\"#Key-Differences-Between-Transfer-Journals-and-Transfer-Orders\" class=\"headerlink\" title=\"Key Differences Between Transfer Journals and Transfer Orders\"></a>Key Differences Between Transfer Journals and Transfer Orders</h2><h3 id=\"Complexity-and-Application\"><a href=\"#Complexity-and-Application\" class=\"headerlink\" title=\"Complexity and Application\"></a>Complexity and Application</h3><ul>\n<li>Transfer Journals: Simple and flexible, transfer journals fit for internal relocation, error correction, and close proximity transfers.</li>\n<li>Transfer Orders: These are more complicated, suited for long-distance transfers, needing shipping documents, and interacting with warehouse management systems.</li>\n</ul>\n<h3 id=\"Tracking-and-Documentation\"><a href=\"#Tracking-and-Documentation\" class=\"headerlink\" title=\"Tracking and Documentation\"></a>Tracking and Documentation</h3><ul>\n<li>Transfer Journals: Minimal tracking and no need for shipping documentation. Ideal for internal transfers where detailed tracking is unnecessary.</li>\n<li>Transfer Orders: Detailed tracking with shipping and receiving documentation. Ensures visibility and control over the transfer process.</li>\n</ul>\n<h3 id=\"Inventory-Impact\"><a href=\"#Inventory-Impact\" class=\"headerlink\" title=\"Inventory Impact\"></a>Inventory Impact</h3><p>Transfer Journals: Inventory movements are recorded without offsetting costs. Suitable for internal adjustments and corrections.<br>Transfer Orders: Inventory and its value are tracked throughout the transfer process, with potential impacts on costing methods like moving or weighted average.</p>\n"},{"title":"Implement the SysExtensionSerializer","comments":1,"date":"2025-07-14T11:40:52.000Z","description":"This content is from the MB-500 training material. How should we handle when the extended fields exceed 10?","_content":"\nYou can add fields to a table by using an extension. If you're adding more than 10 fields to a table extension, the compiler throws the best practice error. We recommend that you use the alternative way of creating a new table and adding a foreign key relation to the standard table. Maps are available to help you improve a developers processes. The SysExtensionSerializerMap and SysExtensionSerializerExtensionMap maps make the create, read, update, and delete (CRUD) operations automated to the custom table.\nYou can create a new table for your new fields, as the following image depicts.\n\n{% asset_img \"Screenshot of the My Cust Table showing the Sys Extension Serializer Map_.png\" \"Screenshot of the My Cust Table showing the Sys Extension Serializer Map\" %}\n\nConsider the following details about implementing the SysExtensionSerializer extension\n\n- The CustTable field is an int64 (RecId).\n- It creates relation to the CustTable standard table and points to RecId on CustTable, as the following screenshot shows.\n\n{% asset_img \"Screenshot of the Properties form showing that the Replacement Key is set to the Alternate key_.png\" \"Screenshot of the Properties form showing that the Replacement Key is set to the Alternate key\" %}\n\n- It creates mapping to map the SysExtensionSerializerExtensionMap field BaseRecId to a new table called MyCustTable and the CustTable field\n- It creates an alternate key (Index) on the table for the CustTable field in the MyCustTable table. For the table property, the Replacement Key is set to the Alternate key, as the following screenshot shows.\n\n{% asset_img \"Screenshot of the Properties form showing the relation to the standard table_.png\" \"Screenshot of the Properties form showing the relation to the standard table\" %}\n\nThe SysExtensionSerializerMap contains methods for automatically inserting, updating, and performing many other functions. The standard CustTable table includes calls to the SysExtensionSerializer framework, which means that whenever a record in CustTable is updated, your table is also updated, as the following screenshot shows.\n\n{% asset_img \"Screenshot showing the Cust Table_.png\" \"Screenshot showing the Cust Table\" %}\n\nUsing the SysExtensionSerializer framework fields helps you add a related table by following best practices and enabling CRUD functionality.","source":"_posts/xpp-ImplementTheSysExtensionSerializer.md","raw":"---\ntitle: Implement the SysExtensionSerializer\ncomments: true\ndate: 2025-07-14 19:40:52\ntags:\n - Table\n - Extend\ncategories:\n - x++\ndescription: This content is from the MB-500 training material. How should we handle when the extended fields exceed 10?\n---\n\nYou can add fields to a table by using an extension. If you're adding more than 10 fields to a table extension, the compiler throws the best practice error. We recommend that you use the alternative way of creating a new table and adding a foreign key relation to the standard table. Maps are available to help you improve a developers processes. The SysExtensionSerializerMap and SysExtensionSerializerExtensionMap maps make the create, read, update, and delete (CRUD) operations automated to the custom table.\nYou can create a new table for your new fields, as the following image depicts.\n\n{% asset_img \"Screenshot of the My Cust Table showing the Sys Extension Serializer Map_.png\" \"Screenshot of the My Cust Table showing the Sys Extension Serializer Map\" %}\n\nConsider the following details about implementing the SysExtensionSerializer extension\n\n- The CustTable field is an int64 (RecId).\n- It creates relation to the CustTable standard table and points to RecId on CustTable, as the following screenshot shows.\n\n{% asset_img \"Screenshot of the Properties form showing that the Replacement Key is set to the Alternate key_.png\" \"Screenshot of the Properties form showing that the Replacement Key is set to the Alternate key\" %}\n\n- It creates mapping to map the SysExtensionSerializerExtensionMap field BaseRecId to a new table called MyCustTable and the CustTable field\n- It creates an alternate key (Index) on the table for the CustTable field in the MyCustTable table. For the table property, the Replacement Key is set to the Alternate key, as the following screenshot shows.\n\n{% asset_img \"Screenshot of the Properties form showing the relation to the standard table_.png\" \"Screenshot of the Properties form showing the relation to the standard table\" %}\n\nThe SysExtensionSerializerMap contains methods for automatically inserting, updating, and performing many other functions. The standard CustTable table includes calls to the SysExtensionSerializer framework, which means that whenever a record in CustTable is updated, your table is also updated, as the following screenshot shows.\n\n{% asset_img \"Screenshot showing the Cust Table_.png\" \"Screenshot showing the Cust Table\" %}\n\nUsing the SysExtensionSerializer framework fields helps you add a related table by following best practices and enabling CRUD functionality.","slug":"xpp-ImplementTheSysExtensionSerializer","published":1,"updated":"2025-12-26T03:11:02.914Z","layout":"post","photos":[],"_id":"cmk9a8vpe000a0cqkcy390dvr","content":"<p>You can add fields to a table by using an extension. If youre adding more than 10 fields to a table extension, the compiler throws the best practice error. We recommend that you use the alternative way of creating a new table and adding a foreign key relation to the standard table. Maps are available to help you improve a developers processes. The SysExtensionSerializerMap and SysExtensionSerializerExtensionMap maps make the create, read, update, and delete (CRUD) operations automated to the custom table.<br>You can create a new table for your new fields, as the following image depicts.</p>\n<img src=\"/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot%20of%20the%20My%20Cust%20Table%20showing%20the%20Sys%20Extension%20Serializer%20Map_.png\" class=\"\" title=\"Screenshot of the My Cust Table showing the Sys Extension Serializer Map\">\n\n<p>Consider the following details about implementing the SysExtensionSerializer extension</p>\n<ul>\n<li>The CustTable field is an int64 (RecId).</li>\n<li>It creates relation to the CustTable standard table and points to RecId on CustTable, as the following screenshot shows.</li>\n</ul>\n<img src=\"/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot%20of%20the%20Properties%20form%20showing%20that%20the%20Replacement%20Key%20is%20set%20to%20the%20Alternate%20key_.png\" class=\"\" title=\"Screenshot of the Properties form showing that the Replacement Key is set to the Alternate key\">\n\n<ul>\n<li>It creates mapping to map the SysExtensionSerializerExtensionMap field BaseRecId to a new table called MyCustTable and the CustTable field</li>\n<li>It creates an alternate key (Index) on the table for the CustTable field in the MyCustTable table. For the table property, the Replacement Key is set to the Alternate key, as the following screenshot shows.</li>\n</ul>\n<img src=\"/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot%20of%20the%20Properties%20form%20showing%20the%20relation%20to%20the%20standard%20table_.png\" class=\"\" title=\"Screenshot of the Properties form showing the relation to the standard table\">\n\n<p>The SysExtensionSerializerMap contains methods for automatically inserting, updating, and performing many other functions. The standard CustTable table includes calls to the SysExtensionSerializer framework, which means that whenever a record in CustTable is updated, your table is also updated, as the following screenshot shows.</p>\n<img src=\"/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot%20showing%20the%20Cust%20Table_.png\" class=\"\" title=\"Screenshot showing the Cust Table\">\n\n<p>Using the SysExtensionSerializer framework fields helps you add a related table by following best practices and enabling CRUD functionality.</p>\n","excerpt":"","more":"<p>You can add fields to a table by using an extension. If youre adding more than 10 fields to a table extension, the compiler throws the best practice error. We recommend that you use the alternative way of creating a new table and adding a foreign key relation to the standard table. Maps are available to help you improve a developers processes. The SysExtensionSerializerMap and SysExtensionSerializerExtensionMap maps make the create, read, update, and delete (CRUD) operations automated to the custom table.<br>You can create a new table for your new fields, as the following image depicts.</p>\n<img src=\"/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot%20of%20the%20My%20Cust%20Table%20showing%20the%20Sys%20Extension%20Serializer%20Map_.png\" class=\"\" title=\"Screenshot of the My Cust Table showing the Sys Extension Serializer Map\">\n\n<p>Consider the following details about implementing the SysExtensionSerializer extension</p>\n<ul>\n<li>The CustTable field is an int64 (RecId).</li>\n<li>It creates relation to the CustTable standard table and points to RecId on CustTable, as the following screenshot shows.</li>\n</ul>\n<img src=\"/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot%20of%20the%20Properties%20form%20showing%20that%20the%20Replacement%20Key%20is%20set%20to%20the%20Alternate%20key_.png\" class=\"\" title=\"Screenshot of the Properties form showing that the Replacement Key is set to the Alternate key\">\n\n<ul>\n<li>It creates mapping to map the SysExtensionSerializerExtensionMap field BaseRecId to a new table called MyCustTable and the CustTable field</li>\n<li>It creates an alternate key (Index) on the table for the CustTable field in the MyCustTable table. For the table property, the Replacement Key is set to the Alternate key, as the following screenshot shows.</li>\n</ul>\n<img src=\"/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot%20of%20the%20Properties%20form%20showing%20the%20relation%20to%20the%20standard%20table_.png\" class=\"\" title=\"Screenshot of the Properties form showing the relation to the standard table\">\n\n<p>The SysExtensionSerializerMap contains methods for automatically inserting, updating, and performing many other functions. The standard CustTable table includes calls to the SysExtensionSerializer framework, which means that whenever a record in CustTable is updated, your table is also updated, as the following screenshot shows.</p>\n<img src=\"/2025/07/14/xpp-ImplementTheSysExtensionSerializer/Screenshot%20showing%20the%20Cust%20Table_.png\" class=\"\" title=\"Screenshot showing the Cust Table\">\n\n<p>Using the SysExtensionSerializer framework fields helps you add a related table by following best practices and enabling CRUD functionality.</p>\n"},{"title":"The Way for Clearing the Log Disk","date":"2024-12-23T08:33:47.000Z","comments":1,"description":"This article shows you the sql scripts that cleared the sql log disk.","_content":"\n{% asset_img \"mssql-clear-log.png\" \"clear mssql clear log example\" %}\n\nThe example SQL script code as shown below:\n\n```sql\nuse [AxDB]\n\nSELECT name FROM sys.database_files\n\nUSE [master]\nGO\nALTER DATABASE [AxDB] SET RECOVERY SIMPLE WITH NO_WAIT\nGO\n\nUSE [AxDB]\nGO\nDBCC SHRINKFILE (AxDB_Restore_log, 1024)\nGO\n\nUSE [master]\nGO\nALTER DATABASE [AxDB] SET RECOVERY FULL WITH NO_WAIT\nGO\n```","source":"_posts/mssql-clear-log.md","raw":"---\ntitle: The Way for Clearing the Log Disk\ndate: 2024-12-23 16:33:47\ncategories:\n - t-sql\ncomments: true\ndescription: This article shows you the sql scripts that cleared the sql log disk.\n---\n\n{% asset_img \"mssql-clear-log.png\" \"clear mssql clear log example\" %}\n\nThe example SQL script code as shown below:\n\n```sql\nuse [AxDB]\n\nSELECT name FROM sys.database_files\n\nUSE [master]\nGO\nALTER DATABASE [AxDB] SET RECOVERY SIMPLE WITH NO_WAIT\nGO\n\nUSE [AxDB]\nGO\nDBCC SHRINKFILE (AxDB_Restore_log, 1024)\nGO\n\nUSE [master]\nGO\nALTER DATABASE [AxDB] SET RECOVERY FULL WITH NO_WAIT\nGO\n```","slug":"mssql-clear-log","published":1,"updated":"2025-12-26T03:11:02.912Z","layout":"post","photos":[],"_id":"cmk9a8vpg000e0cqkejm51ddo","content":"<img src=\"/2024/12/23/mssql-clear-log/mssql-clear-log.png\" class=\"\" title=\"clear mssql clear log example\">\n\n<p>The example SQL script code as shown below:</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use [AxDB]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> name <span class=\"keyword\">FROM</span> sys.database_files</span><br><span class=\"line\"></span><br><span class=\"line\">USE [master]</span><br><span class=\"line\">GO</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> DATABASE [AxDB] <span class=\"keyword\">SET</span> RECOVERY SIMPLE <span class=\"keyword\">WITH</span> NO_WAIT</span><br><span class=\"line\">GO</span><br><span class=\"line\"></span><br><span class=\"line\">USE [AxDB]</span><br><span class=\"line\">GO</span><br><span class=\"line\">DBCC SHRINKFILE (AxDB_Restore_log, <span class=\"number\">1024</span>)</span><br><span class=\"line\">GO</span><br><span class=\"line\"></span><br><span class=\"line\">USE [master]</span><br><span class=\"line\">GO</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> DATABASE [AxDB] <span class=\"keyword\">SET</span> RECOVERY <span class=\"keyword\">FULL</span> <span class=\"keyword\">WITH</span> NO_WAIT</span><br><span class=\"line\">GO</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<img src=\"/2024/12/23/mssql-clear-log/mssql-clear-log.png\" class=\"\" title=\"clear mssql clear log example\">\n\n<p>The example SQL script code as shown below:</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use [AxDB]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> name <span class=\"keyword\">FROM</span> sys.database_files</span><br><span class=\"line\"></span><br><span class=\"line\">USE [master]</span><br><span class=\"line\">GO</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> DATABASE [AxDB] <span class=\"keyword\">SET</span> RECOVERY SIMPLE <span class=\"keyword\">WITH</span> NO_WAIT</span><br><span class=\"line\">GO</span><br><span class=\"line\"></span><br><span class=\"line\">USE [AxDB]</span><br><span class=\"line\">GO</span><br><span class=\"line\">DBCC SHRINKFILE (AxDB_Restore_log, <span class=\"number\">1024</span>)</span><br><span class=\"line\">GO</span><br><span class=\"line\"></span><br><span class=\"line\">USE [master]</span><br><span class=\"line\">GO</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> DATABASE [AxDB] <span class=\"keyword\">SET</span> RECOVERY <span class=\"keyword\">FULL</span> <span class=\"keyword\">WITH</span> NO_WAIT</span><br><span class=\"line\">GO</span><br></pre></td></tr></table></figure>"},{"title":"X++ api list","date":"2024-12-23T07:41:59.000Z","comments":1,"description":"X++ Api List","_content":"\n### FileIOPermission\n\n`FileIOPermission``assert()``FileIOPermission``try catch`\n\n### RecordInsertList\n\n\n\n{% asset_img \"xpp-api-list-recordinsertlist.png\" \"RecordInsertList example\" %}","source":"_posts/xpp-api-list.md","raw":"---\ntitle: X++ api list\ndate: 2024-12-23 15:41:59\ncategories:\n - x++\ncomments: true\ndescription: X++ Api List\n---\n\n### FileIOPermission\n\n`FileIOPermission``assert()``FileIOPermission``try catch`\n\n### RecordInsertList\n\n\n\n{% asset_img \"xpp-api-list-recordinsertlist.png\" \"RecordInsertList example\" %}","slug":"xpp-api-list","published":1,"updated":"2025-12-26T03:11:02.919Z","layout":"post","photos":[],"_id":"cmk9a8vph000f0cqk9lyog8le","content":"<h3 id=\"FileIOPermission\"><a href=\"#FileIOPermission\" class=\"headerlink\" title=\"FileIOPermission\"></a>FileIOPermission</h3><p><code>FileIOPermission</code><code>assert()</code><code>FileIOPermission</code><code>try catch</code></p>\n<h3 id=\"RecordInsertList\"><a href=\"#RecordInsertList\" class=\"headerlink\" title=\"RecordInsertList\"></a>RecordInsertList</h3><p></p>\n<img src=\"/2024/12/23/xpp-api-list/xpp-api-list-recordinsertlist.png\" class=\"\" title=\"RecordInsertList example\">","excerpt":"","more":"<h3 id=\"FileIOPermission\"><a href=\"#FileIOPermission\" class=\"headerlink\" title=\"FileIOPermission\"></a>FileIOPermission</h3><p><code>FileIOPermission</code><code>assert()</code><code>FileIOPermission</code><code>try catch</code></p>\n<h3 id=\"RecordInsertList\"><a href=\"#RecordInsertList\" class=\"headerlink\" title=\"RecordInsertList\"></a>RecordInsertList</h3><p></p>\n<img src=\"/2024/12/23/xpp-api-list/xpp-api-list-recordinsertlist.png\" class=\"\" title=\"RecordInsertList example\">"},{"title":"Create ledger journals in D365FO using X++","comments":1,"date":"2025-07-09T11:39:27.000Z","description":"Create ledger journals in D365FO using X++","_content":"\n> Reprinted from: https://denistrunin.com/xpptools-createledgerjournal/\n\nCreating LedgerJournalTrans using X++ is quite a common task, but sometimes I still see some mistakes(mostly related to fields initialization from account/offset account and voucher assignment). In this post, I'll try to describe possible options how to create ledger journals in D365FO.\n\n## Test scenario\n\nTo test different methods, I wrote a Runnable class DEVTutorialCreateLedgerJournal that creates a new journal based on the data from the existing source journal using different methods. The dialog looks like this\n\n{% asset_img \"CopyJournalDialog.png\" \"CopyJournalDialog\" %}\n\nLet's discuss possible copy options(Copy type parameter):\n\n## LedgerJournalEngine class\n\nThis method is using LedgerJournalEngine class - the same class that is used when the user creates a journal manually on the Journal lines form. This increases the chances that the resulting line will be the same as a manually created line.\n\n```c#\nwhile select ledgerJournalTransOrig\n    order by RecId\n            where ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum\n{\n    numLines++;\n    if (!ledgerJournalTable.RecId)\n    {\n        //Often journal name from parameters is specified here\n        DEV::validateCursorField(ledgerJournalName, fieldNum(LedgerJournalName, JournalName));\n\n        ledgerJournalTable.clear();\n        ledgerJournalTable.initValue();\n        ledgerJournalTable.JournalName = ledgerJournalName.JournalName;\n        ledgerJournalTable.initFromLedgerJournalName();\n        ledgerJournalTable.JournalNum = JournalTableData::newTable(ledgerJournalTable).nextJournalId();\n        ledgerJournalTable.Name = strFmt(\"Copy of %1, Date %2\", _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());\n        ledgerJournalTable.insert();\n\n        info(strFmt(\"Journal %1 created\", ledgerJournalTable.JournalNum));\n\n        ledgerJournalEngine = LedgerJournalEngine::construct(ledgerJournalTable.JournalType);\n        ledgerJournalEngine.newJournalActive(ledgerJournalTable);    }\n\n    ledgerJournalTrans.clear();\n    ledgerJournalTrans.initValue();\n    ledgerJournalEngine.initValue(ledgerJournalTrans);\n    ledgerJournalTrans.JournalNum           =   ledgerJournalTable.JournalNum;\n    ledgerJournalTrans.TransDate            =   DEV::systemdateget();\n    ledgerJournalTrans.AccountType          =   ledgerJournalTransOrig.AccountType;\n    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, AccountType));\n\n    ledgerJournalTrans.LedgerDimension = ledgerJournalTransOrig.LedgerDimension;\n    if (!ledgerJournalTrans.LedgerDimension)\n    {\n        throw error(\"Missing or invalid ledger dimension for journal process\");\n    }\n    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, LedgerDimension));\n    ledgerJournalEngine.accountModified(LedgerJournalTrans);\n    ledgerJournalTrans.OffsetAccountType = ledgerJournalTransOrig.OffsetAccountType;\n    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, OffsetAccountType));\n    ledgerJournalTrans.OffsetLedgerDimension = ledgerJournalTransOrig.OffsetLedgerDimension;\n    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, OffsetLedgerDimension));\n    ledgerJournalEngine.offsetAccountModified(ledgerJournalTrans);\n\n    //amounts\n    LedgerJournalTrans.CurrencyCode         =   ledgerJournalTransOrig.CurrencyCode;\n    ledgerJournalEngine.currencyModified(LedgerJournalTrans);\n    LedgerJournalTrans.AmountCurCredit      =   ledgerJournalTransOrig.AmountCurCredit;\n    LedgerJournalTrans.AmountCurDebit       =   ledgerJournalTransOrig.AmountCurDebit;\n\n    //additional fields\n    LedgerJournalTrans.Approver           = HcmWorker::userId2Worker(curuserid());\n    LedgerJournalTrans.Approved           = NoYes::Yes;\n    ledgerJournalTrans.Txt                = ledgerJournalTransOrig.Txt;\n    LedgerJournalTrans.SkipBlockedForManualEntryCheck = true;\n\n    DEV::validateWriteRecordCheck(ledgerJournalTrans);\n    ledgerJournalTrans.insert();\n    ledgerJournalEngine.write(ledgerJournalTrans);}\n```\n\nWhen you modify Account/Offset account fields in this example you need to call two methods(on ledgerJournalTrans and ledgerJournalEngine). This ensures that the line will be properly initialized from the Account/Offset account field.\n\n```c#\nledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, LedgerDimension));  \nledgerJournalEngine.accountModified(LedgerJournalTrans);\n```\n\nVoucher assignment here is processing in ledgerJournalEngine.write().\n\nAlso, an interesting flag here is LedgerJournalTrans.SkipBlockedForManualEntryCheck. It is useful when you don't want to allow users to create manually lines with the same accounts as in your procedure.\n\n## LedgerJournalTrans defaultRow() method\n\nThis is a new approach in D365FO and it uses a new defaultRow() table method. Data entities also call this method during the import process. Its idea is that we don't control the sequence of different modifiedField method calls, we just populate the fields that we know, all other logic happens in the defaultRow() method.\n\nCode for journal creation in this case:\n\n```c#\nwhile select ledgerJournalTransOrig\n    order by RecId\n    where ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum\n{\n    numLines++;\n\n    if (!ledgerJournalTable.RecId)\n    {\n        ledgerJournalTable.clear();\n        ledgerJournalTable.initValue();\n        ledgerJournalTable.JournalName = _ledgerJournalTableOrig.JournalName;\n        ledgerJournalTable.initFromLedgerJournalName();\n        ledgerJournalTable.JournalNum = JournalTableData::newTable(ledgerJournalTable).nextJournalId();\n        ledgerJournalTable.Name = strFmt(\"Copy of %1, Date %2\", _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());\n        ledgerJournalTable.insert();\n\n        info(strFmt(\"Journal %1 created\", ledgerJournalTable.JournalNum));\n    }\n\n    ledgerJournalTrans.clear();\n    ledgerJournalTrans.initValue();\n\n    ledgerJournalTrans.JournalNum             = ledgerJournalTable.JournalNum;\n    ledgerJournalTrans.TransDate              = DEV::systemdateget();\n    ledgerJournalTrans.AccountType            = ledgerJournalTransOrig.AccountType;\n    ledgerJournalTrans.LedgerDimension        = ledgerJournalTransOrig.LedgerDimension;\n    ledgerJournalTrans.DefaultDimension       = ledgerJournalTransOrig.DefaultDimension;\n\n    ledgerJournalTrans.OffsetAccountType      = ledgerJournalTransOrig.OffsetAccountType;\n    ledgerJournalTrans.OffsetLedgerDimension  = ledgerJournalTransOrig.OffsetLedgerDimension;\n    ledgerJournalTrans.OffsetDefaultDimension = ledgerJournalTransOrig.OffsetDefaultDimension;\n\n    ledgerJournalTrans.CurrencyCode           =   ledgerJournalTransOrig.CurrencyCode;\n    ledgerJournalTrans.AmountCurCredit        =   ledgerJournalTransOrig.AmountCurCredit;\n    ledgerJournalTrans.AmountCurDebit         =   ledgerJournalTransOrig.AmountCurDebit;\n\n    //addition fields\n    ledgerJournalTrans.Approver           = HcmWorker::userId2Worker(curuserid());\n    ledgerJournalTrans.Approved           = NoYes::Yes;\n    ledgerJournalTrans.Txt                = ledgerJournalTransOrig.Txt;\n    ledgerJournalTrans.SkipBlockedForManualEntryCheck = true;\n\n    ledgerJournalTrans.defaultRow();\n    DEV::validateWriteRecordCheck(ledgerJournalTrans);\n    ledgerJournalTrans.insert();\n}\n```\n\nYou can find an example of this approach in the MCRLedgerJournal class (and the usage is here)\n\n## Data entity\n\nWe can also use a data entity for journal creation. Technically it produces the same result as the previous method because a data entity at the end will call a table defaultRow() method.\n\n```c#\nwhile select ledgerJournalTransOrig\n    order by RecId\n    where ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum\n{\n    numLines++;\n    select dimensionCombinationEntity\n        where dimensionCombinationEntity.RecId == ledgerJournalTransOrig.LedgerDimension;\n    select dimensionCombinationEntityOffset\n        where dimensionCombinationEntityOffset.RecId == ledgerJournalTransOrig.OffsetLedgerDimension;\n\n    ledgerJournalEntity.initValue();\n    ledgerJournalEntity.JournalBatchNumber     = journalNum;\n    ledgerJournalEntity.Description            = strFmt(\"Copy of %1, Date %2\", _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());\n    ledgerJournalEntity.JournalName            = _ledgerJournalTableOrig.JournalName;\n    ledgerJournalEntity.LineNumber++;\n\n    //if you have string and want to convert to ID - DimensionDefaultResolver::newResolver(_dimensionDisplayValue).resolve();\n    //AX > General ledge > Chart of accounts > Dimensions > Financial dimension configuration for integrating applications\n    ledgerJournalEntity.AccountType                 = ledgerJournalTransOrig.AccountType;\n    ledgerJournalEntity.AccountDisplayValue         = dimensionCombinationEntity.DisplayValue;\n\n    ledgerJournalEntity.OffsetAccountType           = ledgerJournalTransOrig.OffsetAccountType;\n    ledgerJournalEntity.OffsetAccountDisplayValue   = dimensionCombinationEntityOffset.DisplayValue;\n\n    ledgerJournalEntity.CreditAmount                = ledgerJournalTransOrig.AmountCurCredit;\n    ledgerJournalEntity.DebitAmount                 = ledgerJournalTransOrig.AmountCurDebit;\n    ledgerJournalEntity.CurrencyCode                = ledgerJournalTransOrig.CurrencyCode;\n    ledgerJournalEntity.TEXT                        = ledgerJournalTransOrig.Txt;\n    ledgerJournalEntity.TRANSDATE                   = ledgerJournalTransOrig.TransDate;\n\n    ledgerJournalEntity.defaultRow();\n    DEV::validateWriteRecordCheck(ledgerJournalEntity);\n    ledgerJournalEntity.insert();\n\n    journalNum = ledgerJournalEntity.JournalBatchNumber;\n}\n```\n\nAs you see this method requires less code: we don't even need to write code for the journal header creation, it is all handled by the data entity insert() method. Dimensions can be also specified as strings. However there are some limitations: sometimes data entity doesn't contain all the table fields and it doesn't support all account types.\n\n## Performance testing\n\nLet's test the performance. First I created a test journal with the 1000 lines(**createByCombination method**) and then copied it using these 3 different methods. I got the following results:\n\n|Method|Time to create 1000 lines(sec)|\n|-|-|\n|Using ledgerJournalEngine|30.54|\n|Using DataEntity|33.09|\n|Using Table defaultRow method|15.18|\n\nThere are some differences between the copy speed in my example, but it is caused by a different logic for the dimension creation, so the result is that all methods are almost equal and quite fast. In a real-life scenario, you can expect an insert speed 10-30 lines per second.\n\n## Choosing the right method and things to avoid\n\nIn general, you have 2 options - to create a journal similar to the manual user entry or create it similar to the import procedure(for the second scenario choice between entity and table mostly depends on what input data you have and whether the entity supports all the required fields). So the choice between these two should be made by answering the question: if the user wants to create the same journal manually, does he use manual entry or data import? Use [createJournalUsingLedgerJournalEngine](https://github.com/TrudAX/XppTools/blob/3d69455f4b8157bc28bfc9560e9f70c8bacd634a/DEVTutorial/DEVTutorial/AxClass/DEVTutorialCreateLedgerJournal.xml#L196) as default, as it is more flexible.\n\nProbably in D365FO it is better to avoid creation using JournalTransData classes or when you simply populate ledgerJournalTrans fields and call insert(). This initially can work, but later users may complain - e.g. \"*Why when I create a journal manually and specify a vendor account the Due date field is calculated, but your procedure doesn't fill it*\".\n\n## Summary\n\nYou can download this class using the following link [createJournalUsingLedgerJournalEngine](https://github.com/TrudAX/XppTools/blob/master/DEVTutorial/DEVTutorial/AxClass/DEVTutorialCreateLedgerJournal.xml). The idea is that you can use this code as a template when you have a task to create(or post) a ledger journal using X++. Comments are welcome.","source":"_posts/xpp-createledgerjournals.md","raw":"---\ntitle: Create ledger journals in D365FO using X++\ncomments: true\ndate: 2025-07-09 19:39:27\ntags:\n - LedgerJournalTrans\ncategories:\n - x++\ndescription: Create ledger journals in D365FO using X++\n---\n\n> Reprinted from: https://denistrunin.com/xpptools-createledgerjournal/\n\nCreating LedgerJournalTrans using X++ is quite a common task, but sometimes I still see some mistakes(mostly related to fields initialization from account/offset account and voucher assignment). In this post, I'll try to describe possible options how to create ledger journals in D365FO.\n\n## Test scenario\n\nTo test different methods, I wrote a Runnable class DEVTutorialCreateLedgerJournal that creates a new journal based on the data from the existing source journal using different methods. The dialog looks like this\n\n{% asset_img \"CopyJournalDialog.png\" \"CopyJournalDialog\" %}\n\nLet's discuss possible copy options(Copy type parameter):\n\n## LedgerJournalEngine class\n\nThis method is using LedgerJournalEngine class - the same class that is used when the user creates a journal manually on the Journal lines form. This increases the chances that the resulting line will be the same as a manually created line.\n\n```c#\nwhile select ledgerJournalTransOrig\n    order by RecId\n            where ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum\n{\n    numLines++;\n    if (!ledgerJournalTable.RecId)\n    {\n        //Often journal name from parameters is specified here\n        DEV::validateCursorField(ledgerJournalName, fieldNum(LedgerJournalName, JournalName));\n\n        ledgerJournalTable.clear();\n        ledgerJournalTable.initValue();\n        ledgerJournalTable.JournalName = ledgerJournalName.JournalName;\n        ledgerJournalTable.initFromLedgerJournalName();\n        ledgerJournalTable.JournalNum = JournalTableData::newTable(ledgerJournalTable).nextJournalId();\n        ledgerJournalTable.Name = strFmt(\"Copy of %1, Date %2\", _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());\n        ledgerJournalTable.insert();\n\n        info(strFmt(\"Journal %1 created\", ledgerJournalTable.JournalNum));\n\n        ledgerJournalEngine = LedgerJournalEngine::construct(ledgerJournalTable.JournalType);\n        ledgerJournalEngine.newJournalActive(ledgerJournalTable);    }\n\n    ledgerJournalTrans.clear();\n    ledgerJournalTrans.initValue();\n    ledgerJournalEngine.initValue(ledgerJournalTrans);\n    ledgerJournalTrans.JournalNum           =   ledgerJournalTable.JournalNum;\n    ledgerJournalTrans.TransDate            =   DEV::systemdateget();\n    ledgerJournalTrans.AccountType          =   ledgerJournalTransOrig.AccountType;\n    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, AccountType));\n\n    ledgerJournalTrans.LedgerDimension = ledgerJournalTransOrig.LedgerDimension;\n    if (!ledgerJournalTrans.LedgerDimension)\n    {\n        throw error(\"Missing or invalid ledger dimension for journal process\");\n    }\n    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, LedgerDimension));\n    ledgerJournalEngine.accountModified(LedgerJournalTrans);\n    ledgerJournalTrans.OffsetAccountType = ledgerJournalTransOrig.OffsetAccountType;\n    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, OffsetAccountType));\n    ledgerJournalTrans.OffsetLedgerDimension = ledgerJournalTransOrig.OffsetLedgerDimension;\n    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, OffsetLedgerDimension));\n    ledgerJournalEngine.offsetAccountModified(ledgerJournalTrans);\n\n    //amounts\n    LedgerJournalTrans.CurrencyCode         =   ledgerJournalTransOrig.CurrencyCode;\n    ledgerJournalEngine.currencyModified(LedgerJournalTrans);\n    LedgerJournalTrans.AmountCurCredit      =   ledgerJournalTransOrig.AmountCurCredit;\n    LedgerJournalTrans.AmountCurDebit       =   ledgerJournalTransOrig.AmountCurDebit;\n\n    //additional fields\n    LedgerJournalTrans.Approver           = HcmWorker::userId2Worker(curuserid());\n    LedgerJournalTrans.Approved           = NoYes::Yes;\n    ledgerJournalTrans.Txt                = ledgerJournalTransOrig.Txt;\n    LedgerJournalTrans.SkipBlockedForManualEntryCheck = true;\n\n    DEV::validateWriteRecordCheck(ledgerJournalTrans);\n    ledgerJournalTrans.insert();\n    ledgerJournalEngine.write(ledgerJournalTrans);}\n```\n\nWhen you modify Account/Offset account fields in this example you need to call two methods(on ledgerJournalTrans and ledgerJournalEngine). This ensures that the line will be properly initialized from the Account/Offset account field.\n\n```c#\nledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, LedgerDimension));  \nledgerJournalEngine.accountModified(LedgerJournalTrans);\n```\n\nVoucher assignment here is processing in ledgerJournalEngine.write().\n\nAlso, an interesting flag here is LedgerJournalTrans.SkipBlockedForManualEntryCheck. It is useful when you don't want to allow users to create manually lines with the same accounts as in your procedure.\n\n## LedgerJournalTrans defaultRow() method\n\nThis is a new approach in D365FO and it uses a new defaultRow() table method. Data entities also call this method during the import process. Its idea is that we don't control the sequence of different modifiedField method calls, we just populate the fields that we know, all other logic happens in the defaultRow() method.\n\nCode for journal creation in this case:\n\n```c#\nwhile select ledgerJournalTransOrig\n    order by RecId\n    where ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum\n{\n    numLines++;\n\n    if (!ledgerJournalTable.RecId)\n    {\n        ledgerJournalTable.clear();\n        ledgerJournalTable.initValue();\n        ledgerJournalTable.JournalName = _ledgerJournalTableOrig.JournalName;\n        ledgerJournalTable.initFromLedgerJournalName();\n        ledgerJournalTable.JournalNum = JournalTableData::newTable(ledgerJournalTable).nextJournalId();\n        ledgerJournalTable.Name = strFmt(\"Copy of %1, Date %2\", _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());\n        ledgerJournalTable.insert();\n\n        info(strFmt(\"Journal %1 created\", ledgerJournalTable.JournalNum));\n    }\n\n    ledgerJournalTrans.clear();\n    ledgerJournalTrans.initValue();\n\n    ledgerJournalTrans.JournalNum             = ledgerJournalTable.JournalNum;\n    ledgerJournalTrans.TransDate              = DEV::systemdateget();\n    ledgerJournalTrans.AccountType            = ledgerJournalTransOrig.AccountType;\n    ledgerJournalTrans.LedgerDimension        = ledgerJournalTransOrig.LedgerDimension;\n    ledgerJournalTrans.DefaultDimension       = ledgerJournalTransOrig.DefaultDimension;\n\n    ledgerJournalTrans.OffsetAccountType      = ledgerJournalTransOrig.OffsetAccountType;\n    ledgerJournalTrans.OffsetLedgerDimension  = ledgerJournalTransOrig.OffsetLedgerDimension;\n    ledgerJournalTrans.OffsetDefaultDimension = ledgerJournalTransOrig.OffsetDefaultDimension;\n\n    ledgerJournalTrans.CurrencyCode           =   ledgerJournalTransOrig.CurrencyCode;\n    ledgerJournalTrans.AmountCurCredit        =   ledgerJournalTransOrig.AmountCurCredit;\n    ledgerJournalTrans.AmountCurDebit         =   ledgerJournalTransOrig.AmountCurDebit;\n\n    //addition fields\n    ledgerJournalTrans.Approver           = HcmWorker::userId2Worker(curuserid());\n    ledgerJournalTrans.Approved           = NoYes::Yes;\n    ledgerJournalTrans.Txt                = ledgerJournalTransOrig.Txt;\n    ledgerJournalTrans.SkipBlockedForManualEntryCheck = true;\n\n    ledgerJournalTrans.defaultRow();\n    DEV::validateWriteRecordCheck(ledgerJournalTrans);\n    ledgerJournalTrans.insert();\n}\n```\n\nYou can find an example of this approach in the MCRLedgerJournal class (and the usage is here)\n\n## Data entity\n\nWe can also use a data entity for journal creation. Technically it produces the same result as the previous method because a data entity at the end will call a table defaultRow() method.\n\n```c#\nwhile select ledgerJournalTransOrig\n    order by RecId\n    where ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum\n{\n    numLines++;\n    select dimensionCombinationEntity\n        where dimensionCombinationEntity.RecId == ledgerJournalTransOrig.LedgerDimension;\n    select dimensionCombinationEntityOffset\n        where dimensionCombinationEntityOffset.RecId == ledgerJournalTransOrig.OffsetLedgerDimension;\n\n    ledgerJournalEntity.initValue();\n    ledgerJournalEntity.JournalBatchNumber     = journalNum;\n    ledgerJournalEntity.Description            = strFmt(\"Copy of %1, Date %2\", _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());\n    ledgerJournalEntity.JournalName            = _ledgerJournalTableOrig.JournalName;\n    ledgerJournalEntity.LineNumber++;\n\n    //if you have string and want to convert to ID - DimensionDefaultResolver::newResolver(_dimensionDisplayValue).resolve();\n    //AX > General ledge > Chart of accounts > Dimensions > Financial dimension configuration for integrating applications\n    ledgerJournalEntity.AccountType                 = ledgerJournalTransOrig.AccountType;\n    ledgerJournalEntity.AccountDisplayValue         = dimensionCombinationEntity.DisplayValue;\n\n    ledgerJournalEntity.OffsetAccountType           = ledgerJournalTransOrig.OffsetAccountType;\n    ledgerJournalEntity.OffsetAccountDisplayValue   = dimensionCombinationEntityOffset.DisplayValue;\n\n    ledgerJournalEntity.CreditAmount                = ledgerJournalTransOrig.AmountCurCredit;\n    ledgerJournalEntity.DebitAmount                 = ledgerJournalTransOrig.AmountCurDebit;\n    ledgerJournalEntity.CurrencyCode                = ledgerJournalTransOrig.CurrencyCode;\n    ledgerJournalEntity.TEXT                        = ledgerJournalTransOrig.Txt;\n    ledgerJournalEntity.TRANSDATE                   = ledgerJournalTransOrig.TransDate;\n\n    ledgerJournalEntity.defaultRow();\n    DEV::validateWriteRecordCheck(ledgerJournalEntity);\n    ledgerJournalEntity.insert();\n\n    journalNum = ledgerJournalEntity.JournalBatchNumber;\n}\n```\n\nAs you see this method requires less code: we don't even need to write code for the journal header creation, it is all handled by the data entity insert() method. Dimensions can be also specified as strings. However there are some limitations: sometimes data entity doesn't contain all the table fields and it doesn't support all account types.\n\n## Performance testing\n\nLet's test the performance. First I created a test journal with the 1000 lines(**createByCombination method**) and then copied it using these 3 different methods. I got the following results:\n\n|Method|Time to create 1000 lines(sec)|\n|-|-|\n|Using ledgerJournalEngine|30.54|\n|Using DataEntity|33.09|\n|Using Table defaultRow method|15.18|\n\nThere are some differences between the copy speed in my example, but it is caused by a different logic for the dimension creation, so the result is that all methods are almost equal and quite fast. In a real-life scenario, you can expect an insert speed 10-30 lines per second.\n\n## Choosing the right method and things to avoid\n\nIn general, you have 2 options - to create a journal similar to the manual user entry or create it similar to the import procedure(for the second scenario choice between entity and table mostly depends on what input data you have and whether the entity supports all the required fields). So the choice between these two should be made by answering the question: if the user wants to create the same journal manually, does he use manual entry or data import? Use [createJournalUsingLedgerJournalEngine](https://github.com/TrudAX/XppTools/blob/3d69455f4b8157bc28bfc9560e9f70c8bacd634a/DEVTutorial/DEVTutorial/AxClass/DEVTutorialCreateLedgerJournal.xml#L196) as default, as it is more flexible.\n\nProbably in D365FO it is better to avoid creation using JournalTransData classes or when you simply populate ledgerJournalTrans fields and call insert(). This initially can work, but later users may complain - e.g. \"*Why when I create a journal manually and specify a vendor account the Due date field is calculated, but your procedure doesn't fill it*\".\n\n## Summary\n\nYou can download this class using the following link [createJournalUsingLedgerJournalEngine](https://github.com/TrudAX/XppTools/blob/master/DEVTutorial/DEVTutorial/AxClass/DEVTutorialCreateLedgerJournal.xml). The idea is that you can use this code as a template when you have a task to create(or post) a ledger journal using X++. Comments are welcome.","slug":"xpp-createledgerjournals","published":1,"updated":"2025-12-26T03:11:02.922Z","layout":"post","photos":[],"_id":"cmk9a8vpi000j0cqk9lyl87wh","content":"<blockquote>\n<p>Reprinted from: <a href=\"https://denistrunin.com/xpptools-createledgerjournal/\">https://denistrunin.com/xpptools-createledgerjournal/</a></p>\n</blockquote>\n<p>Creating LedgerJournalTrans using X++ is quite a common task, but sometimes I still see some mistakes(mostly related to fields initialization from account&#x2F;offset account and voucher assignment). In this post, Ill try to describe possible options how to create ledger journals in D365FO.</p>\n<h2 id=\"Test-scenario\"><a href=\"#Test-scenario\" class=\"headerlink\" title=\"Test scenario\"></a>Test scenario</h2><p>To test different methods, I wrote a Runnable class DEVTutorialCreateLedgerJournal that creates a new journal based on the data from the existing source journal using different methods. The dialog looks like this</p>\n<img src=\"/2025/07/09/xpp-createledgerjournals/CopyJournalDialog.png\" class=\"\" title=\"CopyJournalDialog\">\n\n<p>Lets discuss possible copy options(Copy type parameter):</p>\n<h2 id=\"LedgerJournalEngine-class\"><a href=\"#LedgerJournalEngine-class\" class=\"headerlink\" title=\"LedgerJournalEngine class\"></a>LedgerJournalEngine class</h2><p>This method is using LedgerJournalEngine class - the same class that is used when the user creates a journal manually on the Journal lines form. This increases the chances that the resulting line will be the same as a manually created line.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"keyword\">select</span> ledgerJournalTransOrig</span><br><span class=\"line\">    order <span class=\"keyword\">by</span> RecId</span><br><span class=\"line\">            <span class=\"keyword\">where</span> ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    numLines++;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!ledgerJournalTable.RecId)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//Often journal name from parameters is specified here</span></span><br><span class=\"line\">        DEV::validateCursorField(ledgerJournalName, fieldNum(LedgerJournalName, JournalName));</span><br><span class=\"line\"></span><br><span class=\"line\">        ledgerJournalTable.clear();</span><br><span class=\"line\">        ledgerJournalTable.initValue();</span><br><span class=\"line\">        ledgerJournalTable.JournalName = ledgerJournalName.JournalName;</span><br><span class=\"line\">        ledgerJournalTable.initFromLedgerJournalName();</span><br><span class=\"line\">        ledgerJournalTable.JournalNum = JournalTableData::newTable(ledgerJournalTable).nextJournalId();</span><br><span class=\"line\">        ledgerJournalTable.Name = strFmt(<span class=\"string\">&quot;Copy of %1, Date %2&quot;</span>, _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());</span><br><span class=\"line\">        ledgerJournalTable.insert();</span><br><span class=\"line\"></span><br><span class=\"line\">        info(strFmt(<span class=\"string\">&quot;Journal %1 created&quot;</span>, ledgerJournalTable.JournalNum));</span><br><span class=\"line\"></span><br><span class=\"line\">        ledgerJournalEngine = LedgerJournalEngine::construct(ledgerJournalTable.JournalType);</span><br><span class=\"line\">        ledgerJournalEngine.newJournalActive(ledgerJournalTable);    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.clear();</span><br><span class=\"line\">    ledgerJournalTrans.initValue();</span><br><span class=\"line\">    ledgerJournalEngine.initValue(ledgerJournalTrans);</span><br><span class=\"line\">    ledgerJournalTrans.JournalNum           =   ledgerJournalTable.JournalNum;</span><br><span class=\"line\">    ledgerJournalTrans.TransDate            =   DEV::systemdateget();</span><br><span class=\"line\">    ledgerJournalTrans.AccountType          =   ledgerJournalTransOrig.AccountType;</span><br><span class=\"line\">    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, AccountType));</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.LedgerDimension = ledgerJournalTransOrig.LedgerDimension;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!ledgerJournalTrans.LedgerDimension)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> error(<span class=\"string\">&quot;Missing or invalid ledger dimension for journal process&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, LedgerDimension));</span><br><span class=\"line\">    ledgerJournalEngine.accountModified(LedgerJournalTrans);</span><br><span class=\"line\">    ledgerJournalTrans.OffsetAccountType = ledgerJournalTransOrig.OffsetAccountType;</span><br><span class=\"line\">    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, OffsetAccountType));</span><br><span class=\"line\">    ledgerJournalTrans.OffsetLedgerDimension = ledgerJournalTransOrig.OffsetLedgerDimension;</span><br><span class=\"line\">    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, OffsetLedgerDimension));</span><br><span class=\"line\">    ledgerJournalEngine.offsetAccountModified(ledgerJournalTrans);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//amounts</span></span><br><span class=\"line\">    LedgerJournalTrans.CurrencyCode         =   ledgerJournalTransOrig.CurrencyCode;</span><br><span class=\"line\">    ledgerJournalEngine.currencyModified(LedgerJournalTrans);</span><br><span class=\"line\">    LedgerJournalTrans.AmountCurCredit      =   ledgerJournalTransOrig.AmountCurCredit;</span><br><span class=\"line\">    LedgerJournalTrans.AmountCurDebit       =   ledgerJournalTransOrig.AmountCurDebit;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//additional fields</span></span><br><span class=\"line\">    LedgerJournalTrans.Approver           = HcmWorker::userId2Worker(curuserid());</span><br><span class=\"line\">    LedgerJournalTrans.Approved           = NoYes::Yes;</span><br><span class=\"line\">    ledgerJournalTrans.Txt                = ledgerJournalTransOrig.Txt;</span><br><span class=\"line\">    LedgerJournalTrans.SkipBlockedForManualEntryCheck = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    DEV::validateWriteRecordCheck(ledgerJournalTrans);</span><br><span class=\"line\">    ledgerJournalTrans.insert();</span><br><span class=\"line\">    ledgerJournalEngine.write(ledgerJournalTrans);&#125;</span><br></pre></td></tr></table></figure>\n\n<p>When you modify Account&#x2F;Offset account fields in this example you need to call two methods(on ledgerJournalTrans and ledgerJournalEngine). This ensures that the line will be properly initialized from the Account&#x2F;Offset account field.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, LedgerDimension));  </span><br><span class=\"line\">ledgerJournalEngine.accountModified(LedgerJournalTrans);</span><br></pre></td></tr></table></figure>\n\n<p>Voucher assignment here is processing in ledgerJournalEngine.write().</p>\n<p>Also, an interesting flag here is LedgerJournalTrans.SkipBlockedForManualEntryCheck. It is useful when you dont want to allow users to create manually lines with the same accounts as in your procedure.</p>\n<h2 id=\"LedgerJournalTrans-defaultRow-method\"><a href=\"#LedgerJournalTrans-defaultRow-method\" class=\"headerlink\" title=\"LedgerJournalTrans defaultRow() method\"></a>LedgerJournalTrans defaultRow() method</h2><p>This is a new approach in D365FO and it uses a new defaultRow() table method. Data entities also call this method during the import process. Its idea is that we dont control the sequence of different modifiedField method calls, we just populate the fields that we know, all other logic happens in the defaultRow() method.</p>\n<p>Code for journal creation in this case:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"keyword\">select</span> ledgerJournalTransOrig</span><br><span class=\"line\">    order <span class=\"keyword\">by</span> RecId</span><br><span class=\"line\">    <span class=\"keyword\">where</span> ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    numLines++;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!ledgerJournalTable.RecId)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        ledgerJournalTable.clear();</span><br><span class=\"line\">        ledgerJournalTable.initValue();</span><br><span class=\"line\">        ledgerJournalTable.JournalName = _ledgerJournalTableOrig.JournalName;</span><br><span class=\"line\">        ledgerJournalTable.initFromLedgerJournalName();</span><br><span class=\"line\">        ledgerJournalTable.JournalNum = JournalTableData::newTable(ledgerJournalTable).nextJournalId();</span><br><span class=\"line\">        ledgerJournalTable.Name = strFmt(<span class=\"string\">&quot;Copy of %1, Date %2&quot;</span>, _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());</span><br><span class=\"line\">        ledgerJournalTable.insert();</span><br><span class=\"line\"></span><br><span class=\"line\">        info(strFmt(<span class=\"string\">&quot;Journal %1 created&quot;</span>, ledgerJournalTable.JournalNum));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.clear();</span><br><span class=\"line\">    ledgerJournalTrans.initValue();</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.JournalNum             = ledgerJournalTable.JournalNum;</span><br><span class=\"line\">    ledgerJournalTrans.TransDate              = DEV::systemdateget();</span><br><span class=\"line\">    ledgerJournalTrans.AccountType            = ledgerJournalTransOrig.AccountType;</span><br><span class=\"line\">    ledgerJournalTrans.LedgerDimension        = ledgerJournalTransOrig.LedgerDimension;</span><br><span class=\"line\">    ledgerJournalTrans.DefaultDimension       = ledgerJournalTransOrig.DefaultDimension;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.OffsetAccountType      = ledgerJournalTransOrig.OffsetAccountType;</span><br><span class=\"line\">    ledgerJournalTrans.OffsetLedgerDimension  = ledgerJournalTransOrig.OffsetLedgerDimension;</span><br><span class=\"line\">    ledgerJournalTrans.OffsetDefaultDimension = ledgerJournalTransOrig.OffsetDefaultDimension;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.CurrencyCode           =   ledgerJournalTransOrig.CurrencyCode;</span><br><span class=\"line\">    ledgerJournalTrans.AmountCurCredit        =   ledgerJournalTransOrig.AmountCurCredit;</span><br><span class=\"line\">    ledgerJournalTrans.AmountCurDebit         =   ledgerJournalTransOrig.AmountCurDebit;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//addition fields</span></span><br><span class=\"line\">    ledgerJournalTrans.Approver           = HcmWorker::userId2Worker(curuserid());</span><br><span class=\"line\">    ledgerJournalTrans.Approved           = NoYes::Yes;</span><br><span class=\"line\">    ledgerJournalTrans.Txt                = ledgerJournalTransOrig.Txt;</span><br><span class=\"line\">    ledgerJournalTrans.SkipBlockedForManualEntryCheck = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.defaultRow();</span><br><span class=\"line\">    DEV::validateWriteRecordCheck(ledgerJournalTrans);</span><br><span class=\"line\">    ledgerJournalTrans.insert();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>You can find an example of this approach in the MCRLedgerJournal class (and the usage is here)</p>\n<h2 id=\"Data-entity\"><a href=\"#Data-entity\" class=\"headerlink\" title=\"Data entity\"></a>Data entity</h2><p>We can also use a data entity for journal creation. Technically it produces the same result as the previous method because a data entity at the end will call a table defaultRow() method.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"keyword\">select</span> ledgerJournalTransOrig</span><br><span class=\"line\">    order <span class=\"keyword\">by</span> RecId</span><br><span class=\"line\">    <span class=\"keyword\">where</span> ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    numLines++;</span><br><span class=\"line\">    <span class=\"keyword\">select</span> dimensionCombinationEntity</span><br><span class=\"line\">        <span class=\"keyword\">where</span> dimensionCombinationEntity.RecId == ledgerJournalTransOrig.LedgerDimension;</span><br><span class=\"line\">    <span class=\"keyword\">select</span> dimensionCombinationEntityOffset</span><br><span class=\"line\">        <span class=\"keyword\">where</span> dimensionCombinationEntityOffset.RecId == ledgerJournalTransOrig.OffsetLedgerDimension;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalEntity.initValue();</span><br><span class=\"line\">    ledgerJournalEntity.JournalBatchNumber     = journalNum;</span><br><span class=\"line\">    ledgerJournalEntity.Description            = strFmt(<span class=\"string\">&quot;Copy of %1, Date %2&quot;</span>, _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());</span><br><span class=\"line\">    ledgerJournalEntity.JournalName            = _ledgerJournalTableOrig.JournalName;</span><br><span class=\"line\">    ledgerJournalEntity.LineNumber++;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//if you have string and want to convert to ID - DimensionDefaultResolver::newResolver(_dimensionDisplayValue).resolve();</span></span><br><span class=\"line\">    <span class=\"comment\">//AX &gt; General ledge &gt; Chart of accounts &gt; Dimensions &gt; Financial dimension configuration for integrating applications</span></span><br><span class=\"line\">    ledgerJournalEntity.AccountType                 = ledgerJournalTransOrig.AccountType;</span><br><span class=\"line\">    ledgerJournalEntity.AccountDisplayValue         = dimensionCombinationEntity.DisplayValue;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalEntity.OffsetAccountType           = ledgerJournalTransOrig.OffsetAccountType;</span><br><span class=\"line\">    ledgerJournalEntity.OffsetAccountDisplayValue   = dimensionCombinationEntityOffset.DisplayValue;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalEntity.CreditAmount                = ledgerJournalTransOrig.AmountCurCredit;</span><br><span class=\"line\">    ledgerJournalEntity.DebitAmount                 = ledgerJournalTransOrig.AmountCurDebit;</span><br><span class=\"line\">    ledgerJournalEntity.CurrencyCode                = ledgerJournalTransOrig.CurrencyCode;</span><br><span class=\"line\">    ledgerJournalEntity.TEXT                        = ledgerJournalTransOrig.Txt;</span><br><span class=\"line\">    ledgerJournalEntity.TRANSDATE                   = ledgerJournalTransOrig.TransDate;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalEntity.defaultRow();</span><br><span class=\"line\">    DEV::validateWriteRecordCheck(ledgerJournalEntity);</span><br><span class=\"line\">    ledgerJournalEntity.insert();</span><br><span class=\"line\"></span><br><span class=\"line\">    journalNum = ledgerJournalEntity.JournalBatchNumber;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>As you see this method requires less code: we dont even need to write code for the journal header creation, it is all handled by the data entity insert() method. Dimensions can be also specified as strings. However there are some limitations: sometimes data entity doesnt contain all the table fields and it doesnt support all account types.</p>\n<h2 id=\"Performance-testing\"><a href=\"#Performance-testing\" class=\"headerlink\" title=\"Performance testing\"></a>Performance testing</h2><p>Lets test the performance. First I created a test journal with the 1000 lines(<strong>createByCombination method</strong>) and then copied it using these 3 different methods. I got the following results:</p>\n<table>\n<thead>\n<tr>\n<th>Method</th>\n<th>Time to create 1000 lines(sec)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Using ledgerJournalEngine</td>\n<td>30.54</td>\n</tr>\n<tr>\n<td>Using DataEntity</td>\n<td>33.09</td>\n</tr>\n<tr>\n<td>Using Table defaultRow method</td>\n<td>15.18</td>\n</tr>\n</tbody></table>\n<p>There are some differences between the copy speed in my example, but it is caused by a different logic for the dimension creation, so the result is that all methods are almost equal and quite fast. In a real-life scenario, you can expect an insert speed 10-30 lines per second.</p>\n<h2 id=\"Choosing-the-right-method-and-things-to-avoid\"><a href=\"#Choosing-the-right-method-and-things-to-avoid\" class=\"headerlink\" title=\"Choosing the right method and things to avoid\"></a>Choosing the right method and things to avoid</h2><p>In general, you have 2 options - to create a journal similar to the manual user entry or create it similar to the import procedure(for the second scenario choice between entity and table mostly depends on what input data you have and whether the entity supports all the required fields). So the choice between these two should be made by answering the question: if the user wants to create the same journal manually, does he use manual entry or data import? Use <a href=\"https://github.com/TrudAX/XppTools/blob/3d69455f4b8157bc28bfc9560e9f70c8bacd634a/DEVTutorial/DEVTutorial/AxClass/DEVTutorialCreateLedgerJournal.xml#L196\">createJournalUsingLedgerJournalEngine</a> as default, as it is more flexible.</p>\n<p>Probably in D365FO it is better to avoid creation using JournalTransData classes or when you simply populate ledgerJournalTrans fields and call insert(). This initially can work, but later users may complain - e.g. <em>Why when I create a journal manually and specify a vendor account the Due date field is calculated, but your procedure doesnt fill it</em>.</p>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>You can download this class using the following link <a href=\"https://github.com/TrudAX/XppTools/blob/master/DEVTutorial/DEVTutorial/AxClass/DEVTutorialCreateLedgerJournal.xml\">createJournalUsingLedgerJournalEngine</a>. The idea is that you can use this code as a template when you have a task to create(or post) a ledger journal using X++. Comments are welcome.</p>\n","excerpt":"","more":"<blockquote>\n<p>Reprinted from: <a href=\"https://denistrunin.com/xpptools-createledgerjournal/\">https://denistrunin.com/xpptools-createledgerjournal/</a></p>\n</blockquote>\n<p>Creating LedgerJournalTrans using X++ is quite a common task, but sometimes I still see some mistakes(mostly related to fields initialization from account&#x2F;offset account and voucher assignment). In this post, Ill try to describe possible options how to create ledger journals in D365FO.</p>\n<h2 id=\"Test-scenario\"><a href=\"#Test-scenario\" class=\"headerlink\" title=\"Test scenario\"></a>Test scenario</h2><p>To test different methods, I wrote a Runnable class DEVTutorialCreateLedgerJournal that creates a new journal based on the data from the existing source journal using different methods. The dialog looks like this</p>\n<img src=\"/2025/07/09/xpp-createledgerjournals/CopyJournalDialog.png\" class=\"\" title=\"CopyJournalDialog\">\n\n<p>Lets discuss possible copy options(Copy type parameter):</p>\n<h2 id=\"LedgerJournalEngine-class\"><a href=\"#LedgerJournalEngine-class\" class=\"headerlink\" title=\"LedgerJournalEngine class\"></a>LedgerJournalEngine class</h2><p>This method is using LedgerJournalEngine class - the same class that is used when the user creates a journal manually on the Journal lines form. This increases the chances that the resulting line will be the same as a manually created line.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"keyword\">select</span> ledgerJournalTransOrig</span><br><span class=\"line\">    order <span class=\"keyword\">by</span> RecId</span><br><span class=\"line\">            <span class=\"keyword\">where</span> ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    numLines++;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!ledgerJournalTable.RecId)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//Often journal name from parameters is specified here</span></span><br><span class=\"line\">        DEV::validateCursorField(ledgerJournalName, fieldNum(LedgerJournalName, JournalName));</span><br><span class=\"line\"></span><br><span class=\"line\">        ledgerJournalTable.clear();</span><br><span class=\"line\">        ledgerJournalTable.initValue();</span><br><span class=\"line\">        ledgerJournalTable.JournalName = ledgerJournalName.JournalName;</span><br><span class=\"line\">        ledgerJournalTable.initFromLedgerJournalName();</span><br><span class=\"line\">        ledgerJournalTable.JournalNum = JournalTableData::newTable(ledgerJournalTable).nextJournalId();</span><br><span class=\"line\">        ledgerJournalTable.Name = strFmt(<span class=\"string\">&quot;Copy of %1, Date %2&quot;</span>, _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());</span><br><span class=\"line\">        ledgerJournalTable.insert();</span><br><span class=\"line\"></span><br><span class=\"line\">        info(strFmt(<span class=\"string\">&quot;Journal %1 created&quot;</span>, ledgerJournalTable.JournalNum));</span><br><span class=\"line\"></span><br><span class=\"line\">        ledgerJournalEngine = LedgerJournalEngine::construct(ledgerJournalTable.JournalType);</span><br><span class=\"line\">        ledgerJournalEngine.newJournalActive(ledgerJournalTable);    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.clear();</span><br><span class=\"line\">    ledgerJournalTrans.initValue();</span><br><span class=\"line\">    ledgerJournalEngine.initValue(ledgerJournalTrans);</span><br><span class=\"line\">    ledgerJournalTrans.JournalNum           =   ledgerJournalTable.JournalNum;</span><br><span class=\"line\">    ledgerJournalTrans.TransDate            =   DEV::systemdateget();</span><br><span class=\"line\">    ledgerJournalTrans.AccountType          =   ledgerJournalTransOrig.AccountType;</span><br><span class=\"line\">    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, AccountType));</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.LedgerDimension = ledgerJournalTransOrig.LedgerDimension;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!ledgerJournalTrans.LedgerDimension)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> error(<span class=\"string\">&quot;Missing or invalid ledger dimension for journal process&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, LedgerDimension));</span><br><span class=\"line\">    ledgerJournalEngine.accountModified(LedgerJournalTrans);</span><br><span class=\"line\">    ledgerJournalTrans.OffsetAccountType = ledgerJournalTransOrig.OffsetAccountType;</span><br><span class=\"line\">    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, OffsetAccountType));</span><br><span class=\"line\">    ledgerJournalTrans.OffsetLedgerDimension = ledgerJournalTransOrig.OffsetLedgerDimension;</span><br><span class=\"line\">    ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, OffsetLedgerDimension));</span><br><span class=\"line\">    ledgerJournalEngine.offsetAccountModified(ledgerJournalTrans);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//amounts</span></span><br><span class=\"line\">    LedgerJournalTrans.CurrencyCode         =   ledgerJournalTransOrig.CurrencyCode;</span><br><span class=\"line\">    ledgerJournalEngine.currencyModified(LedgerJournalTrans);</span><br><span class=\"line\">    LedgerJournalTrans.AmountCurCredit      =   ledgerJournalTransOrig.AmountCurCredit;</span><br><span class=\"line\">    LedgerJournalTrans.AmountCurDebit       =   ledgerJournalTransOrig.AmountCurDebit;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//additional fields</span></span><br><span class=\"line\">    LedgerJournalTrans.Approver           = HcmWorker::userId2Worker(curuserid());</span><br><span class=\"line\">    LedgerJournalTrans.Approved           = NoYes::Yes;</span><br><span class=\"line\">    ledgerJournalTrans.Txt                = ledgerJournalTransOrig.Txt;</span><br><span class=\"line\">    LedgerJournalTrans.SkipBlockedForManualEntryCheck = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    DEV::validateWriteRecordCheck(ledgerJournalTrans);</span><br><span class=\"line\">    ledgerJournalTrans.insert();</span><br><span class=\"line\">    ledgerJournalEngine.write(ledgerJournalTrans);&#125;</span><br></pre></td></tr></table></figure>\n\n<p>When you modify Account&#x2F;Offset account fields in this example you need to call two methods(on ledgerJournalTrans and ledgerJournalEngine). This ensures that the line will be properly initialized from the Account&#x2F;Offset account field.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ledgerJournalTrans.modifiedField(fieldNum(LedgerJournalTrans, LedgerDimension));  </span><br><span class=\"line\">ledgerJournalEngine.accountModified(LedgerJournalTrans);</span><br></pre></td></tr></table></figure>\n\n<p>Voucher assignment here is processing in ledgerJournalEngine.write().</p>\n<p>Also, an interesting flag here is LedgerJournalTrans.SkipBlockedForManualEntryCheck. It is useful when you dont want to allow users to create manually lines with the same accounts as in your procedure.</p>\n<h2 id=\"LedgerJournalTrans-defaultRow-method\"><a href=\"#LedgerJournalTrans-defaultRow-method\" class=\"headerlink\" title=\"LedgerJournalTrans defaultRow() method\"></a>LedgerJournalTrans defaultRow() method</h2><p>This is a new approach in D365FO and it uses a new defaultRow() table method. Data entities also call this method during the import process. Its idea is that we dont control the sequence of different modifiedField method calls, we just populate the fields that we know, all other logic happens in the defaultRow() method.</p>\n<p>Code for journal creation in this case:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"keyword\">select</span> ledgerJournalTransOrig</span><br><span class=\"line\">    order <span class=\"keyword\">by</span> RecId</span><br><span class=\"line\">    <span class=\"keyword\">where</span> ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    numLines++;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!ledgerJournalTable.RecId)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        ledgerJournalTable.clear();</span><br><span class=\"line\">        ledgerJournalTable.initValue();</span><br><span class=\"line\">        ledgerJournalTable.JournalName = _ledgerJournalTableOrig.JournalName;</span><br><span class=\"line\">        ledgerJournalTable.initFromLedgerJournalName();</span><br><span class=\"line\">        ledgerJournalTable.JournalNum = JournalTableData::newTable(ledgerJournalTable).nextJournalId();</span><br><span class=\"line\">        ledgerJournalTable.Name = strFmt(<span class=\"string\">&quot;Copy of %1, Date %2&quot;</span>, _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());</span><br><span class=\"line\">        ledgerJournalTable.insert();</span><br><span class=\"line\"></span><br><span class=\"line\">        info(strFmt(<span class=\"string\">&quot;Journal %1 created&quot;</span>, ledgerJournalTable.JournalNum));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.clear();</span><br><span class=\"line\">    ledgerJournalTrans.initValue();</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.JournalNum             = ledgerJournalTable.JournalNum;</span><br><span class=\"line\">    ledgerJournalTrans.TransDate              = DEV::systemdateget();</span><br><span class=\"line\">    ledgerJournalTrans.AccountType            = ledgerJournalTransOrig.AccountType;</span><br><span class=\"line\">    ledgerJournalTrans.LedgerDimension        = ledgerJournalTransOrig.LedgerDimension;</span><br><span class=\"line\">    ledgerJournalTrans.DefaultDimension       = ledgerJournalTransOrig.DefaultDimension;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.OffsetAccountType      = ledgerJournalTransOrig.OffsetAccountType;</span><br><span class=\"line\">    ledgerJournalTrans.OffsetLedgerDimension  = ledgerJournalTransOrig.OffsetLedgerDimension;</span><br><span class=\"line\">    ledgerJournalTrans.OffsetDefaultDimension = ledgerJournalTransOrig.OffsetDefaultDimension;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.CurrencyCode           =   ledgerJournalTransOrig.CurrencyCode;</span><br><span class=\"line\">    ledgerJournalTrans.AmountCurCredit        =   ledgerJournalTransOrig.AmountCurCredit;</span><br><span class=\"line\">    ledgerJournalTrans.AmountCurDebit         =   ledgerJournalTransOrig.AmountCurDebit;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//addition fields</span></span><br><span class=\"line\">    ledgerJournalTrans.Approver           = HcmWorker::userId2Worker(curuserid());</span><br><span class=\"line\">    ledgerJournalTrans.Approved           = NoYes::Yes;</span><br><span class=\"line\">    ledgerJournalTrans.Txt                = ledgerJournalTransOrig.Txt;</span><br><span class=\"line\">    ledgerJournalTrans.SkipBlockedForManualEntryCheck = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalTrans.defaultRow();</span><br><span class=\"line\">    DEV::validateWriteRecordCheck(ledgerJournalTrans);</span><br><span class=\"line\">    ledgerJournalTrans.insert();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>You can find an example of this approach in the MCRLedgerJournal class (and the usage is here)</p>\n<h2 id=\"Data-entity\"><a href=\"#Data-entity\" class=\"headerlink\" title=\"Data entity\"></a>Data entity</h2><p>We can also use a data entity for journal creation. Technically it produces the same result as the previous method because a data entity at the end will call a table defaultRow() method.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"keyword\">select</span> ledgerJournalTransOrig</span><br><span class=\"line\">    order <span class=\"keyword\">by</span> RecId</span><br><span class=\"line\">    <span class=\"keyword\">where</span> ledgerJournalTransOrig.JournalNum == _ledgerJournalTableOrig.JournalNum</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    numLines++;</span><br><span class=\"line\">    <span class=\"keyword\">select</span> dimensionCombinationEntity</span><br><span class=\"line\">        <span class=\"keyword\">where</span> dimensionCombinationEntity.RecId == ledgerJournalTransOrig.LedgerDimension;</span><br><span class=\"line\">    <span class=\"keyword\">select</span> dimensionCombinationEntityOffset</span><br><span class=\"line\">        <span class=\"keyword\">where</span> dimensionCombinationEntityOffset.RecId == ledgerJournalTransOrig.OffsetLedgerDimension;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalEntity.initValue();</span><br><span class=\"line\">    ledgerJournalEntity.JournalBatchNumber     = journalNum;</span><br><span class=\"line\">    ledgerJournalEntity.Description            = strFmt(<span class=\"string\">&quot;Copy of %1, Date %2&quot;</span>, _ledgerJournalTableOrig.JournalNum, DEV::systemdateget());</span><br><span class=\"line\">    ledgerJournalEntity.JournalName            = _ledgerJournalTableOrig.JournalName;</span><br><span class=\"line\">    ledgerJournalEntity.LineNumber++;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//if you have string and want to convert to ID - DimensionDefaultResolver::newResolver(_dimensionDisplayValue).resolve();</span></span><br><span class=\"line\">    <span class=\"comment\">//AX &gt; General ledge &gt; Chart of accounts &gt; Dimensions &gt; Financial dimension configuration for integrating applications</span></span><br><span class=\"line\">    ledgerJournalEntity.AccountType                 = ledgerJournalTransOrig.AccountType;</span><br><span class=\"line\">    ledgerJournalEntity.AccountDisplayValue         = dimensionCombinationEntity.DisplayValue;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalEntity.OffsetAccountType           = ledgerJournalTransOrig.OffsetAccountType;</span><br><span class=\"line\">    ledgerJournalEntity.OffsetAccountDisplayValue   = dimensionCombinationEntityOffset.DisplayValue;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalEntity.CreditAmount                = ledgerJournalTransOrig.AmountCurCredit;</span><br><span class=\"line\">    ledgerJournalEntity.DebitAmount                 = ledgerJournalTransOrig.AmountCurDebit;</span><br><span class=\"line\">    ledgerJournalEntity.CurrencyCode                = ledgerJournalTransOrig.CurrencyCode;</span><br><span class=\"line\">    ledgerJournalEntity.TEXT                        = ledgerJournalTransOrig.Txt;</span><br><span class=\"line\">    ledgerJournalEntity.TRANSDATE                   = ledgerJournalTransOrig.TransDate;</span><br><span class=\"line\"></span><br><span class=\"line\">    ledgerJournalEntity.defaultRow();</span><br><span class=\"line\">    DEV::validateWriteRecordCheck(ledgerJournalEntity);</span><br><span class=\"line\">    ledgerJournalEntity.insert();</span><br><span class=\"line\"></span><br><span class=\"line\">    journalNum = ledgerJournalEntity.JournalBatchNumber;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>As you see this method requires less code: we dont even need to write code for the journal header creation, it is all handled by the data entity insert() method. Dimensions can be also specified as strings. However there are some limitations: sometimes data entity doesnt contain all the table fields and it doesnt support all account types.</p>\n<h2 id=\"Performance-testing\"><a href=\"#Performance-testing\" class=\"headerlink\" title=\"Performance testing\"></a>Performance testing</h2><p>Lets test the performance. First I created a test journal with the 1000 lines(<strong>createByCombination method</strong>) and then copied it using these 3 different methods. I got the following results:</p>\n<table>\n<thead>\n<tr>\n<th>Method</th>\n<th>Time to create 1000 lines(sec)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Using ledgerJournalEngine</td>\n<td>30.54</td>\n</tr>\n<tr>\n<td>Using DataEntity</td>\n<td>33.09</td>\n</tr>\n<tr>\n<td>Using Table defaultRow method</td>\n<td>15.18</td>\n</tr>\n</tbody></table>\n<p>There are some differences between the copy speed in my example, but it is caused by a different logic for the dimension creation, so the result is that all methods are almost equal and quite fast. In a real-life scenario, you can expect an insert speed 10-30 lines per second.</p>\n<h2 id=\"Choosing-the-right-method-and-things-to-avoid\"><a href=\"#Choosing-the-right-method-and-things-to-avoid\" class=\"headerlink\" title=\"Choosing the right method and things to avoid\"></a>Choosing the right method and things to avoid</h2><p>In general, you have 2 options - to create a journal similar to the manual user entry or create it similar to the import procedure(for the second scenario choice between entity and table mostly depends on what input data you have and whether the entity supports all the required fields). So the choice between these two should be made by answering the question: if the user wants to create the same journal manually, does he use manual entry or data import? Use <a href=\"https://github.com/TrudAX/XppTools/blob/3d69455f4b8157bc28bfc9560e9f70c8bacd634a/DEVTutorial/DEVTutorial/AxClass/DEVTutorialCreateLedgerJournal.xml#L196\">createJournalUsingLedgerJournalEngine</a> as default, as it is more flexible.</p>\n<p>Probably in D365FO it is better to avoid creation using JournalTransData classes or when you simply populate ledgerJournalTrans fields and call insert(). This initially can work, but later users may complain - e.g. <em>Why when I create a journal manually and specify a vendor account the Due date field is calculated, but your procedure doesnt fill it</em>.</p>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>You can download this class using the following link <a href=\"https://github.com/TrudAX/XppTools/blob/master/DEVTutorial/DEVTutorial/AxClass/DEVTutorialCreateLedgerJournal.xml\">createJournalUsingLedgerJournalEngine</a>. The idea is that you can use this code as a template when you have a task to create(or post) a ledger journal using X++. Comments are welcome.</p>\n"},{"title":"Adding Barcode to a Report","comments":1,"date":"2025-07-14T12:08:04.000Z","description":"This article records a link to a blog that describes the incorporation of barcodes into reports.","_content":"\n> Reprint from: https://d365ffo.com/2023/02/17/ax-d365fo-adding-barcode-to-a-report/comment-page-1/","source":"_posts/xpp-addbarcodetossrs.md","raw":"---\ntitle: Adding Barcode to a Report\ncomments: true\ndate: 2025-07-14 20:08:04\ntags:\n - ssrs\ncategories:\n - x++\ndescription: This article records a link to a blog that describes the incorporation of barcodes into reports.\n---\n\n> Reprint from: https://d365ffo.com/2023/02/17/ax-d365fo-adding-barcode-to-a-report/comment-page-1/","slug":"xpp-addbarcodetossrs","published":1,"updated":"2025-12-26T03:11:02.919Z","layout":"post","photos":[],"_id":"cmk9a8vpj000m0cqk1odechd7","content":"<blockquote>\n<p>Reprint from: <a href=\"https://d365ffo.com/2023/02/17/ax-d365fo-adding-barcode-to-a-report/comment-page-1/\">https://d365ffo.com/2023/02/17/ax-d365fo-adding-barcode-to-a-report/comment-page-1/</a></p>\n</blockquote>\n","excerpt":"","more":"<blockquote>\n<p>Reprint from: <a href=\"https://d365ffo.com/2023/02/17/ax-d365fo-adding-barcode-to-a-report/comment-page-1/\">https://d365ffo.com/2023/02/17/ax-d365fo-adding-barcode-to-a-report/comment-page-1/</a></p>\n</blockquote>\n"},{"title":"How To Create A D365 SSRS Report","comments":1,"date":"2025-07-11T13:24:11.000Z","description":"How To Create A D365 SSRS Report","_content":"\n> Reprint from: https://dynamics365musings.com/create-a-d365-ssrs-report/\n\nI think this blog article is very detailed.","source":"_posts/xpp-createanewssrsreport.md","raw":"---\ntitle: How To Create A D365 SSRS Report\ncomments: true\ndate: 2025-07-11 21:24:11\ntags:\n - ssrs\ncategories:\n - x++\ndescription: How To Create A D365 SSRS Report\n---\n\n> Reprint from: https://dynamics365musings.com/create-a-d365-ssrs-report/\n\nI think this blog article is very detailed.","slug":"xpp-createanewssrsreport","published":1,"updated":"2025-12-26T03:11:02.921Z","layout":"post","photos":[],"_id":"cmk9a8vpj000q0cqkgip5huqa","content":"<blockquote>\n<p>Reprint from: <a href=\"https://dynamics365musings.com/create-a-d365-ssrs-report/\">https://dynamics365musings.com/create-a-d365-ssrs-report/</a></p>\n</blockquote>\n<p>I think this blog article is very detailed.</p>\n","excerpt":"","more":"<blockquote>\n<p>Reprint from: <a href=\"https://dynamics365musings.com/create-a-d365-ssrs-report/\">https://dynamics365musings.com/create-a-d365-ssrs-report/</a></p>\n</blockquote>\n<p>I think this blog article is very detailed.</p>\n"},{"title":"RunBase How to Preventing Cache Retention in BatchJob Executions","comments":1,"date":"2026-01-11T05:02:24.000Z","description":"RunBase How to Preventing Cache Retention in BatchJob Executions","_content":"\nWhen developing a **BatchJob** in Dynamics 365 Finance and Operations, you might encounter an issue where the system retains cached data after a job runs. This results in incorrect data being used during subsequent runs, even after clearing the cache. This typically happens when **global variables are initialized using `args` passed from the `main` method** before calling the `prompt` method.\n\n#### The Issue\n\n* **First Run**: Cache is cleared, and the job runs correctly.\n* **Second Run**: The job uses cached data from the previous run, even after clearing the cache, because global variables were initialized before the prompt method.\n\nThis occurs because by default, the system retains the last execution state for future use.\n\n#### Solution\n\nTo prevent the system from saving the last execution state, you can override the following method in the `RunBaseBatch` class:\n\n```c#\npublic boolean allowSaveLast()\n{\n    return false;\n}\n```\n\nBy returning `false`, you instruct the system **not to save** the data from the previous execution, ensuring that every run of the BatchJob starts fresh.\n\n#### Why It Works\n\nThe `allowSaveLast()` method is a hook in the `RunBaseBatch` class that determines whether or not the system saves the execution state after a BatchJob finishes. By overriding this method and returning `false`, you stop the system from storing the last job's state, which can lead to the caching issue mentioned above.\n\n#### Additional Steps: When Changes Don't Take Effect Immediately\n\nIn some cases, after making the above changes, the system might not immediately reflect the new settings. To ensure the changes are applied correctly, follow these additional steps:\n\n1. **Clear the D365 Usage Data**: This can help clear any old data that might still be cached.\n2. **Restart IIS**: After clearing the usage data, restart the IIS (Internet Information Services) service to refresh the system environment.\n3. **Rebuild the Project**: Finally, rebuild the project to ensure all changes are compiled and active in the environment.\n\nThese steps are sometimes necessary when changes do not take effect immediately, ensuring the system is completely refreshed.\n\n#### Conclusion\n\nTo resolve issues with leftover data from previous BatchJob executions, simply override the `allowSaveLast()` method and return `false`. If changes don't take effect immediately, clear the D365 usage data, restart IIS, and rebuild the project to ensure everything runs as expected. This ensures that each run starts with fresh data, avoiding any problems related to cached or stale information.\n\n---\n\nThis approach effectively controls the caching behavior and ensures consistent, accurate execution of your BatchJobs.","source":"_posts/xpp-dontsavebatchjobcache.md","raw":"---\ntitle: RunBase How to Preventing Cache Retention in BatchJob Executions\ncomments: true\ndate: 2026-01-11 13:02:24\ntags:\n - RunBase\ncategories:\n - x++\ndescription: RunBase How to Preventing Cache Retention in BatchJob Executions\n---\n\nWhen developing a **BatchJob** in Dynamics 365 Finance and Operations, you might encounter an issue where the system retains cached data after a job runs. This results in incorrect data being used during subsequent runs, even after clearing the cache. This typically happens when **global variables are initialized using `args` passed from the `main` method** before calling the `prompt` method.\n\n#### The Issue\n\n* **First Run**: Cache is cleared, and the job runs correctly.\n* **Second Run**: The job uses cached data from the previous run, even after clearing the cache, because global variables were initialized before the prompt method.\n\nThis occurs because by default, the system retains the last execution state for future use.\n\n#### Solution\n\nTo prevent the system from saving the last execution state, you can override the following method in the `RunBaseBatch` class:\n\n```c#\npublic boolean allowSaveLast()\n{\n    return false;\n}\n```\n\nBy returning `false`, you instruct the system **not to save** the data from the previous execution, ensuring that every run of the BatchJob starts fresh.\n\n#### Why It Works\n\nThe `allowSaveLast()` method is a hook in the `RunBaseBatch` class that determines whether or not the system saves the execution state after a BatchJob finishes. By overriding this method and returning `false`, you stop the system from storing the last job's state, which can lead to the caching issue mentioned above.\n\n#### Additional Steps: When Changes Don't Take Effect Immediately\n\nIn some cases, after making the above changes, the system might not immediately reflect the new settings. To ensure the changes are applied correctly, follow these additional steps:\n\n1. **Clear the D365 Usage Data**: This can help clear any old data that might still be cached.\n2. **Restart IIS**: After clearing the usage data, restart the IIS (Internet Information Services) service to refresh the system environment.\n3. **Rebuild the Project**: Finally, rebuild the project to ensure all changes are compiled and active in the environment.\n\nThese steps are sometimes necessary when changes do not take effect immediately, ensuring the system is completely refreshed.\n\n#### Conclusion\n\nTo resolve issues with leftover data from previous BatchJob executions, simply override the `allowSaveLast()` method and return `false`. If changes don't take effect immediately, clear the D365 usage data, restart IIS, and rebuild the project to ensure everything runs as expected. This ensures that each run starts with fresh data, avoiding any problems related to cached or stale information.\n\n---\n\nThis approach effectively controls the caching behavior and ensures consistent, accurate execution of your BatchJobs.","slug":"xpp-dontsavebatchjobcache","published":1,"updated":"2026-01-11T05:12:07.198Z","layout":"post","photos":[],"_id":"cmk9a8vpk000r0cqkd9n43oyr","content":"<p>When developing a <strong>BatchJob</strong> in Dynamics 365 Finance and Operations, you might encounter an issue where the system retains cached data after a job runs. This results in incorrect data being used during subsequent runs, even after clearing the cache. This typically happens when <strong>global variables are initialized using <code>args</code> passed from the <code>main</code> method</strong> before calling the <code>prompt</code> method.</p>\n<h4 id=\"The-Issue\"><a href=\"#The-Issue\" class=\"headerlink\" title=\"The Issue\"></a>The Issue</h4><ul>\n<li><strong>First Run</strong>: Cache is cleared, and the job runs correctly.</li>\n<li><strong>Second Run</strong>: The job uses cached data from the previous run, even after clearing the cache, because global variables were initialized before the prompt method.</li>\n</ul>\n<p>This occurs because by default, the system retains the last execution state for future use.</p>\n<h4 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h4><p>To prevent the system from saving the last execution state, you can override the following method in the <code>RunBaseBatch</code> class:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">allowSaveLast</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>By returning <code>false</code>, you instruct the system <strong>not to save</strong> the data from the previous execution, ensuring that every run of the BatchJob starts fresh.</p>\n<h4 id=\"Why-It-Works\"><a href=\"#Why-It-Works\" class=\"headerlink\" title=\"Why It Works\"></a>Why It Works</h4><p>The <code>allowSaveLast()</code> method is a hook in the <code>RunBaseBatch</code> class that determines whether or not the system saves the execution state after a BatchJob finishes. By overriding this method and returning <code>false</code>, you stop the system from storing the last jobs state, which can lead to the caching issue mentioned above.</p>\n<h4 id=\"Additional-Steps-When-Changes-Dont-Take-Effect-Immediately\"><a href=\"#Additional-Steps-When-Changes-Dont-Take-Effect-Immediately\" class=\"headerlink\" title=\"Additional Steps: When Changes Dont Take Effect Immediately\"></a>Additional Steps: When Changes Dont Take Effect Immediately</h4><p>In some cases, after making the above changes, the system might not immediately reflect the new settings. To ensure the changes are applied correctly, follow these additional steps:</p>\n<ol>\n<li><strong>Clear the D365 Usage Data</strong>: This can help clear any old data that might still be cached.</li>\n<li><strong>Restart IIS</strong>: After clearing the usage data, restart the IIS (Internet Information Services) service to refresh the system environment.</li>\n<li><strong>Rebuild the Project</strong>: Finally, rebuild the project to ensure all changes are compiled and active in the environment.</li>\n</ol>\n<p>These steps are sometimes necessary when changes do not take effect immediately, ensuring the system is completely refreshed.</p>\n<h4 id=\"Conclusion\"><a href=\"#Conclusion\" class=\"headerlink\" title=\"Conclusion\"></a>Conclusion</h4><p>To resolve issues with leftover data from previous BatchJob executions, simply override the <code>allowSaveLast()</code> method and return <code>false</code>. If changes dont take effect immediately, clear the D365 usage data, restart IIS, and rebuild the project to ensure everything runs as expected. This ensures that each run starts with fresh data, avoiding any problems related to cached or stale information.</p>\n<hr>\n<p>This approach effectively controls the caching behavior and ensures consistent, accurate execution of your BatchJobs.</p>\n","excerpt":"","more":"<p>When developing a <strong>BatchJob</strong> in Dynamics 365 Finance and Operations, you might encounter an issue where the system retains cached data after a job runs. This results in incorrect data being used during subsequent runs, even after clearing the cache. This typically happens when <strong>global variables are initialized using <code>args</code> passed from the <code>main</code> method</strong> before calling the <code>prompt</code> method.</p>\n<h4 id=\"The-Issue\"><a href=\"#The-Issue\" class=\"headerlink\" title=\"The Issue\"></a>The Issue</h4><ul>\n<li><strong>First Run</strong>: Cache is cleared, and the job runs correctly.</li>\n<li><strong>Second Run</strong>: The job uses cached data from the previous run, even after clearing the cache, because global variables were initialized before the prompt method.</li>\n</ul>\n<p>This occurs because by default, the system retains the last execution state for future use.</p>\n<h4 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h4><p>To prevent the system from saving the last execution state, you can override the following method in the <code>RunBaseBatch</code> class:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">allowSaveLast</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>By returning <code>false</code>, you instruct the system <strong>not to save</strong> the data from the previous execution, ensuring that every run of the BatchJob starts fresh.</p>\n<h4 id=\"Why-It-Works\"><a href=\"#Why-It-Works\" class=\"headerlink\" title=\"Why It Works\"></a>Why It Works</h4><p>The <code>allowSaveLast()</code> method is a hook in the <code>RunBaseBatch</code> class that determines whether or not the system saves the execution state after a BatchJob finishes. By overriding this method and returning <code>false</code>, you stop the system from storing the last jobs state, which can lead to the caching issue mentioned above.</p>\n<h4 id=\"Additional-Steps-When-Changes-Dont-Take-Effect-Immediately\"><a href=\"#Additional-Steps-When-Changes-Dont-Take-Effect-Immediately\" class=\"headerlink\" title=\"Additional Steps: When Changes Dont Take Effect Immediately\"></a>Additional Steps: When Changes Dont Take Effect Immediately</h4><p>In some cases, after making the above changes, the system might not immediately reflect the new settings. To ensure the changes are applied correctly, follow these additional steps:</p>\n<ol>\n<li><strong>Clear the D365 Usage Data</strong>: This can help clear any old data that might still be cached.</li>\n<li><strong>Restart IIS</strong>: After clearing the usage data, restart the IIS (Internet Information Services) service to refresh the system environment.</li>\n<li><strong>Rebuild the Project</strong>: Finally, rebuild the project to ensure all changes are compiled and active in the environment.</li>\n</ol>\n<p>These steps are sometimes necessary when changes do not take effect immediately, ensuring the system is completely refreshed.</p>\n<h4 id=\"Conclusion\"><a href=\"#Conclusion\" class=\"headerlink\" title=\"Conclusion\"></a>Conclusion</h4><p>To resolve issues with leftover data from previous BatchJob executions, simply override the <code>allowSaveLast()</code> method and return <code>false</code>. If changes dont take effect immediately, clear the D365 usage data, restart IIS, and rebuild the project to ensure everything runs as expected. This ensures that each run starts with fresh data, avoiding any problems related to cached or stale information.</p>\n<hr>\n<p>This approach effectively controls the caching behavior and ensures consistent, accurate execution of your BatchJobs.</p>\n"},{"title":"Dynamics 365 Debugging Configuration","comments":1,"date":"2025-02-23T12:37:45.000Z","description":"Dynamics 365 debugging configuration","_content":"\n>  debug \n\n Tools > Options Dynamics 365 > Debugging tab  debug  Included Packages  debug  load  model\n\n{% asset_img \"xpp-debug-configuration.png\" \"D365 Debugging Configuration\" %}","source":"_posts/xpp-debug-configuration.md","raw":"---\ntitle: Dynamics 365 Debugging Configuration\ncomments: true\ndate: 2025-02-23 20:37:45\ncategories:\n - x++\ndescription: Dynamics 365 debugging configuration\n---\n\n>  debug \n\n Tools > Options Dynamics 365 > Debugging tab  debug  Included Packages  debug  load  model\n\n{% asset_img \"xpp-debug-configuration.png\" \"D365 Debugging Configuration\" %}","slug":"xpp-debug-configuration","published":1,"updated":"2025-12-26T03:11:02.924Z","layout":"post","photos":[],"_id":"cmk9a8vpl000v0cqk6p8jh0bq","content":"<blockquote>\n<p> debug </p>\n</blockquote>\n<p> Tools &gt; Options Dynamics 365 &gt; Debugging tab  debug  Included Packages  debug  load  model</p>\n<img src=\"/2025/02/23/xpp-debug-configuration/xpp-debug-configuration.png\" class=\"\" title=\"D365 Debugging Configuration\">","excerpt":"","more":"<blockquote>\n<p> debug </p>\n</blockquote>\n<p> Tools &gt; Options Dynamics 365 &gt; Debugging tab  debug  Included Packages  debug  load  model</p>\n<img src=\"/2025/02/23/xpp-debug-configuration/xpp-debug-configuration.png\" class=\"\" title=\"D365 Debugging Configuration\">"},{"title":"Extend CustTrans and VendTrans","comments":1,"date":"2025-07-09T11:48:50.000Z","description":"Extend CustTrans and VendTrans","_content":"\n> Just recorded how to extend the feature regards the CustTrans and VendTrans.\n\n## Bring the customized fields of LedgerJournalTrans to CustTrans or VendTrans\n\nIf the requirement wants to create the new fields on CustTrans/VendTrans and LedgerJournalTrans, and want to sync the customized fields to Transaction record after posting the customer journal or vendor journal. You can extend the CustVoucherJournal/VendVoucherJournal as follows:\n\n```c#\n/// <summary>\n/// Willie Yao - 07/08/2025\n/// </summary>\n[ExtensionOf(classstr(CustVoucherJournal))]\nfinal class HMClass_CustVoucherJournal_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <param name = \"custVendTrans\">CustVendTrans</param>\n    /// <param name = \"_ledgerPostingJournal\">LedgerVoucher</param>\n    /// <param name = \"_useSubLedger\">UseSubLedger</param>\n    protected void initCustVendTrans(\n        CustVendTrans   custVendTrans, \n        LedgerVoucher   _ledgerPostingJournal, \n        boolean         _useSubLedger)\n    {\n        next initCustVendTrans(custVendTrans, _ledgerPostingJournal, _useSubLedger);\n        \n        LedgerJournalTrans ledgerJournalTrans;\n\n        if (common.TableId == tablenum(LedgerJournalTrans))\n        {\n            ledgerJournalTrans = common;\n\n            if (custVendTrans.TableId == tableNum(CustTrans))\n            {\n                CustTrans custTrans  = custVendTrans;\n                custTrans.HMField1   = ledgerJournalTrans.HMField1;\n                custTrans.HMField2   = ledgerJournalTrans.HMField2;\n                custVendTrans        = custTrans;\n            }\n\n        }\n    }\n}\n\n/// <summary>\n/// Willie Yao - 07/08/2025\n/// </summary>\n[ExtensionOf(classstr(VendVoucherJournal))]\nfinal class HMClass_VendVoucherJournal_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <param name = \"custVendTrans\">CustVendTrans</param>\n    /// <param name = \"_ledgerPostingJournal\">LedgerVoucher</param>\n    /// <param name = \"_useSubLedger\">UseSubLedger</param>\n    protected void initCustVendTrans(\n        CustVendTrans   custVendTrans, \n        LedgerVoucher   _ledgerPostingJournal, \n        boolean         _useSubLedger)\n    {\n        next initCustVendTrans(custVendTrans, _ledgerPostingJournal, _useSubLedger);\n\n        LedgerJournalTrans ledgerJournalTrans;\n\n        if (common.TableId == tablenum(LedgerJournalTrans))\n        {\n            ledgerJournalTrans = common;\n\n            if (custVendTrans.TableId == tableNum(VendTrans))\n            {\n                VendTrans vendTrans  = custVendTrans;\n                vendTrans.HMField1   = ledgerJournalTrans.HMField1;\n                custVendTrans        = vendTrans;\n            }\n\n        }\n    }\n\n}\n```\n\n## Add new validation logic when posted LedgerJournalTrans\n\nPlease coc the validation logic of LedgerJournalCheckPost class if developer wants to add new validation logic for LedgerJournalTrans post operation.\n\n```c#\n/// <summary>\n/// Willie Yao - 07/08/2025\n/// </summary>\n[ExtensionOf(classstr(LedgerJournalCheckPost))]\nfinal class HMClass_LedgerJournalCheckPost_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <param name = \"_calledFrom\">CalledFrom</param>\n    /// <returns>True if validate right</returns>\n    public boolean validate(Object _calledFrom)\n    {\n        boolean ret = next validate(_calledFrom);\n\n        ret = this.newValidation() && ret;\n\n        return ret;\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <returns>True if validate right</returns>\n    internal boolean newValidation()\n    {\n        LedgerJournalTrans  ledgerJournalTrans;\n        boolean             ok = true;\n\n        ok = this.newValidationLogic(ledgerJournalTrans) && ok;\n\n        return ok;    \n    }\n}\n```\n\n## Extend CustTrans/VendTrans Reversal Logic\n\nDevelopers must coc the reversal method and write the customized logic after the next invoke method.\n\n```c#\n/// <summary>\n/// Willie Yao - 07/08/2025\n/// </summary>\n[ExtensionOf(classstr(TransactionReversal_Cust))]\nfinal class HMClass_TransactionReversal_Cust_Extension\n{ \n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <param name = \"args\">Args</param>\n    void reversal(Args args)\n    {\n        next reversal(args);\n\n        // New Logic\n    }    \n}\n\n/// <summary>\n/// Willie Yao - 07/08/2025\n/// </summary>\n[ExtensionOf(classstr(TransactionReversal_Vend))]\nfinal class HMClass_TransactionReversal_Vend_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <param name = \"args\">Args</param>\n    void reversal(Args args)\n    {\n        next reversal(args);\n\n        // New Logic\n    }  \n}\n```\n\n> More expansion points will be updated successively in the future","source":"_posts/xpp-extendedvendtransandcusttrans.md","raw":"---\ntitle: Extend CustTrans and VendTrans\ncomments: true\ndate: 2025-07-09 19:48:50\ntags:\n - CustTrans\n - VendTrans\n - Reversal\n - LedgerJournalTrans\ncategories:\n - x++\ndescription: Extend CustTrans and VendTrans\n---\n\n> Just recorded how to extend the feature regards the CustTrans and VendTrans.\n\n## Bring the customized fields of LedgerJournalTrans to CustTrans or VendTrans\n\nIf the requirement wants to create the new fields on CustTrans/VendTrans and LedgerJournalTrans, and want to sync the customized fields to Transaction record after posting the customer journal or vendor journal. You can extend the CustVoucherJournal/VendVoucherJournal as follows:\n\n```c#\n/// <summary>\n/// Willie Yao - 07/08/2025\n/// </summary>\n[ExtensionOf(classstr(CustVoucherJournal))]\nfinal class HMClass_CustVoucherJournal_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <param name = \"custVendTrans\">CustVendTrans</param>\n    /// <param name = \"_ledgerPostingJournal\">LedgerVoucher</param>\n    /// <param name = \"_useSubLedger\">UseSubLedger</param>\n    protected void initCustVendTrans(\n        CustVendTrans   custVendTrans, \n        LedgerVoucher   _ledgerPostingJournal, \n        boolean         _useSubLedger)\n    {\n        next initCustVendTrans(custVendTrans, _ledgerPostingJournal, _useSubLedger);\n        \n        LedgerJournalTrans ledgerJournalTrans;\n\n        if (common.TableId == tablenum(LedgerJournalTrans))\n        {\n            ledgerJournalTrans = common;\n\n            if (custVendTrans.TableId == tableNum(CustTrans))\n            {\n                CustTrans custTrans  = custVendTrans;\n                custTrans.HMField1   = ledgerJournalTrans.HMField1;\n                custTrans.HMField2   = ledgerJournalTrans.HMField2;\n                custVendTrans        = custTrans;\n            }\n\n        }\n    }\n}\n\n/// <summary>\n/// Willie Yao - 07/08/2025\n/// </summary>\n[ExtensionOf(classstr(VendVoucherJournal))]\nfinal class HMClass_VendVoucherJournal_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <param name = \"custVendTrans\">CustVendTrans</param>\n    /// <param name = \"_ledgerPostingJournal\">LedgerVoucher</param>\n    /// <param name = \"_useSubLedger\">UseSubLedger</param>\n    protected void initCustVendTrans(\n        CustVendTrans   custVendTrans, \n        LedgerVoucher   _ledgerPostingJournal, \n        boolean         _useSubLedger)\n    {\n        next initCustVendTrans(custVendTrans, _ledgerPostingJournal, _useSubLedger);\n\n        LedgerJournalTrans ledgerJournalTrans;\n\n        if (common.TableId == tablenum(LedgerJournalTrans))\n        {\n            ledgerJournalTrans = common;\n\n            if (custVendTrans.TableId == tableNum(VendTrans))\n            {\n                VendTrans vendTrans  = custVendTrans;\n                vendTrans.HMField1   = ledgerJournalTrans.HMField1;\n                custVendTrans        = vendTrans;\n            }\n\n        }\n    }\n\n}\n```\n\n## Add new validation logic when posted LedgerJournalTrans\n\nPlease coc the validation logic of LedgerJournalCheckPost class if developer wants to add new validation logic for LedgerJournalTrans post operation.\n\n```c#\n/// <summary>\n/// Willie Yao - 07/08/2025\n/// </summary>\n[ExtensionOf(classstr(LedgerJournalCheckPost))]\nfinal class HMClass_LedgerJournalCheckPost_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <param name = \"_calledFrom\">CalledFrom</param>\n    /// <returns>True if validate right</returns>\n    public boolean validate(Object _calledFrom)\n    {\n        boolean ret = next validate(_calledFrom);\n\n        ret = this.newValidation() && ret;\n\n        return ret;\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <returns>True if validate right</returns>\n    internal boolean newValidation()\n    {\n        LedgerJournalTrans  ledgerJournalTrans;\n        boolean             ok = true;\n\n        ok = this.newValidationLogic(ledgerJournalTrans) && ok;\n\n        return ok;    \n    }\n}\n```\n\n## Extend CustTrans/VendTrans Reversal Logic\n\nDevelopers must coc the reversal method and write the customized logic after the next invoke method.\n\n```c#\n/// <summary>\n/// Willie Yao - 07/08/2025\n/// </summary>\n[ExtensionOf(classstr(TransactionReversal_Cust))]\nfinal class HMClass_TransactionReversal_Cust_Extension\n{ \n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <param name = \"args\">Args</param>\n    void reversal(Args args)\n    {\n        next reversal(args);\n\n        // New Logic\n    }    \n}\n\n/// <summary>\n/// Willie Yao - 07/08/2025\n/// </summary>\n[ExtensionOf(classstr(TransactionReversal_Vend))]\nfinal class HMClass_TransactionReversal_Vend_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/08/2025\n    /// </summary>\n    /// <param name = \"args\">Args</param>\n    void reversal(Args args)\n    {\n        next reversal(args);\n\n        // New Logic\n    }  \n}\n```\n\n> More expansion points will be updated successively in the future","slug":"xpp-extendedvendtransandcusttrans","published":1,"updated":"2025-12-26T03:11:02.928Z","layout":"post","photos":[],"_id":"cmk9a8vpl000y0cqk9flr8yqg","content":"<blockquote>\n<p>Just recorded how to extend the feature regards the CustTrans and VendTrans.</p>\n</blockquote>\n<h2 id=\"Bring-the-customized-fields-of-LedgerJournalTrans-to-CustTrans-or-VendTrans\"><a href=\"#Bring-the-customized-fields-of-LedgerJournalTrans-to-CustTrans-or-VendTrans\" class=\"headerlink\" title=\"Bring the customized fields of LedgerJournalTrans to CustTrans or VendTrans\"></a>Bring the customized fields of LedgerJournalTrans to CustTrans or VendTrans</h2><p>If the requirement wants to create the new fields on CustTrans&#x2F;VendTrans and LedgerJournalTrans, and want to sync the customized fields to Transaction record after posting the customer journal or vendor journal. You can extend the CustVoucherJournal&#x2F;VendVoucherJournal as follows:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(CustVoucherJournal))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_CustVoucherJournal_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;custVendTrans&quot;&gt;</span>CustVendTrans<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;_ledgerPostingJournal&quot;&gt;</span>LedgerVoucher<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;_useSubLedger&quot;&gt;</span>UseSubLedger<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">initCustVendTrans</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        CustVendTrans   custVendTrans, </span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        LedgerVoucher   _ledgerPostingJournal, </span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean         _useSubLedger</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">initCustVendTrans</span>(<span class=\"params\">custVendTrans, _ledgerPostingJournal, _useSubLedger</span>)</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">        LedgerJournalTrans ledgerJournalTrans;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (common.TableId == tablenum(LedgerJournalTrans))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ledgerJournalTrans = common;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (custVendTrans.TableId == tableNum(CustTrans))</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                CustTrans custTrans  = custVendTrans;</span><br><span class=\"line\">                custTrans.HMField1   = ledgerJournalTrans.HMField1;</span><br><span class=\"line\">                custTrans.HMField2   = ledgerJournalTrans.HMField2;</span><br><span class=\"line\">                custVendTrans        = custTrans;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(VendVoucherJournal))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_VendVoucherJournal_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;custVendTrans&quot;&gt;</span>CustVendTrans<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;_ledgerPostingJournal&quot;&gt;</span>LedgerVoucher<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;_useSubLedger&quot;&gt;</span>UseSubLedger<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">initCustVendTrans</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        CustVendTrans   custVendTrans, </span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        LedgerVoucher   _ledgerPostingJournal, </span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean         _useSubLedger</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">initCustVendTrans</span>(<span class=\"params\">custVendTrans, _ledgerPostingJournal, _useSubLedger</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        LedgerJournalTrans ledgerJournalTrans;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (common.TableId == tablenum(LedgerJournalTrans))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ledgerJournalTrans = common;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (custVendTrans.TableId == tableNum(VendTrans))</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                VendTrans vendTrans  = custVendTrans;</span><br><span class=\"line\">                vendTrans.HMField1   = ledgerJournalTrans.HMField1;</span><br><span class=\"line\">                custVendTrans        = vendTrans;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Add-new-validation-logic-when-posted-LedgerJournalTrans\"><a href=\"#Add-new-validation-logic-when-posted-LedgerJournalTrans\" class=\"headerlink\" title=\"Add new validation logic when posted LedgerJournalTrans\"></a>Add new validation logic when posted LedgerJournalTrans</h2><p>Please coc the validation logic of LedgerJournalCheckPost class if developer wants to add new validation logic for LedgerJournalTrans post operation.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(LedgerJournalCheckPost))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_LedgerJournalCheckPost_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;_calledFrom&quot;&gt;</span>CalledFrom<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>True if validate right<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">validate</span>(<span class=\"params\">Object _calledFrom</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        boolean ret = <span class=\"function\">next <span class=\"title\">validate</span>(<span class=\"params\">_calledFrom</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        ret = <span class=\"keyword\">this</span>.newValidation() &amp;&amp; ret;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>True if validate right<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">internal</span> boolean <span class=\"title\">newValidation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        LedgerJournalTrans  ledgerJournalTrans;</span><br><span class=\"line\">        boolean             ok = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        ok = <span class=\"keyword\">this</span>.newValidationLogic(ledgerJournalTrans) &amp;&amp; ok;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ok;    </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Extend-CustTrans-VendTrans-Reversal-Logic\"><a href=\"#Extend-CustTrans-VendTrans-Reversal-Logic\" class=\"headerlink\" title=\"Extend CustTrans&#x2F;VendTrans Reversal Logic\"></a>Extend CustTrans&#x2F;VendTrans Reversal Logic</h2><p>Developers must coc the reversal method and write the customized logic after the next invoke method.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(TransactionReversal_Cust))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_TransactionReversal_Cust_Extension</span></span><br><span class=\"line\">&#123; </span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;args&quot;&gt;</span>Args<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">reversal</span>(<span class=\"params\">Args <span class=\"keyword\">args</span></span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">reversal</span>(<span class=\"params\"><span class=\"keyword\">args</span></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// New Logic</span></span><br><span class=\"line\">    &#125;    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(TransactionReversal_Vend))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_TransactionReversal_Vend_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;args&quot;&gt;</span>Args<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">reversal</span>(<span class=\"params\">Args <span class=\"keyword\">args</span></span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">reversal</span>(<span class=\"params\"><span class=\"keyword\">args</span></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// New Logic</span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>More expansion points will be updated successively in the future</p>\n</blockquote>\n","excerpt":"","more":"<blockquote>\n<p>Just recorded how to extend the feature regards the CustTrans and VendTrans.</p>\n</blockquote>\n<h2 id=\"Bring-the-customized-fields-of-LedgerJournalTrans-to-CustTrans-or-VendTrans\"><a href=\"#Bring-the-customized-fields-of-LedgerJournalTrans-to-CustTrans-or-VendTrans\" class=\"headerlink\" title=\"Bring the customized fields of LedgerJournalTrans to CustTrans or VendTrans\"></a>Bring the customized fields of LedgerJournalTrans to CustTrans or VendTrans</h2><p>If the requirement wants to create the new fields on CustTrans&#x2F;VendTrans and LedgerJournalTrans, and want to sync the customized fields to Transaction record after posting the customer journal or vendor journal. You can extend the CustVoucherJournal&#x2F;VendVoucherJournal as follows:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(CustVoucherJournal))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_CustVoucherJournal_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;custVendTrans&quot;&gt;</span>CustVendTrans<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;_ledgerPostingJournal&quot;&gt;</span>LedgerVoucher<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;_useSubLedger&quot;&gt;</span>UseSubLedger<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">initCustVendTrans</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        CustVendTrans   custVendTrans, </span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        LedgerVoucher   _ledgerPostingJournal, </span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean         _useSubLedger</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">initCustVendTrans</span>(<span class=\"params\">custVendTrans, _ledgerPostingJournal, _useSubLedger</span>)</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">        LedgerJournalTrans ledgerJournalTrans;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (common.TableId == tablenum(LedgerJournalTrans))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ledgerJournalTrans = common;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (custVendTrans.TableId == tableNum(CustTrans))</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                CustTrans custTrans  = custVendTrans;</span><br><span class=\"line\">                custTrans.HMField1   = ledgerJournalTrans.HMField1;</span><br><span class=\"line\">                custTrans.HMField2   = ledgerJournalTrans.HMField2;</span><br><span class=\"line\">                custVendTrans        = custTrans;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(VendVoucherJournal))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_VendVoucherJournal_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;custVendTrans&quot;&gt;</span>CustVendTrans<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;_ledgerPostingJournal&quot;&gt;</span>LedgerVoucher<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;_useSubLedger&quot;&gt;</span>UseSubLedger<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">initCustVendTrans</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        CustVendTrans   custVendTrans, </span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        LedgerVoucher   _ledgerPostingJournal, </span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean         _useSubLedger</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">initCustVendTrans</span>(<span class=\"params\">custVendTrans, _ledgerPostingJournal, _useSubLedger</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        LedgerJournalTrans ledgerJournalTrans;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (common.TableId == tablenum(LedgerJournalTrans))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ledgerJournalTrans = common;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (custVendTrans.TableId == tableNum(VendTrans))</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                VendTrans vendTrans  = custVendTrans;</span><br><span class=\"line\">                vendTrans.HMField1   = ledgerJournalTrans.HMField1;</span><br><span class=\"line\">                custVendTrans        = vendTrans;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Add-new-validation-logic-when-posted-LedgerJournalTrans\"><a href=\"#Add-new-validation-logic-when-posted-LedgerJournalTrans\" class=\"headerlink\" title=\"Add new validation logic when posted LedgerJournalTrans\"></a>Add new validation logic when posted LedgerJournalTrans</h2><p>Please coc the validation logic of LedgerJournalCheckPost class if developer wants to add new validation logic for LedgerJournalTrans post operation.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(LedgerJournalCheckPost))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_LedgerJournalCheckPost_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;_calledFrom&quot;&gt;</span>CalledFrom<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>True if validate right<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">validate</span>(<span class=\"params\">Object _calledFrom</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        boolean ret = <span class=\"function\">next <span class=\"title\">validate</span>(<span class=\"params\">_calledFrom</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        ret = <span class=\"keyword\">this</span>.newValidation() &amp;&amp; ret;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>True if validate right<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">internal</span> boolean <span class=\"title\">newValidation</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        LedgerJournalTrans  ledgerJournalTrans;</span><br><span class=\"line\">        boolean             ok = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        ok = <span class=\"keyword\">this</span>.newValidationLogic(ledgerJournalTrans) &amp;&amp; ok;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ok;    </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Extend-CustTrans-VendTrans-Reversal-Logic\"><a href=\"#Extend-CustTrans-VendTrans-Reversal-Logic\" class=\"headerlink\" title=\"Extend CustTrans&#x2F;VendTrans Reversal Logic\"></a>Extend CustTrans&#x2F;VendTrans Reversal Logic</h2><p>Developers must coc the reversal method and write the customized logic after the next invoke method.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(TransactionReversal_Cust))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_TransactionReversal_Cust_Extension</span></span><br><span class=\"line\">&#123; </span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;args&quot;&gt;</span>Args<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">reversal</span>(<span class=\"params\">Args <span class=\"keyword\">args</span></span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">reversal</span>(<span class=\"params\"><span class=\"keyword\">args</span></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// New Logic</span></span><br><span class=\"line\">    &#125;    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(TransactionReversal_Vend))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_TransactionReversal_Vend_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/08/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name = &quot;args&quot;&gt;</span>Args<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">reversal</span>(<span class=\"params\">Args <span class=\"keyword\">args</span></span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">reversal</span>(<span class=\"params\"><span class=\"keyword\">args</span></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// New Logic</span></span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>More expansion points will be updated successively in the future</p>\n</blockquote>\n"},{"title":"How to create a new design for a Sales Invoice report in D365FO","comments":1,"date":"2025-07-09T12:14:45.000Z","description":"How to create a new design for a Sales Invoice report in D365FO","_content":"\n> Reprinted from: https://denistrunin.com/xpptools-createledgerjournal/\n\nCreating a new Sales Invoice report design using SSRS and X++ is quite a common task. In this post, I'll try to describe how you can do this in Dynamics 365 Finance and Operations.\n\n## Sales Invoice report development\n\nI will use \"DEVTutorial\" prefix for new elements\n\n## Data provided class\n\nLet's start with a data provider. We should create a new class and extend it from the standard **SalesInvoiceDP**. In this case, we can add additional fields that are relevant only for our report.\n\n```c#\n[SRSReportParameterAttribute(classStr(SalesInvoiceContract))]\nclass DEVTutorialSalesInvoiceDP  extends SalesInvoiceDP\n{\n    protected void populateSalesInvoiceTmp(CustInvoiceJour _custInvoiceJour,\n            CustInvoiceTrans _custInvoiceTrans,\n            TaxSpec _taxSpec,\n            CustPaymSchedLine _custPaymSchedLine,\n            CustTrans _prepaymentCustTrans,\n            TaxTrans _prepaymentTaxTrans)\n    {\n        super(_custInvoiceJour, _custInvoiceTrans, _taxSpec, _custPaymSchedLine, _prepaymentCustTrans, _prepaymentTaxTrans);\n        //populate additional fields in salesInvoiceTmp here\n        //salesInvoiceTmp.MyField = '';\n        //this method is called for main lines and also for all linked tables\n        //please note, that it will not be called if there are already some data exist in salesInvoiceTmp table for the selected Sales order, you need to delete existing records   \n    }\n\n    protected void populateSalesInvoiceHeaderFooterTmp(CustInvoiceJour _custInvoiceJour, CompanyInfo _companyInfo)\n    {\n        super(_custInvoiceJour, _companyInfo);\n        //populate additional fields in salesInvoiceTmp here\n        //salesInvoiceHeaderFooterTmp.MyField = '';\n    } \n}\n```\n\n## Report design\n\nThen add a new SSRS report to our project\n\n{% asset_img \"CreateNewReport.png\" \"CreateNewReport\" %}\n\nWe need to add Datasets for this report. In the standard system we have 4 sales invoice datasets, let's add them all.\n\n|Dataset name|Query|\n|-|-|\n|SalesInvoiceDS|SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceTmp|\n|SalesInvoiceHeaderFooterDS|SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceHeaderFooterTmp|\n|SalesInvoiceLocalizationDS|SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceLocalizationTmp|\n|DocuBrandDetailsDS|SELECT * FROM DEVTutorialSalesInvoiceDP.SysDocuBrandDetailsRegular|\n\nAt the end you should have something like that:\n\n{% asset_img \"ReportDatasets.png\" \"ReportDatasets\" %}\n\n## Report Design\n\nThen let's add a new Precision Design(Report)\n\nModify its properties: Size to standard A4 210x297mm and all Margins to 0.\n\n{% asset_img \"ReportProperties.png\" \"ReportProperties\" %}\n\nAdd the following sections\n\n## Header section\n\nFor the header, let's add a logo from Document branding\n\n```vb\n=First(Fields!Image1.Value, \"DocuBrandDetailsDS\")\n```\n\nand some client information\n\n```vb\n=First(Fields!SalesId.Value, \"SalesInvoiceHeaderFooterDS\")   & vbcrlf &  \nFirst(Fields!InvoiceDate.Value, \"SalesInvoiceHeaderFooterDS\")  & vbcrlf &\nFirst(Fields!InvoicingAddress.Value, \"SalesInvoiceHeaderFooterDS\")\n```\n\n## Line section\n\nAdd a new Tablix control with **SalesInvoiceDS** dataset\n\n{% asset_img \"LineTablix.png\" \"LineTablix\" %}\n\nAdjust Row visibility to the following formula \"=IIF(Fields!ItemId.Value = \"\", true, false)\" as SalesInvoiceDS may contain data from linked tables(like payment schedule)\n\n{% asset_img \"RowVisibility.png\" \"RowVisibility\" %}\n\nLet's also add a totals section. The resulting design should look like this.\n\n{% asset_img \"ReportResulting.png\" \"ReportResulting\" %}\n\n## Connect a new report to Print management\n\nA sales invoice can be used in a Print management module. In order to connect our report to this module, we need to subscribe to two events(create 2 new classes):\n\nUpdate 25/11/2021. A more detailed description can be found in the following blog [How to Add New Report Format to Print Management](https://ax.docentric.com/how-to-add-new-report-format-to-print-management/)\n\n```c#\n[ExtensionOf(classstr(PrintMgmtReportFormatPopulator))]\nfinal class PrintMgmtReportFormatPopulatorDEVTutorial_Extension{   protected void addDocuments()\n    {\n        this.addStandard(PrintMgmtDocumentType::SalesOrderInvoice);\n        next addDocuments();\n    } }\n\nfinal static class PrintMgmtDocTypeDEVTutorial_EventHandler{     [SubscribesTo(classstr(PrintMgmtDocType), delegatestr(PrintMgmtDocType, getDefaultReportFormatDelegate))]\n    public static void getDefaultReportFormatDelegate(PrintMgmtDocumentType _docType, EventHandlerResult _result)\n    {   switch (_docType)\n        {\n            case PrintMgmtDocumentType::SalesOrderInvoice:\n                _result.result(ssrsReportStr(DEVTutorialSalesInvoice, Report));\n                break;\n        }  } }\n```\n\n## Test Sales invoice report\n\nThat is all. It is time to test our report.\n\nBuild and deploy the report. Then, before the test, you need to add it to the print management settings. In order to do this - run the following job\n\n```c#\nclass DEVTutorialPopulateReports\n{   public static void main(Args _args)\n    {\n        PrintMgmtReportFormatPopulator::construct().populate();\n    }}\n```\n\nNext step is to add a logo to our report. Go to the **Document images** form and upload the image. Then go to the **Branding details** form and select this image.\n\nTo print the invoice go to the **Accounts receivable - Invoice journal**, select **Document - Original preview** and you should see our sample report:\n\n{% asset_img \"PrintedReport.png\" \"PrintedReport\" %}\n\n## The future of SSRS reporting\n\nThere may be a question of what is the future of SSRS reporting. Considering the latest news, I think that its popularity may grow. Microsoft recently released Power BI Paginated Reports that are completely based on SSRS \"rdl\" files. Technically a new Power BI Paginated Reports Builder is an old SSRS report builder with a new name(yes, another name change).\n\nCheck, for example, this recent course [Power BI Paginated Reports in a Day course](https://docs.microsoft.com/en-us/power-bi/learning-catalog/paginated-reports-online-course). Almost all its modules(except maybe 04) are relevant to D365FO development.\n\nAnd this Bear in the previous picture is not just a funny picture, it is an official mascot of Power BI [Paginated Reports](https://youtu.be/vu32LfckCt8?list=PL1N57mwBHtN1icIhpjQOaRL8r9G-wytpT&t=7). So with a new name and a new Bear, I hope the popularity of SSRS may grow.\n\n## SSRS reporting issues\n\nIf you watch this \"Power BI Paginated reports Day [course](https://docs.microsoft.com/en-us/power-bi/learning-catalog/paginated-reports-online-course)\" you may feel that SSRS is cool(presentation is really great). However, the last main update for Report Builder was 10 years ago and the current version has some issues. Just some of them:\n\n- \"rdl\" file is a very complex XML format. So in most cases, you will not be able to compare changes in the report - by using text compare you will see a huge number of differences in XML structure even for a small design change.\n- Page splitting is very basic. For example, if you have a data row that consists of multiple lines and you want to avoid page breaks inside this row, you may find that this is not supported and you need to develop your own page grouping solution.\n- You can't define a section that prints something on the footer of the last report page(and it is a quite popular requirement for reports - often it contains some bank payment information). There is a workaround for this if your report has 1 or 2 pages - you can put this information on page footer and hide the element using Globals!PageNumber and Globals!TotalPages variables, but if a report has 3 or more pages this will leave an empty space on these pages.\n- Report designer doesn't support formulas for defining Width property.\nSo there are a lot of things that can be improved, and I hope Microsoft will invest in it.\n\n## Summary\n\nReal-life invoice reports can be quite complex and require a lot of efforts to create them. However, as we see, creating a simple Sales Invoice design is not a complex task. You can use the project above as a starting point(another option to consider is to install modern design [templates](https://docs.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/install-modern-report-design-templates#apply-the-modern-designs)).\n\nIf you have some hints for SSRS report development, don't hesitate to post a comment. The project used in this post can be downloaded from my [GitHub](https://github.com/TrudAX/XppTools/tree/master/DEVTutorial/DEVTutorialReports)(you can download a model to a temporary folder and add elements from it to your project using \"Add - Existing item..\" command)","source":"_posts/xpp-extendsalesinvoicereport.md","raw":"---\ntitle: How to create a new design for a Sales Invoice report in D365FO\ncomments: true\ndate: 2025-07-09 20:14:45\ntags:\n - ssrs\n - sales invoice report\ncategories:\n - x++\ndescription: How to create a new design for a Sales Invoice report in D365FO\n---\n\n> Reprinted from: https://denistrunin.com/xpptools-createledgerjournal/\n\nCreating a new Sales Invoice report design using SSRS and X++ is quite a common task. In this post, I'll try to describe how you can do this in Dynamics 365 Finance and Operations.\n\n## Sales Invoice report development\n\nI will use \"DEVTutorial\" prefix for new elements\n\n## Data provided class\n\nLet's start with a data provider. We should create a new class and extend it from the standard **SalesInvoiceDP**. In this case, we can add additional fields that are relevant only for our report.\n\n```c#\n[SRSReportParameterAttribute(classStr(SalesInvoiceContract))]\nclass DEVTutorialSalesInvoiceDP  extends SalesInvoiceDP\n{\n    protected void populateSalesInvoiceTmp(CustInvoiceJour _custInvoiceJour,\n            CustInvoiceTrans _custInvoiceTrans,\n            TaxSpec _taxSpec,\n            CustPaymSchedLine _custPaymSchedLine,\n            CustTrans _prepaymentCustTrans,\n            TaxTrans _prepaymentTaxTrans)\n    {\n        super(_custInvoiceJour, _custInvoiceTrans, _taxSpec, _custPaymSchedLine, _prepaymentCustTrans, _prepaymentTaxTrans);\n        //populate additional fields in salesInvoiceTmp here\n        //salesInvoiceTmp.MyField = '';\n        //this method is called for main lines and also for all linked tables\n        //please note, that it will not be called if there are already some data exist in salesInvoiceTmp table for the selected Sales order, you need to delete existing records   \n    }\n\n    protected void populateSalesInvoiceHeaderFooterTmp(CustInvoiceJour _custInvoiceJour, CompanyInfo _companyInfo)\n    {\n        super(_custInvoiceJour, _companyInfo);\n        //populate additional fields in salesInvoiceTmp here\n        //salesInvoiceHeaderFooterTmp.MyField = '';\n    } \n}\n```\n\n## Report design\n\nThen add a new SSRS report to our project\n\n{% asset_img \"CreateNewReport.png\" \"CreateNewReport\" %}\n\nWe need to add Datasets for this report. In the standard system we have 4 sales invoice datasets, let's add them all.\n\n|Dataset name|Query|\n|-|-|\n|SalesInvoiceDS|SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceTmp|\n|SalesInvoiceHeaderFooterDS|SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceHeaderFooterTmp|\n|SalesInvoiceLocalizationDS|SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceLocalizationTmp|\n|DocuBrandDetailsDS|SELECT * FROM DEVTutorialSalesInvoiceDP.SysDocuBrandDetailsRegular|\n\nAt the end you should have something like that:\n\n{% asset_img \"ReportDatasets.png\" \"ReportDatasets\" %}\n\n## Report Design\n\nThen let's add a new Precision Design(Report)\n\nModify its properties: Size to standard A4 210x297mm and all Margins to 0.\n\n{% asset_img \"ReportProperties.png\" \"ReportProperties\" %}\n\nAdd the following sections\n\n## Header section\n\nFor the header, let's add a logo from Document branding\n\n```vb\n=First(Fields!Image1.Value, \"DocuBrandDetailsDS\")\n```\n\nand some client information\n\n```vb\n=First(Fields!SalesId.Value, \"SalesInvoiceHeaderFooterDS\")   & vbcrlf &  \nFirst(Fields!InvoiceDate.Value, \"SalesInvoiceHeaderFooterDS\")  & vbcrlf &\nFirst(Fields!InvoicingAddress.Value, \"SalesInvoiceHeaderFooterDS\")\n```\n\n## Line section\n\nAdd a new Tablix control with **SalesInvoiceDS** dataset\n\n{% asset_img \"LineTablix.png\" \"LineTablix\" %}\n\nAdjust Row visibility to the following formula \"=IIF(Fields!ItemId.Value = \"\", true, false)\" as SalesInvoiceDS may contain data from linked tables(like payment schedule)\n\n{% asset_img \"RowVisibility.png\" \"RowVisibility\" %}\n\nLet's also add a totals section. The resulting design should look like this.\n\n{% asset_img \"ReportResulting.png\" \"ReportResulting\" %}\n\n## Connect a new report to Print management\n\nA sales invoice can be used in a Print management module. In order to connect our report to this module, we need to subscribe to two events(create 2 new classes):\n\nUpdate 25/11/2021. A more detailed description can be found in the following blog [How to Add New Report Format to Print Management](https://ax.docentric.com/how-to-add-new-report-format-to-print-management/)\n\n```c#\n[ExtensionOf(classstr(PrintMgmtReportFormatPopulator))]\nfinal class PrintMgmtReportFormatPopulatorDEVTutorial_Extension{   protected void addDocuments()\n    {\n        this.addStandard(PrintMgmtDocumentType::SalesOrderInvoice);\n        next addDocuments();\n    } }\n\nfinal static class PrintMgmtDocTypeDEVTutorial_EventHandler{     [SubscribesTo(classstr(PrintMgmtDocType), delegatestr(PrintMgmtDocType, getDefaultReportFormatDelegate))]\n    public static void getDefaultReportFormatDelegate(PrintMgmtDocumentType _docType, EventHandlerResult _result)\n    {   switch (_docType)\n        {\n            case PrintMgmtDocumentType::SalesOrderInvoice:\n                _result.result(ssrsReportStr(DEVTutorialSalesInvoice, Report));\n                break;\n        }  } }\n```\n\n## Test Sales invoice report\n\nThat is all. It is time to test our report.\n\nBuild and deploy the report. Then, before the test, you need to add it to the print management settings. In order to do this - run the following job\n\n```c#\nclass DEVTutorialPopulateReports\n{   public static void main(Args _args)\n    {\n        PrintMgmtReportFormatPopulator::construct().populate();\n    }}\n```\n\nNext step is to add a logo to our report. Go to the **Document images** form and upload the image. Then go to the **Branding details** form and select this image.\n\nTo print the invoice go to the **Accounts receivable - Invoice journal**, select **Document - Original preview** and you should see our sample report:\n\n{% asset_img \"PrintedReport.png\" \"PrintedReport\" %}\n\n## The future of SSRS reporting\n\nThere may be a question of what is the future of SSRS reporting. Considering the latest news, I think that its popularity may grow. Microsoft recently released Power BI Paginated Reports that are completely based on SSRS \"rdl\" files. Technically a new Power BI Paginated Reports Builder is an old SSRS report builder with a new name(yes, another name change).\n\nCheck, for example, this recent course [Power BI Paginated Reports in a Day course](https://docs.microsoft.com/en-us/power-bi/learning-catalog/paginated-reports-online-course). Almost all its modules(except maybe 04) are relevant to D365FO development.\n\nAnd this Bear in the previous picture is not just a funny picture, it is an official mascot of Power BI [Paginated Reports](https://youtu.be/vu32LfckCt8?list=PL1N57mwBHtN1icIhpjQOaRL8r9G-wytpT&t=7). So with a new name and a new Bear, I hope the popularity of SSRS may grow.\n\n## SSRS reporting issues\n\nIf you watch this \"Power BI Paginated reports Day [course](https://docs.microsoft.com/en-us/power-bi/learning-catalog/paginated-reports-online-course)\" you may feel that SSRS is cool(presentation is really great). However, the last main update for Report Builder was 10 years ago and the current version has some issues. Just some of them:\n\n- \"rdl\" file is a very complex XML format. So in most cases, you will not be able to compare changes in the report - by using text compare you will see a huge number of differences in XML structure even for a small design change.\n- Page splitting is very basic. For example, if you have a data row that consists of multiple lines and you want to avoid page breaks inside this row, you may find that this is not supported and you need to develop your own page grouping solution.\n- You can't define a section that prints something on the footer of the last report page(and it is a quite popular requirement for reports - often it contains some bank payment information). There is a workaround for this if your report has 1 or 2 pages - you can put this information on page footer and hide the element using Globals!PageNumber and Globals!TotalPages variables, but if a report has 3 or more pages this will leave an empty space on these pages.\n- Report designer doesn't support formulas for defining Width property.\nSo there are a lot of things that can be improved, and I hope Microsoft will invest in it.\n\n## Summary\n\nReal-life invoice reports can be quite complex and require a lot of efforts to create them. However, as we see, creating a simple Sales Invoice design is not a complex task. You can use the project above as a starting point(another option to consider is to install modern design [templates](https://docs.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/install-modern-report-design-templates#apply-the-modern-designs)).\n\nIf you have some hints for SSRS report development, don't hesitate to post a comment. The project used in this post can be downloaded from my [GitHub](https://github.com/TrudAX/XppTools/tree/master/DEVTutorial/DEVTutorialReports)(you can download a model to a temporary folder and add elements from it to your project using \"Add - Existing item..\" command)","slug":"xpp-extendsalesinvoicereport","published":1,"updated":"2025-12-26T03:11:02.928Z","layout":"post","photos":[],"_id":"cmk9a8vpm00120cqk54ez8q5e","content":"<blockquote>\n<p>Reprinted from: <a href=\"https://denistrunin.com/xpptools-createledgerjournal/\">https://denistrunin.com/xpptools-createledgerjournal/</a></p>\n</blockquote>\n<p>Creating a new Sales Invoice report design using SSRS and X++ is quite a common task. In this post, Ill try to describe how you can do this in Dynamics 365 Finance and Operations.</p>\n<h2 id=\"Sales-Invoice-report-development\"><a href=\"#Sales-Invoice-report-development\" class=\"headerlink\" title=\"Sales Invoice report development\"></a>Sales Invoice report development</h2><p>I will use DEVTutorial prefix for new elements</p>\n<h2 id=\"Data-provided-class\"><a href=\"#Data-provided-class\" class=\"headerlink\" title=\"Data provided class\"></a>Data provided class</h2><p>Lets start with a data provider. We should create a new class and extend it from the standard <strong>SalesInvoiceDP</strong>. In this case, we can add additional fields that are relevant only for our report.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">SRSReportParameterAttribute(classStr(SalesInvoiceContract))</span>]</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">DEVTutorialSalesInvoiceDP</span>  <span class=\"title\">extends</span> <span class=\"title\">SalesInvoiceDP</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">populateSalesInvoiceTmp</span>(<span class=\"params\">CustInvoiceJour _custInvoiceJour,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            CustInvoiceTrans _custInvoiceTrans,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            TaxSpec _taxSpec,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            CustPaymSchedLine _custPaymSchedLine,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            CustTrans _prepaymentCustTrans,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            TaxTrans _prepaymentTaxTrans</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        super(_custInvoiceJour, _custInvoiceTrans, _taxSpec, _custPaymSchedLine, _prepaymentCustTrans, _prepaymentTaxTrans);</span><br><span class=\"line\">        <span class=\"comment\">//populate additional fields in salesInvoiceTmp here</span></span><br><span class=\"line\">        <span class=\"comment\">//salesInvoiceTmp.MyField = &#x27;&#x27;;</span></span><br><span class=\"line\">        <span class=\"comment\">//this method is called for main lines and also for all linked tables</span></span><br><span class=\"line\">        <span class=\"comment\">//please note, that it will not be called if there are already some data exist in salesInvoiceTmp table for the selected Sales order, you need to delete existing records   </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">populateSalesInvoiceHeaderFooterTmp</span>(<span class=\"params\">CustInvoiceJour _custInvoiceJour, CompanyInfo _companyInfo</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        super(_custInvoiceJour, _companyInfo);</span><br><span class=\"line\">        <span class=\"comment\">//populate additional fields in salesInvoiceTmp here</span></span><br><span class=\"line\">        <span class=\"comment\">//salesInvoiceHeaderFooterTmp.MyField = &#x27;&#x27;;</span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Report-design\"><a href=\"#Report-design\" class=\"headerlink\" title=\"Report design\"></a>Report design</h2><p>Then add a new SSRS report to our project</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/CreateNewReport.png\" class=\"\" title=\"CreateNewReport\">\n\n<p>We need to add Datasets for this report. In the standard system we have 4 sales invoice datasets, lets add them all.</p>\n<table>\n<thead>\n<tr>\n<th>Dataset name</th>\n<th>Query</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>SalesInvoiceDS</td>\n<td>SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceTmp</td>\n</tr>\n<tr>\n<td>SalesInvoiceHeaderFooterDS</td>\n<td>SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceHeaderFooterTmp</td>\n</tr>\n<tr>\n<td>SalesInvoiceLocalizationDS</td>\n<td>SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceLocalizationTmp</td>\n</tr>\n<tr>\n<td>DocuBrandDetailsDS</td>\n<td>SELECT * FROM DEVTutorialSalesInvoiceDP.SysDocuBrandDetailsRegular</td>\n</tr>\n</tbody></table>\n<p>At the end you should have something like that:</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/ReportDatasets.png\" class=\"\" title=\"ReportDatasets\">\n\n<h2 id=\"Report-Design\"><a href=\"#Report-Design\" class=\"headerlink\" title=\"Report Design\"></a>Report Design</h2><p>Then lets add a new Precision Design(Report)</p>\n<p>Modify its properties: Size to standard A4 210x297mm and all Margins to 0.</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/ReportProperties.png\" class=\"\" title=\"ReportProperties\">\n\n<p>Add the following sections</p>\n<h2 id=\"Header-section\"><a href=\"#Header-section\" class=\"headerlink\" title=\"Header section\"></a>Header section</h2><p>For the header, lets add a logo from Document branding</p>\n<figure class=\"highlight vb\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">=First(Fields!Image1.Value, <span class=\"string\">&quot;DocuBrandDetailsDS&quot;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>and some client information</p>\n<figure class=\"highlight vb\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">=First(Fields!SalesId.Value, <span class=\"string\">&quot;SalesInvoiceHeaderFooterDS&quot;</span>)   &amp; vbcrlf &amp;  </span><br><span class=\"line\">First(Fields!InvoiceDate.Value, <span class=\"string\">&quot;SalesInvoiceHeaderFooterDS&quot;</span>)  &amp; vbcrlf &amp;</span><br><span class=\"line\">First(Fields!InvoicingAddress.Value, <span class=\"string\">&quot;SalesInvoiceHeaderFooterDS&quot;</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Line-section\"><a href=\"#Line-section\" class=\"headerlink\" title=\"Line section\"></a>Line section</h2><p>Add a new Tablix control with <strong>SalesInvoiceDS</strong> dataset</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/LineTablix.png\" class=\"\" title=\"LineTablix\">\n\n<p>Adjust Row visibility to the following formula &#x3D;IIF(Fields!ItemId.Value &#x3D; , true, false) as SalesInvoiceDS may contain data from linked tables(like payment schedule)</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/RowVisibility.png\" class=\"\" title=\"RowVisibility\">\n\n<p>Lets also add a totals section. The resulting design should look like this.</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/ReportResulting.png\" class=\"\" title=\"ReportResulting\">\n\n<h2 id=\"Connect-a-new-report-to-Print-management\"><a href=\"#Connect-a-new-report-to-Print-management\" class=\"headerlink\" title=\"Connect a new report to Print management\"></a>Connect a new report to Print management</h2><p>A sales invoice can be used in a Print management module. In order to connect our report to this module, we need to subscribe to two events(create 2 new classes):</p>\n<p>Update 25&#x2F;11&#x2F;2021. A more detailed description can be found in the following blog <a href=\"https://ax.docentric.com/how-to-add-new-report-format-to-print-management/\">How to Add New Report Format to Print Management</a></p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(PrintMgmtReportFormatPopulator))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">PrintMgmtReportFormatPopulatorDEVTutorial_Extension</span>&#123;   <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">addDocuments</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.addStandard(PrintMgmtDocumentType::SalesOrderInvoice);</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">addDocuments</span>()</span>;</span><br><span class=\"line\">    &#125; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">final <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title\">PrintMgmtDocTypeDEVTutorial_EventHandler</span>&#123;     [SubscribesTo(classstr(PrintMgmtDocType), delegatestr(PrintMgmtDocType, getDefaultReportFormatDelegate))]</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">getDefaultReportFormatDelegate</span>(<span class=\"params\">PrintMgmtDocumentType _docType, EventHandlerResult _result</span>)</span></span><br><span class=\"line\">    &#123;   <span class=\"keyword\">switch</span> (_docType)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> PrintMgmtDocumentType::SalesOrderInvoice:</span><br><span class=\"line\">                _result.result(ssrsReportStr(DEVTutorialSalesInvoice, Report));</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;  &#125; &#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Test-Sales-invoice-report\"><a href=\"#Test-Sales-invoice-report\" class=\"headerlink\" title=\"Test Sales invoice report\"></a>Test Sales invoice report</h2><p>That is all. It is time to test our report.</p>\n<p>Build and deploy the report. Then, before the test, you need to add it to the print management settings. In order to do this - run the following job</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">DEVTutorialPopulateReports</span></span><br><span class=\"line\">&#123;   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span>(<span class=\"params\">Args _args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        PrintMgmtReportFormatPopulator::construct().populate();</span><br><span class=\"line\">    &#125;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Next step is to add a logo to our report. Go to the <strong>Document images</strong> form and upload the image. Then go to the <strong>Branding details</strong> form and select this image.</p>\n<p>To print the invoice go to the <strong>Accounts receivable - Invoice journal</strong>, select <strong>Document - Original preview</strong> and you should see our sample report:</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/PrintedReport.png\" class=\"\" title=\"PrintedReport\">\n\n<h2 id=\"The-future-of-SSRS-reporting\"><a href=\"#The-future-of-SSRS-reporting\" class=\"headerlink\" title=\"The future of SSRS reporting\"></a>The future of SSRS reporting</h2><p>There may be a question of what is the future of SSRS reporting. Considering the latest news, I think that its popularity may grow. Microsoft recently released Power BI Paginated Reports that are completely based on SSRS rdl files. Technically a new Power BI Paginated Reports Builder is an old SSRS report builder with a new name(yes, another name change).</p>\n<p>Check, for example, this recent course <a href=\"https://docs.microsoft.com/en-us/power-bi/learning-catalog/paginated-reports-online-course\">Power BI Paginated Reports in a Day course</a>. Almost all its modules(except maybe 04) are relevant to D365FO development.</p>\n<p>And this Bear in the previous picture is not just a funny picture, it is an official mascot of Power BI <a href=\"https://youtu.be/vu32LfckCt8?list=PL1N57mwBHtN1icIhpjQOaRL8r9G-wytpT&t=7\">Paginated Reports</a>. So with a new name and a new Bear, I hope the popularity of SSRS may grow.</p>\n<h2 id=\"SSRS-reporting-issues\"><a href=\"#SSRS-reporting-issues\" class=\"headerlink\" title=\"SSRS reporting issues\"></a>SSRS reporting issues</h2><p>If you watch this Power BI Paginated reports Day <a href=\"https://docs.microsoft.com/en-us/power-bi/learning-catalog/paginated-reports-online-course\">course</a> you may feel that SSRS is cool(presentation is really great). However, the last main update for Report Builder was 10 years ago and the current version has some issues. Just some of them:</p>\n<ul>\n<li>rdl file is a very complex XML format. So in most cases, you will not be able to compare changes in the report - by using text compare you will see a huge number of differences in XML structure even for a small design change.</li>\n<li>Page splitting is very basic. For example, if you have a data row that consists of multiple lines and you want to avoid page breaks inside this row, you may find that this is not supported and you need to develop your own page grouping solution.</li>\n<li>You cant define a section that prints something on the footer of the last report page(and it is a quite popular requirement for reports - often it contains some bank payment information). There is a workaround for this if your report has 1 or 2 pages - you can put this information on page footer and hide the element using Globals!PageNumber and Globals!TotalPages variables, but if a report has 3 or more pages this will leave an empty space on these pages.</li>\n<li>Report designer doesnt support formulas for defining Width property.<br>So there are a lot of things that can be improved, and I hope Microsoft will invest in it.</li>\n</ul>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>Real-life invoice reports can be quite complex and require a lot of efforts to create them. However, as we see, creating a simple Sales Invoice design is not a complex task. You can use the project above as a starting point(another option to consider is to install modern design <a href=\"https://docs.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/install-modern-report-design-templates#apply-the-modern-designs\">templates</a>).</p>\n<p>If you have some hints for SSRS report development, dont hesitate to post a comment. The project used in this post can be downloaded from my <a href=\"https://github.com/TrudAX/XppTools/tree/master/DEVTutorial/DEVTutorialReports\">GitHub</a>(you can download a model to a temporary folder and add elements from it to your project using Add - Existing item.. command)</p>\n","excerpt":"","more":"<blockquote>\n<p>Reprinted from: <a href=\"https://denistrunin.com/xpptools-createledgerjournal/\">https://denistrunin.com/xpptools-createledgerjournal/</a></p>\n</blockquote>\n<p>Creating a new Sales Invoice report design using SSRS and X++ is quite a common task. In this post, Ill try to describe how you can do this in Dynamics 365 Finance and Operations.</p>\n<h2 id=\"Sales-Invoice-report-development\"><a href=\"#Sales-Invoice-report-development\" class=\"headerlink\" title=\"Sales Invoice report development\"></a>Sales Invoice report development</h2><p>I will use DEVTutorial prefix for new elements</p>\n<h2 id=\"Data-provided-class\"><a href=\"#Data-provided-class\" class=\"headerlink\" title=\"Data provided class\"></a>Data provided class</h2><p>Lets start with a data provider. We should create a new class and extend it from the standard <strong>SalesInvoiceDP</strong>. In this case, we can add additional fields that are relevant only for our report.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">SRSReportParameterAttribute(classStr(SalesInvoiceContract))</span>]</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">DEVTutorialSalesInvoiceDP</span>  <span class=\"title\">extends</span> <span class=\"title\">SalesInvoiceDP</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">populateSalesInvoiceTmp</span>(<span class=\"params\">CustInvoiceJour _custInvoiceJour,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            CustInvoiceTrans _custInvoiceTrans,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            TaxSpec _taxSpec,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            CustPaymSchedLine _custPaymSchedLine,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            CustTrans _prepaymentCustTrans,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">            TaxTrans _prepaymentTaxTrans</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        super(_custInvoiceJour, _custInvoiceTrans, _taxSpec, _custPaymSchedLine, _prepaymentCustTrans, _prepaymentTaxTrans);</span><br><span class=\"line\">        <span class=\"comment\">//populate additional fields in salesInvoiceTmp here</span></span><br><span class=\"line\">        <span class=\"comment\">//salesInvoiceTmp.MyField = &#x27;&#x27;;</span></span><br><span class=\"line\">        <span class=\"comment\">//this method is called for main lines and also for all linked tables</span></span><br><span class=\"line\">        <span class=\"comment\">//please note, that it will not be called if there are already some data exist in salesInvoiceTmp table for the selected Sales order, you need to delete existing records   </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">populateSalesInvoiceHeaderFooterTmp</span>(<span class=\"params\">CustInvoiceJour _custInvoiceJour, CompanyInfo _companyInfo</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        super(_custInvoiceJour, _companyInfo);</span><br><span class=\"line\">        <span class=\"comment\">//populate additional fields in salesInvoiceTmp here</span></span><br><span class=\"line\">        <span class=\"comment\">//salesInvoiceHeaderFooterTmp.MyField = &#x27;&#x27;;</span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Report-design\"><a href=\"#Report-design\" class=\"headerlink\" title=\"Report design\"></a>Report design</h2><p>Then add a new SSRS report to our project</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/CreateNewReport.png\" class=\"\" title=\"CreateNewReport\">\n\n<p>We need to add Datasets for this report. In the standard system we have 4 sales invoice datasets, lets add them all.</p>\n<table>\n<thead>\n<tr>\n<th>Dataset name</th>\n<th>Query</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>SalesInvoiceDS</td>\n<td>SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceTmp</td>\n</tr>\n<tr>\n<td>SalesInvoiceHeaderFooterDS</td>\n<td>SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceHeaderFooterTmp</td>\n</tr>\n<tr>\n<td>SalesInvoiceLocalizationDS</td>\n<td>SELECT * FROM DEVTutorialSalesInvoiceDP.SalesInvoiceLocalizationTmp</td>\n</tr>\n<tr>\n<td>DocuBrandDetailsDS</td>\n<td>SELECT * FROM DEVTutorialSalesInvoiceDP.SysDocuBrandDetailsRegular</td>\n</tr>\n</tbody></table>\n<p>At the end you should have something like that:</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/ReportDatasets.png\" class=\"\" title=\"ReportDatasets\">\n\n<h2 id=\"Report-Design\"><a href=\"#Report-Design\" class=\"headerlink\" title=\"Report Design\"></a>Report Design</h2><p>Then lets add a new Precision Design(Report)</p>\n<p>Modify its properties: Size to standard A4 210x297mm and all Margins to 0.</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/ReportProperties.png\" class=\"\" title=\"ReportProperties\">\n\n<p>Add the following sections</p>\n<h2 id=\"Header-section\"><a href=\"#Header-section\" class=\"headerlink\" title=\"Header section\"></a>Header section</h2><p>For the header, lets add a logo from Document branding</p>\n<figure class=\"highlight vb\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">=First(Fields!Image1.Value, <span class=\"string\">&quot;DocuBrandDetailsDS&quot;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>and some client information</p>\n<figure class=\"highlight vb\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">=First(Fields!SalesId.Value, <span class=\"string\">&quot;SalesInvoiceHeaderFooterDS&quot;</span>)   &amp; vbcrlf &amp;  </span><br><span class=\"line\">First(Fields!InvoiceDate.Value, <span class=\"string\">&quot;SalesInvoiceHeaderFooterDS&quot;</span>)  &amp; vbcrlf &amp;</span><br><span class=\"line\">First(Fields!InvoicingAddress.Value, <span class=\"string\">&quot;SalesInvoiceHeaderFooterDS&quot;</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Line-section\"><a href=\"#Line-section\" class=\"headerlink\" title=\"Line section\"></a>Line section</h2><p>Add a new Tablix control with <strong>SalesInvoiceDS</strong> dataset</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/LineTablix.png\" class=\"\" title=\"LineTablix\">\n\n<p>Adjust Row visibility to the following formula &#x3D;IIF(Fields!ItemId.Value &#x3D; , true, false) as SalesInvoiceDS may contain data from linked tables(like payment schedule)</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/RowVisibility.png\" class=\"\" title=\"RowVisibility\">\n\n<p>Lets also add a totals section. The resulting design should look like this.</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/ReportResulting.png\" class=\"\" title=\"ReportResulting\">\n\n<h2 id=\"Connect-a-new-report-to-Print-management\"><a href=\"#Connect-a-new-report-to-Print-management\" class=\"headerlink\" title=\"Connect a new report to Print management\"></a>Connect a new report to Print management</h2><p>A sales invoice can be used in a Print management module. In order to connect our report to this module, we need to subscribe to two events(create 2 new classes):</p>\n<p>Update 25&#x2F;11&#x2F;2021. A more detailed description can be found in the following blog <a href=\"https://ax.docentric.com/how-to-add-new-report-format-to-print-management/\">How to Add New Report Format to Print Management</a></p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">ExtensionOf(classstr(PrintMgmtReportFormatPopulator))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">PrintMgmtReportFormatPopulatorDEVTutorial_Extension</span>&#123;   <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">addDocuments</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.addStandard(PrintMgmtDocumentType::SalesOrderInvoice);</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">addDocuments</span>()</span>;</span><br><span class=\"line\">    &#125; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">final <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title\">PrintMgmtDocTypeDEVTutorial_EventHandler</span>&#123;     [SubscribesTo(classstr(PrintMgmtDocType), delegatestr(PrintMgmtDocType, getDefaultReportFormatDelegate))]</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">getDefaultReportFormatDelegate</span>(<span class=\"params\">PrintMgmtDocumentType _docType, EventHandlerResult _result</span>)</span></span><br><span class=\"line\">    &#123;   <span class=\"keyword\">switch</span> (_docType)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> PrintMgmtDocumentType::SalesOrderInvoice:</span><br><span class=\"line\">                _result.result(ssrsReportStr(DEVTutorialSalesInvoice, Report));</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;  &#125; &#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Test-Sales-invoice-report\"><a href=\"#Test-Sales-invoice-report\" class=\"headerlink\" title=\"Test Sales invoice report\"></a>Test Sales invoice report</h2><p>That is all. It is time to test our report.</p>\n<p>Build and deploy the report. Then, before the test, you need to add it to the print management settings. In order to do this - run the following job</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">DEVTutorialPopulateReports</span></span><br><span class=\"line\">&#123;   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span>(<span class=\"params\">Args _args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        PrintMgmtReportFormatPopulator::construct().populate();</span><br><span class=\"line\">    &#125;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Next step is to add a logo to our report. Go to the <strong>Document images</strong> form and upload the image. Then go to the <strong>Branding details</strong> form and select this image.</p>\n<p>To print the invoice go to the <strong>Accounts receivable - Invoice journal</strong>, select <strong>Document - Original preview</strong> and you should see our sample report:</p>\n<img src=\"/2025/07/09/xpp-extendsalesinvoicereport/PrintedReport.png\" class=\"\" title=\"PrintedReport\">\n\n<h2 id=\"The-future-of-SSRS-reporting\"><a href=\"#The-future-of-SSRS-reporting\" class=\"headerlink\" title=\"The future of SSRS reporting\"></a>The future of SSRS reporting</h2><p>There may be a question of what is the future of SSRS reporting. Considering the latest news, I think that its popularity may grow. Microsoft recently released Power BI Paginated Reports that are completely based on SSRS rdl files. Technically a new Power BI Paginated Reports Builder is an old SSRS report builder with a new name(yes, another name change).</p>\n<p>Check, for example, this recent course <a href=\"https://docs.microsoft.com/en-us/power-bi/learning-catalog/paginated-reports-online-course\">Power BI Paginated Reports in a Day course</a>. Almost all its modules(except maybe 04) are relevant to D365FO development.</p>\n<p>And this Bear in the previous picture is not just a funny picture, it is an official mascot of Power BI <a href=\"https://youtu.be/vu32LfckCt8?list=PL1N57mwBHtN1icIhpjQOaRL8r9G-wytpT&t=7\">Paginated Reports</a>. So with a new name and a new Bear, I hope the popularity of SSRS may grow.</p>\n<h2 id=\"SSRS-reporting-issues\"><a href=\"#SSRS-reporting-issues\" class=\"headerlink\" title=\"SSRS reporting issues\"></a>SSRS reporting issues</h2><p>If you watch this Power BI Paginated reports Day <a href=\"https://docs.microsoft.com/en-us/power-bi/learning-catalog/paginated-reports-online-course\">course</a> you may feel that SSRS is cool(presentation is really great). However, the last main update for Report Builder was 10 years ago and the current version has some issues. Just some of them:</p>\n<ul>\n<li>rdl file is a very complex XML format. So in most cases, you will not be able to compare changes in the report - by using text compare you will see a huge number of differences in XML structure even for a small design change.</li>\n<li>Page splitting is very basic. For example, if you have a data row that consists of multiple lines and you want to avoid page breaks inside this row, you may find that this is not supported and you need to develop your own page grouping solution.</li>\n<li>You cant define a section that prints something on the footer of the last report page(and it is a quite popular requirement for reports - often it contains some bank payment information). There is a workaround for this if your report has 1 or 2 pages - you can put this information on page footer and hide the element using Globals!PageNumber and Globals!TotalPages variables, but if a report has 3 or more pages this will leave an empty space on these pages.</li>\n<li>Report designer doesnt support formulas for defining Width property.<br>So there are a lot of things that can be improved, and I hope Microsoft will invest in it.</li>\n</ul>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>Real-life invoice reports can be quite complex and require a lot of efforts to create them. However, as we see, creating a simple Sales Invoice design is not a complex task. You can use the project above as a starting point(another option to consider is to install modern design <a href=\"https://docs.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/analytics/install-modern-report-design-templates#apply-the-modern-designs\">templates</a>).</p>\n<p>If you have some hints for SSRS report development, dont hesitate to post a comment. The project used in this post can be downloaded from my <a href=\"https://github.com/TrudAX/XppTools/tree/master/DEVTutorial/DEVTutorialReports\">GitHub</a>(you can download a model to a temporary folder and add elements from it to your project using Add - Existing item.. command)</p>\n"},{"title":"How to bring the sub billing schedule customized field value to sales order","comments":1,"date":"2025-07-11T11:54:42.000Z","description":"How to bring the sub billing schedule customized field value to sales order","_content":"\nDeveloper can extend `SubBillCreateSalesOrder` class to extend the customized fields value populated logic. Please see the example code:\n\n```c#\n/// <summary>\n/// Willie Yao - 07/04/2025\n/// The extension class for SubBillCreateSalesOrder\n/// </summary>\n[ExtensionOf(classStr(SubBillCreateSalesOrder))]\nfinal class HMClass_SubBillCreateSalesOrder_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/04/2025\n    /// Coc the <c>createSalesLine</c> method for initialing the sales line's customized fields.\n    /// </summary>\n    /// <param name=\"_salesLine\">SalesLine</param>\n    /// <param name=\"_salesLineConsolidated\">SubBillSalesLineConsolidated</param>\n    /// <param name=\"_salesIdCon\">_salesIdCon<SalesId/param>\n    /// <param name=\"_allocEnabled\">AllocEnabled</param>\n    /// <param name=\"_splitByItemGroup\">SplitByItemGroup</param>\n    /// <param name=\"_isInvoiceCreator\">IsInvoiceCreator</param>\n    /// <param name=\"_includeBillingDatesToItem\">IncludeBillingDatesToItem</param>\n    /// <returns>SalesLine</returns>\n    public static SalesLine createSalesLine(\n        SalesLine _salesLine,\n        SubBillSalesLineConsolidated _salesLineConsolidated,\n        SalesId _salesIdCon,\n        boolean _allocEnabled,\n        boolean _splitByItemGroup,\n        boolean _isInvoiceCreator,\n        boolean _includeBillingDatesToItem)\n    {\n        SubBillScheduleLine     scheduleLine    = SubBillScheduleLine::find(_salesLineConsolidated.SubBillBillingScheduleNumber, _salesLineConsolidated.LineNum);\n        SubBillScheduleTable    scheduleTable   = SubBillScheduleTable::find(_salesLineConsolidated.SubBillBillingScheduleNumber);\n        SalesLine               salesLine       = next createSalesLine(_salesLine, _salesLineConsolidated, _salesIdCon, _allocEnabled, _splitByItemGroup, _isInvoiceCreator, _includeBillingDatesToItem);\n        \n        if (scheduleLine)\n        {\n            salesLine.HMField1 = scheduleLine.HMField1;\n            salesLine.HMField2 = scheduleLine.HMField2;\n        }\n\n        return salesLine;\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/04/2025\n    /// Coc the initSalesTable method\n    /// </summary>\n    /// <param name=\"_salesTable\">SalesTable</param>\n    /// <param name=\"_isInvoiceCreator\">IsInvoiceCreator</param>\n    /// <param name=\"_numberSeq\">NumberSeq</param>\n    /// <param name=\"_salesLineConsolidated\">SalesLineConsolidated</param>\n    /// <param name=\"_curParmId\">CurParmId</param>\n    /// <returns>SalesTable</returns>\n    public static SalesTable initSalesTable(\n        SalesTable _salesTable,\n        boolean _isInvoiceCreator,\n        NumberSeq _numberSeq,\n        SubBillSalesLineConsolidated _salesLineConsolidated,\n        ParmId _curParmId)\n    {\n        SubBillScheduleTable    scheduleTable   = SubBillScheduleTable::find(_salesLineConsolidated.SubBillBillingScheduleNumber);\n        SalesTable              salesTable      = next initSalesTable(_salesTable, _isInvoiceCreator, _numberSeq, _salesLineConsolidated, _curParmId);\n\n        if (scheduleTable)\n        {\n            salesTable.HMField1 = scheduleTable.HMField1;\n            salesTable.HMField2 = scheduleTable.HMField2;\n        }\n\n        return salesTable;\n    \n    }\n\n    /// <summary>\n    /// Willie Yao - 07/04/2025\n    /// Coc the createSalesOrder method\n    /// </summary>\n    /// <param name=\"_createSalesHeader\">CreateSalesHeader</param>\n    /// <param name=\"_salesId\">SalesId</param>\n    /// <param name=\"salesLineConsolidated\">SubBillSalesLineConsolidated</param>\n    /// <param name=\"_consolidateByCustomer\">ConsolidateByCustomer</param>\n    /// <param name=\"_splitByItemGroup\">SplitByItemGroup</param>\n    /// <param name=\"_returnValues\">ReturnValues</param>\n    /// <param name=\"_includeBillingDatesToItem\">IncludeBillingDatesToItem</param>\n    /// <param name=\"_isInvoiceCreator\">IsInvoiceCreator</param>\n    /// <param name=\"_creditAdjMethod\">CreditAdjMethod</param>\n    /// <param name=\"_terminationDate\">TerminationDate</param>\n    /// <param name=\"_prorateDaily\">ProrateDaily</param>\n    /// <param name=\"_curParmId\">CurParmId</param>\n    /// <param name=\"_consolidateAllPeriods\">ConsolidateAllPeriods</param>\n    /// <returns>container</returns>\n    public static container createSalesOrder(\n        boolean _createSalesHeader,\n        SalesId _salesId,\n        SubBillSalesLineConsolidated salesLineConsolidated,\n        boolean _consolidateByCustomer,\n        boolean _splitByItemGroup,\n        container _returnValues,\n        boolean _includeBillingDatesToItem,\n        boolean _isInvoiceCreator,\n        SubBillCreditDeferralAdjMethod _creditAdjMethod,\n        SubBillTerminationDate _terminationDate,\n        boolean _prorateDaily,\n        ParmId _curParmId,\n        boolean _consolidateAllPeriods)\n    {\n        SubBillScheduleTable scheduleTable = SubBillScheduleTable::find(salesLineConsolidated.SubBillBillingScheduleNumber);\n        if(!_createSalesHeader)\n        {            \n            SalesTable salesTableForUpt;\n            ttsbegin;\n            update_recordset salesTableForUpt\n                setting HMField1 = scheduleTable.HMField1,\n                        HMField2 = scheduleTable.HMField2\n                where salesTableForUpt.SalesId == _salesId;\n            ttscommit;\n        }\n\n        container newReturnContainer = next createSalesOrder(_createSalesHeader, _salesId, salesLineConsolidated, _consolidateByCustomer, _splitByItemGroup, _returnValues, _includeBillingDatesToItem, _isInvoiceCreator,_creditAdjMethod, _terminationDate, _prorateDaily, _curParmId, _consolidateAllPeriods);        \n\n        return newReturnContainer;\n    }\n\n}\n```","source":"_posts/xpp-extendsubbillingschedule.md","raw":"---\ntitle: How to bring the sub billing schedule customized field value to sales order\ncomments: true\ndate: 2025-07-11 19:54:42\ntags:\n - SalesTable\n - SubBillingSchedule\n - SubBillingScheduleLine\n - SalesLine\n - Extend\ncategories:\n - x++\ndescription: How to bring the sub billing schedule customized field value to sales order\n---\n\nDeveloper can extend `SubBillCreateSalesOrder` class to extend the customized fields value populated logic. Please see the example code:\n\n```c#\n/// <summary>\n/// Willie Yao - 07/04/2025\n/// The extension class for SubBillCreateSalesOrder\n/// </summary>\n[ExtensionOf(classStr(SubBillCreateSalesOrder))]\nfinal class HMClass_SubBillCreateSalesOrder_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/04/2025\n    /// Coc the <c>createSalesLine</c> method for initialing the sales line's customized fields.\n    /// </summary>\n    /// <param name=\"_salesLine\">SalesLine</param>\n    /// <param name=\"_salesLineConsolidated\">SubBillSalesLineConsolidated</param>\n    /// <param name=\"_salesIdCon\">_salesIdCon<SalesId/param>\n    /// <param name=\"_allocEnabled\">AllocEnabled</param>\n    /// <param name=\"_splitByItemGroup\">SplitByItemGroup</param>\n    /// <param name=\"_isInvoiceCreator\">IsInvoiceCreator</param>\n    /// <param name=\"_includeBillingDatesToItem\">IncludeBillingDatesToItem</param>\n    /// <returns>SalesLine</returns>\n    public static SalesLine createSalesLine(\n        SalesLine _salesLine,\n        SubBillSalesLineConsolidated _salesLineConsolidated,\n        SalesId _salesIdCon,\n        boolean _allocEnabled,\n        boolean _splitByItemGroup,\n        boolean _isInvoiceCreator,\n        boolean _includeBillingDatesToItem)\n    {\n        SubBillScheduleLine     scheduleLine    = SubBillScheduleLine::find(_salesLineConsolidated.SubBillBillingScheduleNumber, _salesLineConsolidated.LineNum);\n        SubBillScheduleTable    scheduleTable   = SubBillScheduleTable::find(_salesLineConsolidated.SubBillBillingScheduleNumber);\n        SalesLine               salesLine       = next createSalesLine(_salesLine, _salesLineConsolidated, _salesIdCon, _allocEnabled, _splitByItemGroup, _isInvoiceCreator, _includeBillingDatesToItem);\n        \n        if (scheduleLine)\n        {\n            salesLine.HMField1 = scheduleLine.HMField1;\n            salesLine.HMField2 = scheduleLine.HMField2;\n        }\n\n        return salesLine;\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/04/2025\n    /// Coc the initSalesTable method\n    /// </summary>\n    /// <param name=\"_salesTable\">SalesTable</param>\n    /// <param name=\"_isInvoiceCreator\">IsInvoiceCreator</param>\n    /// <param name=\"_numberSeq\">NumberSeq</param>\n    /// <param name=\"_salesLineConsolidated\">SalesLineConsolidated</param>\n    /// <param name=\"_curParmId\">CurParmId</param>\n    /// <returns>SalesTable</returns>\n    public static SalesTable initSalesTable(\n        SalesTable _salesTable,\n        boolean _isInvoiceCreator,\n        NumberSeq _numberSeq,\n        SubBillSalesLineConsolidated _salesLineConsolidated,\n        ParmId _curParmId)\n    {\n        SubBillScheduleTable    scheduleTable   = SubBillScheduleTable::find(_salesLineConsolidated.SubBillBillingScheduleNumber);\n        SalesTable              salesTable      = next initSalesTable(_salesTable, _isInvoiceCreator, _numberSeq, _salesLineConsolidated, _curParmId);\n\n        if (scheduleTable)\n        {\n            salesTable.HMField1 = scheduleTable.HMField1;\n            salesTable.HMField2 = scheduleTable.HMField2;\n        }\n\n        return salesTable;\n    \n    }\n\n    /// <summary>\n    /// Willie Yao - 07/04/2025\n    /// Coc the createSalesOrder method\n    /// </summary>\n    /// <param name=\"_createSalesHeader\">CreateSalesHeader</param>\n    /// <param name=\"_salesId\">SalesId</param>\n    /// <param name=\"salesLineConsolidated\">SubBillSalesLineConsolidated</param>\n    /// <param name=\"_consolidateByCustomer\">ConsolidateByCustomer</param>\n    /// <param name=\"_splitByItemGroup\">SplitByItemGroup</param>\n    /// <param name=\"_returnValues\">ReturnValues</param>\n    /// <param name=\"_includeBillingDatesToItem\">IncludeBillingDatesToItem</param>\n    /// <param name=\"_isInvoiceCreator\">IsInvoiceCreator</param>\n    /// <param name=\"_creditAdjMethod\">CreditAdjMethod</param>\n    /// <param name=\"_terminationDate\">TerminationDate</param>\n    /// <param name=\"_prorateDaily\">ProrateDaily</param>\n    /// <param name=\"_curParmId\">CurParmId</param>\n    /// <param name=\"_consolidateAllPeriods\">ConsolidateAllPeriods</param>\n    /// <returns>container</returns>\n    public static container createSalesOrder(\n        boolean _createSalesHeader,\n        SalesId _salesId,\n        SubBillSalesLineConsolidated salesLineConsolidated,\n        boolean _consolidateByCustomer,\n        boolean _splitByItemGroup,\n        container _returnValues,\n        boolean _includeBillingDatesToItem,\n        boolean _isInvoiceCreator,\n        SubBillCreditDeferralAdjMethod _creditAdjMethod,\n        SubBillTerminationDate _terminationDate,\n        boolean _prorateDaily,\n        ParmId _curParmId,\n        boolean _consolidateAllPeriods)\n    {\n        SubBillScheduleTable scheduleTable = SubBillScheduleTable::find(salesLineConsolidated.SubBillBillingScheduleNumber);\n        if(!_createSalesHeader)\n        {            \n            SalesTable salesTableForUpt;\n            ttsbegin;\n            update_recordset salesTableForUpt\n                setting HMField1 = scheduleTable.HMField1,\n                        HMField2 = scheduleTable.HMField2\n                where salesTableForUpt.SalesId == _salesId;\n            ttscommit;\n        }\n\n        container newReturnContainer = next createSalesOrder(_createSalesHeader, _salesId, salesLineConsolidated, _consolidateByCustomer, _splitByItemGroup, _returnValues, _includeBillingDatesToItem, _isInvoiceCreator,_creditAdjMethod, _terminationDate, _prorateDaily, _curParmId, _consolidateAllPeriods);        \n\n        return newReturnContainer;\n    }\n\n}\n```","slug":"xpp-extendsubbillingschedule","published":1,"updated":"2025-12-26T03:11:02.934Z","layout":"post","photos":[],"_id":"cmk9a8vpm00160cqk3tfw3xas","content":"<p>Developer can extend <code>SubBillCreateSalesOrder</code> class to extend the customized fields value populated logic. Please see the example code:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/04/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> The extension class for SubBillCreateSalesOrder</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classStr(SubBillCreateSalesOrder))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_SubBillCreateSalesOrder_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/04/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Coc the <span class=\"doctag\">&lt;c&gt;</span>createSalesLine<span class=\"doctag\">&lt;/c&gt;</span> method for initialing the sales line&#x27;s customized fields.</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesLine&quot;&gt;</span>SalesLine<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesLineConsolidated&quot;&gt;</span>SubBillSalesLineConsolidated<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesIdCon&quot;&gt;</span>_salesIdCon<span class=\"doctag\">&lt;SalesId/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_allocEnabled&quot;&gt;</span>AllocEnabled<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_splitByItemGroup&quot;&gt;</span>SplitByItemGroup<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_isInvoiceCreator&quot;&gt;</span>IsInvoiceCreator<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_includeBillingDatesToItem&quot;&gt;</span>IncludeBillingDatesToItem<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>SalesLine<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> SalesLine <span class=\"title\">createSalesLine</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SalesLine _salesLine,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SubBillSalesLineConsolidated _salesLineConsolidated,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SalesId _salesIdCon,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _allocEnabled,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _splitByItemGroup,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _isInvoiceCreator,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _includeBillingDatesToItem</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        SubBillScheduleLine     scheduleLine    = SubBillScheduleLine::find(_salesLineConsolidated.SubBillBillingScheduleNumber, _salesLineConsolidated.LineNum);</span><br><span class=\"line\">        SubBillScheduleTable    scheduleTable   = SubBillScheduleTable::find(_salesLineConsolidated.SubBillBillingScheduleNumber);</span><br><span class=\"line\">        SalesLine               salesLine       = <span class=\"function\">next <span class=\"title\">createSalesLine</span>(<span class=\"params\">_salesLine, _salesLineConsolidated, _salesIdCon, _allocEnabled, _splitByItemGroup, _isInvoiceCreator, _includeBillingDatesToItem</span>)</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (scheduleLine)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            salesLine.HMField1 = scheduleLine.HMField1;</span><br><span class=\"line\">            salesLine.HMField2 = scheduleLine.HMField2;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> salesLine;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/04/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Coc the initSalesTable method</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesTable&quot;&gt;</span>SalesTable<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_isInvoiceCreator&quot;&gt;</span>IsInvoiceCreator<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_numberSeq&quot;&gt;</span>NumberSeq<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesLineConsolidated&quot;&gt;</span>SalesLineConsolidated<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_curParmId&quot;&gt;</span>CurParmId<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>SalesTable<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> SalesTable <span class=\"title\">initSalesTable</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SalesTable _salesTable,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _isInvoiceCreator,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        NumberSeq _numberSeq,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SubBillSalesLineConsolidated _salesLineConsolidated,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        ParmId _curParmId</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        SubBillScheduleTable    scheduleTable   = SubBillScheduleTable::find(_salesLineConsolidated.SubBillBillingScheduleNumber);</span><br><span class=\"line\">        SalesTable              salesTable      = <span class=\"function\">next <span class=\"title\">initSalesTable</span>(<span class=\"params\">_salesTable, _isInvoiceCreator, _numberSeq, _salesLineConsolidated, _curParmId</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (scheduleTable)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            salesTable.HMField1 = scheduleTable.HMField1;</span><br><span class=\"line\">            salesTable.HMField2 = scheduleTable.HMField2;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> salesTable;</span><br><span class=\"line\">    </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/04/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Coc the createSalesOrder method</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_createSalesHeader&quot;&gt;</span>CreateSalesHeader<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesId&quot;&gt;</span>SalesId<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;salesLineConsolidated&quot;&gt;</span>SubBillSalesLineConsolidated<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_consolidateByCustomer&quot;&gt;</span>ConsolidateByCustomer<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_splitByItemGroup&quot;&gt;</span>SplitByItemGroup<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_returnValues&quot;&gt;</span>ReturnValues<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_includeBillingDatesToItem&quot;&gt;</span>IncludeBillingDatesToItem<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_isInvoiceCreator&quot;&gt;</span>IsInvoiceCreator<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_creditAdjMethod&quot;&gt;</span>CreditAdjMethod<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_terminationDate&quot;&gt;</span>TerminationDate<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_prorateDaily&quot;&gt;</span>ProrateDaily<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_curParmId&quot;&gt;</span>CurParmId<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_consolidateAllPeriods&quot;&gt;</span>ConsolidateAllPeriods<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>container<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> container <span class=\"title\">createSalesOrder</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _createSalesHeader,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SalesId _salesId,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SubBillSalesLineConsolidated salesLineConsolidated,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _consolidateByCustomer,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _splitByItemGroup,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        container _returnValues,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _includeBillingDatesToItem,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _isInvoiceCreator,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SubBillCreditDeferralAdjMethod _creditAdjMethod,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SubBillTerminationDate _terminationDate,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _prorateDaily,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        ParmId _curParmId,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _consolidateAllPeriods</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        SubBillScheduleTable scheduleTable = SubBillScheduleTable::find(salesLineConsolidated.SubBillBillingScheduleNumber);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!_createSalesHeader)</span><br><span class=\"line\">        &#123;            </span><br><span class=\"line\">            SalesTable salesTableForUpt;</span><br><span class=\"line\">            ttsbegin;</span><br><span class=\"line\">            update_recordset salesTableForUpt</span><br><span class=\"line\">                setting HMField1 = scheduleTable.HMField1,</span><br><span class=\"line\">                        HMField2 = scheduleTable.HMField2</span><br><span class=\"line\">                <span class=\"keyword\">where</span> salesTableForUpt.SalesId == _salesId;</span><br><span class=\"line\">            ttscommit;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        container newReturnContainer = <span class=\"function\">next <span class=\"title\">createSalesOrder</span>(<span class=\"params\">_createSalesHeader, _salesId, salesLineConsolidated, _consolidateByCustomer, _splitByItemGroup, _returnValues, _includeBillingDatesToItem, _isInvoiceCreator,_creditAdjMethod, _terminationDate, _prorateDaily, _curParmId, _consolidateAllPeriods</span>)</span>;        </span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> newReturnContainer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<p>Developer can extend <code>SubBillCreateSalesOrder</code> class to extend the customized fields value populated logic. Please see the example code:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/04/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> The extension class for SubBillCreateSalesOrder</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classStr(SubBillCreateSalesOrder))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_SubBillCreateSalesOrder_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/04/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Coc the <span class=\"doctag\">&lt;c&gt;</span>createSalesLine<span class=\"doctag\">&lt;/c&gt;</span> method for initialing the sales line&#x27;s customized fields.</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesLine&quot;&gt;</span>SalesLine<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesLineConsolidated&quot;&gt;</span>SubBillSalesLineConsolidated<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesIdCon&quot;&gt;</span>_salesIdCon<span class=\"doctag\">&lt;SalesId/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_allocEnabled&quot;&gt;</span>AllocEnabled<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_splitByItemGroup&quot;&gt;</span>SplitByItemGroup<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_isInvoiceCreator&quot;&gt;</span>IsInvoiceCreator<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_includeBillingDatesToItem&quot;&gt;</span>IncludeBillingDatesToItem<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>SalesLine<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> SalesLine <span class=\"title\">createSalesLine</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SalesLine _salesLine,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SubBillSalesLineConsolidated _salesLineConsolidated,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SalesId _salesIdCon,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _allocEnabled,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _splitByItemGroup,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _isInvoiceCreator,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _includeBillingDatesToItem</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        SubBillScheduleLine     scheduleLine    = SubBillScheduleLine::find(_salesLineConsolidated.SubBillBillingScheduleNumber, _salesLineConsolidated.LineNum);</span><br><span class=\"line\">        SubBillScheduleTable    scheduleTable   = SubBillScheduleTable::find(_salesLineConsolidated.SubBillBillingScheduleNumber);</span><br><span class=\"line\">        SalesLine               salesLine       = <span class=\"function\">next <span class=\"title\">createSalesLine</span>(<span class=\"params\">_salesLine, _salesLineConsolidated, _salesIdCon, _allocEnabled, _splitByItemGroup, _isInvoiceCreator, _includeBillingDatesToItem</span>)</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (scheduleLine)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            salesLine.HMField1 = scheduleLine.HMField1;</span><br><span class=\"line\">            salesLine.HMField2 = scheduleLine.HMField2;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> salesLine;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/04/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Coc the initSalesTable method</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesTable&quot;&gt;</span>SalesTable<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_isInvoiceCreator&quot;&gt;</span>IsInvoiceCreator<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_numberSeq&quot;&gt;</span>NumberSeq<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesLineConsolidated&quot;&gt;</span>SalesLineConsolidated<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_curParmId&quot;&gt;</span>CurParmId<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>SalesTable<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> SalesTable <span class=\"title\">initSalesTable</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SalesTable _salesTable,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _isInvoiceCreator,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        NumberSeq _numberSeq,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SubBillSalesLineConsolidated _salesLineConsolidated,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        ParmId _curParmId</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        SubBillScheduleTable    scheduleTable   = SubBillScheduleTable::find(_salesLineConsolidated.SubBillBillingScheduleNumber);</span><br><span class=\"line\">        SalesTable              salesTable      = <span class=\"function\">next <span class=\"title\">initSalesTable</span>(<span class=\"params\">_salesTable, _isInvoiceCreator, _numberSeq, _salesLineConsolidated, _curParmId</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (scheduleTable)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            salesTable.HMField1 = scheduleTable.HMField1;</span><br><span class=\"line\">            salesTable.HMField2 = scheduleTable.HMField2;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> salesTable;</span><br><span class=\"line\">    </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/04/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Coc the createSalesOrder method</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_createSalesHeader&quot;&gt;</span>CreateSalesHeader<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_salesId&quot;&gt;</span>SalesId<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;salesLineConsolidated&quot;&gt;</span>SubBillSalesLineConsolidated<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_consolidateByCustomer&quot;&gt;</span>ConsolidateByCustomer<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_splitByItemGroup&quot;&gt;</span>SplitByItemGroup<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_returnValues&quot;&gt;</span>ReturnValues<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_includeBillingDatesToItem&quot;&gt;</span>IncludeBillingDatesToItem<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_isInvoiceCreator&quot;&gt;</span>IsInvoiceCreator<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_creditAdjMethod&quot;&gt;</span>CreditAdjMethod<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_terminationDate&quot;&gt;</span>TerminationDate<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_prorateDaily&quot;&gt;</span>ProrateDaily<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_curParmId&quot;&gt;</span>CurParmId<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_consolidateAllPeriods&quot;&gt;</span>ConsolidateAllPeriods<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>container<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> container <span class=\"title\">createSalesOrder</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _createSalesHeader,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SalesId _salesId,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SubBillSalesLineConsolidated salesLineConsolidated,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _consolidateByCustomer,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _splitByItemGroup,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        container _returnValues,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _includeBillingDatesToItem,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _isInvoiceCreator,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SubBillCreditDeferralAdjMethod _creditAdjMethod,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        SubBillTerminationDate _terminationDate,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _prorateDaily,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        ParmId _curParmId,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        boolean _consolidateAllPeriods</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        SubBillScheduleTable scheduleTable = SubBillScheduleTable::find(salesLineConsolidated.SubBillBillingScheduleNumber);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!_createSalesHeader)</span><br><span class=\"line\">        &#123;            </span><br><span class=\"line\">            SalesTable salesTableForUpt;</span><br><span class=\"line\">            ttsbegin;</span><br><span class=\"line\">            update_recordset salesTableForUpt</span><br><span class=\"line\">                setting HMField1 = scheduleTable.HMField1,</span><br><span class=\"line\">                        HMField2 = scheduleTable.HMField2</span><br><span class=\"line\">                <span class=\"keyword\">where</span> salesTableForUpt.SalesId == _salesId;</span><br><span class=\"line\">            ttscommit;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        container newReturnContainer = <span class=\"function\">next <span class=\"title\">createSalesOrder</span>(<span class=\"params\">_createSalesHeader, _salesId, salesLineConsolidated, _consolidateByCustomer, _splitByItemGroup, _returnValues, _includeBillingDatesToItem, _isInvoiceCreator,_creditAdjMethod, _terminationDate, _prorateDaily, _curParmId, _consolidateAllPeriods</span>)</span>;        </span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> newReturnContainer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Get selected records in a grid on a form - X++","comments":1,"date":"2025-07-08T12:23:17.000Z","description":"Get selected records in a grid on a form - X++","_content":"\nIf you can get the form data source element, then you can get the selected records. Developers usually can get the args in the source code. That is a sally port for extracting the selected records.\n\n```c#\n\npublic static void main(Args _args)\n{\n    FormRun formRun = _args.caller();\n    FormDataSource formDS = formRun.dataSource();\n    SalesTable salesTable; // Use the SalesTable for testing.\n\n    while (salesTable = formDS.mark(1) ? formDS.cursor() : formDS.getFirst(1);\n            salesTable:\n            salesTable.getNext())\n    {}\n}\n\npublic void modified()\n{\n    SalesTable salesTable; // Use the SalesTable for testing.\n\n    while (salesTable = SalesTable_ds.mark(1) ? SalesTable_ds.cursor() : SalesTable_ds.getFirst(1);\n            salesTable:\n            salesTable.getNext())\n    {}\n}\n\n","source":"_posts/xpp-getselectedrecords.md","raw":"---\ntitle: Get selected records in a grid on a form - X++\ncomments: true\ndate: 2025-07-08 20:23:17\ntags:\ncategories:\n - x++\ndescription: Get selected records in a grid on a form - X++\n---\n\nIf you can get the form data source element, then you can get the selected records. Developers usually can get the args in the source code. That is a sally port for extracting the selected records.\n\n```c#\n\npublic static void main(Args _args)\n{\n    FormRun formRun = _args.caller();\n    FormDataSource formDS = formRun.dataSource();\n    SalesTable salesTable; // Use the SalesTable for testing.\n\n    while (salesTable = formDS.mark(1) ? formDS.cursor() : formDS.getFirst(1);\n            salesTable:\n            salesTable.getNext())\n    {}\n}\n\npublic void modified()\n{\n    SalesTable salesTable; // Use the SalesTable for testing.\n\n    while (salesTable = SalesTable_ds.mark(1) ? SalesTable_ds.cursor() : SalesTable_ds.getFirst(1);\n            salesTable:\n            salesTable.getNext())\n    {}\n}\n\n","slug":"xpp-getselectedrecords","published":1,"updated":"2025-12-26T03:11:02.934Z","layout":"post","photos":[],"_id":"cmk9a8vpn00180cqk55vt65va","content":"<p>If you can get the form data source element, then you can get the selected records. Developers usually can get the args in the source code. That is a sally port for extracting the selected records.</p>\n<pre><code class=\"c#\">\npublic static void main(Args _args)\n&#123;\n    FormRun formRun = _args.caller();\n    FormDataSource formDS = formRun.dataSource();\n    SalesTable salesTable; // Use the SalesTable for testing.\n\n    while (salesTable = formDS.mark(1) ? formDS.cursor() : formDS.getFirst(1);\n            salesTable:\n            salesTable.getNext())\n    &#123;&#125;\n&#125;\n\npublic void modified()\n&#123;\n    SalesTable salesTable; // Use the SalesTable for testing.\n\n    while (salesTable = SalesTable_ds.mark(1) ? SalesTable_ds.cursor() : SalesTable_ds.getFirst(1);\n            salesTable:\n            salesTable.getNext())\n    &#123;&#125;\n&#125;\n\n\n</code></pre>\n","excerpt":"","more":"<p>If you can get the form data source element, then you can get the selected records. Developers usually can get the args in the source code. That is a sally port for extracting the selected records.</p>\n<pre><code class=\"c#\">\npublic static void main(Args _args)\n&#123;\n    FormRun formRun = _args.caller();\n    FormDataSource formDS = formRun.dataSource();\n    SalesTable salesTable; // Use the SalesTable for testing.\n\n    while (salesTable = formDS.mark(1) ? formDS.cursor() : formDS.getFirst(1);\n            salesTable:\n            salesTable.getNext())\n    &#123;&#125;\n&#125;\n\npublic void modified()\n&#123;\n    SalesTable salesTable; // Use the SalesTable for testing.\n\n    while (salesTable = SalesTable_ds.mark(1) ? SalesTable_ds.cursor() : SalesTable_ds.getFirst(1);\n            salesTable:\n            salesTable.getNext())\n    &#123;&#125;\n&#125;\n\n\n</code></pre>\n"},{"title":"How to Copy the Add Items","comments":1,"date":"2025-07-11T12:03:12.000Z","description":"How to Copy the Add Items","_content":"\n## Summary\n\nThe D365 F&O has an out of box function named \"**Add products**\", If developer develops an item-base table and wants to copy this function for this table. The following codes.\n\n## Code Example\n\nTo begin with, we need to extend the standard system class to implement a custom strategy for loading default items in the 'Add Productions' dialog. When the user selects one or multiple lines and clicks the 'Add Productions' button, the dialog should automatically prefill the item field(s) based on the selected records.\n\nSecondly, we need to use a Chain of Command (CoC) extension on the createProducts method to implement the logic for adding items to the custom table.\n\n```c#\n/// <summary>\n/// Willie Yao - 07/07/2025\n/// </summary>\n[ExtensionOf(classStr(RetailCreateLinesFromProductsToAdd))]\nfinal class HMClass_RetailCreateLinesFromProductsToAdd_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// loadLinesFromCaller\n    /// </summary>\n    /// <param name=\"_callerArgs\"><Args/param>\n    /// <param name=\"_tmpProductsToAdd\">TmpRetailProductsToAdd</param>\n    public void loadLinesFromCaller(Args _callerArgs, TmpRetailProductsToAdd _tmpProductsToAdd)\n    {\n        next loadLinesFromCaller(_callerArgs, _tmpProductsToAdd);\n\n        TableId callerTableId = _callerArgs.dataset();\n\n        switch (callerTableId)\n        {\n            case tableNum(HMTable):\n                this.loadHMTable();\n                break;\n        }\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// loadHMTable\n    /// </summary>\n    internal void loadHMTable()\n    {\n        InventTable     inventTable;\n        EcoResProduct   ecoResProduct;\n        HMTable         MTable = callerArgs.record();\n\n        select firstonly product from inventTable\n            where inventTable.ItemId == MTable.ItemId\n            join ecoResProduct\n                where ecoResProduct.RecId == inventTable.Product;\n\n        this.loadLines(ecoResProduct, 1, InventDim::findOrCreateBlank().inventDimId);\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// createProducts\n    /// </summary>\n    /// <param name=\"_tmpProductsToAdd\">TmpRetailProductsToAdd</param>\n        public void createProducts(TmpRetailProductsToAdd _tmpProductsToAdd)\n    {\n        next createProducts(_tmpProductsToAdd);\n\n        switch (common.TableId)\n        {\n            case tableNum(HMTable):\n                this.createHMTable(HMTable::findByRecId(common.RecId), _tmpProductsToAdd);\n                break;\n        }\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// createHMTable\n    /// </summary>\n    /// <param name=\"_HMTable\">HMTable</param>\n    /// <param name=\"_tmpProductsToAdd\">TmpRetailProductsToAdd</param>\n    internal void createHMTable(HMTable _HMTable, TmpRetailProductsToAdd _tmpProductsToAdd)\n    {\n        HMTable HMTable;\n\n        ttsbegin;\n        while select _tmpProductsToAdd\n        {\n            HMTable.clear();\n            HMTable.ItemId = _tmpProductsToAdd.ItemId;\n            // Others customized fields value populated logic.\n\n            if (HMTable.validateWrite())\n            {\n                HMTable.insert();\n            }            \n        }\n        ttscommit;\n    }\n\n}\n```\n\nFinally, we need to override the createCallerTableRecords method in the RetailAddItems form to trigger the logic for creating item records.\n\n```c#\n/// <summary>\n/// Willie Yao - 07/07/2025\n/// </summary>\n[ExtensionOf(formStr(RetailAddItems))]\nfinal class HMForm_RetailAddItems_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// createCallerTableRecords\n    /// </summary>\n    /// <param name=\"_callerTableId\">TableId</param>\n    /// <param name=\"_tmpInventTable\">TmpRetailProductsToAdd</param>\n    public void createCallerTableRecords(TableId _callerTableId, TmpRetailProductsToAdd _tmpInventTable)\n    {\n        next createCallerTableRecords(_callerTableId, _tmpInventTable);\n\n        switch (_callerTableId)\n        {\n            case tableNum(HMTable):\n                this.createOrderLine(FormDataUtil::getFormDataSource(this.args().record()));\n                break;\n        }\n    }\n\n}\n```","source":"_posts/xpp-copyadditemsfeature.md","raw":"---\ntitle: How to Copy the Add Items \ncomments: true\ndate: 2025-07-11 20:03:12\ntags:\ncategories:\ndescription: How to Copy the Add Items \n---\n\n## Summary\n\nThe D365 F&O has an out of box function named \"**Add products**\", If developer develops an item-base table and wants to copy this function for this table. The following codes.\n\n## Code Example\n\nTo begin with, we need to extend the standard system class to implement a custom strategy for loading default items in the 'Add Productions' dialog. When the user selects one or multiple lines and clicks the 'Add Productions' button, the dialog should automatically prefill the item field(s) based on the selected records.\n\nSecondly, we need to use a Chain of Command (CoC) extension on the createProducts method to implement the logic for adding items to the custom table.\n\n```c#\n/// <summary>\n/// Willie Yao - 07/07/2025\n/// </summary>\n[ExtensionOf(classStr(RetailCreateLinesFromProductsToAdd))]\nfinal class HMClass_RetailCreateLinesFromProductsToAdd_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// loadLinesFromCaller\n    /// </summary>\n    /// <param name=\"_callerArgs\"><Args/param>\n    /// <param name=\"_tmpProductsToAdd\">TmpRetailProductsToAdd</param>\n    public void loadLinesFromCaller(Args _callerArgs, TmpRetailProductsToAdd _tmpProductsToAdd)\n    {\n        next loadLinesFromCaller(_callerArgs, _tmpProductsToAdd);\n\n        TableId callerTableId = _callerArgs.dataset();\n\n        switch (callerTableId)\n        {\n            case tableNum(HMTable):\n                this.loadHMTable();\n                break;\n        }\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// loadHMTable\n    /// </summary>\n    internal void loadHMTable()\n    {\n        InventTable     inventTable;\n        EcoResProduct   ecoResProduct;\n        HMTable         MTable = callerArgs.record();\n\n        select firstonly product from inventTable\n            where inventTable.ItemId == MTable.ItemId\n            join ecoResProduct\n                where ecoResProduct.RecId == inventTable.Product;\n\n        this.loadLines(ecoResProduct, 1, InventDim::findOrCreateBlank().inventDimId);\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// createProducts\n    /// </summary>\n    /// <param name=\"_tmpProductsToAdd\">TmpRetailProductsToAdd</param>\n        public void createProducts(TmpRetailProductsToAdd _tmpProductsToAdd)\n    {\n        next createProducts(_tmpProductsToAdd);\n\n        switch (common.TableId)\n        {\n            case tableNum(HMTable):\n                this.createHMTable(HMTable::findByRecId(common.RecId), _tmpProductsToAdd);\n                break;\n        }\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// createHMTable\n    /// </summary>\n    /// <param name=\"_HMTable\">HMTable</param>\n    /// <param name=\"_tmpProductsToAdd\">TmpRetailProductsToAdd</param>\n    internal void createHMTable(HMTable _HMTable, TmpRetailProductsToAdd _tmpProductsToAdd)\n    {\n        HMTable HMTable;\n\n        ttsbegin;\n        while select _tmpProductsToAdd\n        {\n            HMTable.clear();\n            HMTable.ItemId = _tmpProductsToAdd.ItemId;\n            // Others customized fields value populated logic.\n\n            if (HMTable.validateWrite())\n            {\n                HMTable.insert();\n            }            \n        }\n        ttscommit;\n    }\n\n}\n```\n\nFinally, we need to override the createCallerTableRecords method in the RetailAddItems form to trigger the logic for creating item records.\n\n```c#\n/// <summary>\n/// Willie Yao - 07/07/2025\n/// </summary>\n[ExtensionOf(formStr(RetailAddItems))]\nfinal class HMForm_RetailAddItems_Extension\n{\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// createCallerTableRecords\n    /// </summary>\n    /// <param name=\"_callerTableId\">TableId</param>\n    /// <param name=\"_tmpInventTable\">TmpRetailProductsToAdd</param>\n    public void createCallerTableRecords(TableId _callerTableId, TmpRetailProductsToAdd _tmpInventTable)\n    {\n        next createCallerTableRecords(_callerTableId, _tmpInventTable);\n\n        switch (_callerTableId)\n        {\n            case tableNum(HMTable):\n                this.createOrderLine(FormDataUtil::getFormDataSource(this.args().record()));\n                break;\n        }\n    }\n\n}\n```","slug":"xpp-copyadditemsfeature","published":1,"updated":"2025-12-26T03:11:02.921Z","layout":"post","photos":[],"_id":"cmk9a8vpn001b0cqkbzhk8i58","content":"<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>The D365 F&amp;O has an out of box function named <strong>Add products</strong>, If developer develops an item-base table and wants to copy this function for this table. The following codes.</p>\n<h2 id=\"Code-Example\"><a href=\"#Code-Example\" class=\"headerlink\" title=\"Code Example\"></a>Code Example</h2><p>To begin with, we need to extend the standard system class to implement a custom strategy for loading default items in the Add Productions dialog. When the user selects one or multiple lines and clicks the Add Productions button, the dialog should automatically prefill the item field(s) based on the selected records.</p>\n<p>Secondly, we need to use a Chain of Command (CoC) extension on the createProducts method to implement the logic for adding items to the custom table.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classStr(RetailCreateLinesFromProductsToAdd))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_RetailCreateLinesFromProductsToAdd_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> loadLinesFromCaller</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_callerArgs&quot;&gt;</span><span class=\"doctag\">&lt;Args/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_tmpProductsToAdd&quot;&gt;</span>TmpRetailProductsToAdd<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">loadLinesFromCaller</span>(<span class=\"params\">Args _callerArgs, TmpRetailProductsToAdd _tmpProductsToAdd</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">loadLinesFromCaller</span>(<span class=\"params\">_callerArgs, _tmpProductsToAdd</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        TableId callerTableId = _callerArgs.dataset();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (callerTableId)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">case</span> <span class=\"title\">tableNum</span>(<span class=\"params\">HMTable</span>):</span></span><br><span class=\"line\"><span class=\"function\">                <span class=\"keyword\">this</span>.<span class=\"title\">loadHMTable</span>()</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> loadHMTable</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">internal</span> <span class=\"keyword\">void</span> <span class=\"title\">loadHMTable</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        InventTable     inventTable;</span><br><span class=\"line\">        EcoResProduct   ecoResProduct;</span><br><span class=\"line\">        HMTable         MTable = callerArgs.<span class=\"keyword\">record</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">select</span> firstonly product <span class=\"keyword\">from</span> inventTable</span><br><span class=\"line\">            <span class=\"keyword\">where</span> inventTable.ItemId == MTable.ItemId</span><br><span class=\"line\">            <span class=\"keyword\">join</span> ecoResProduct</span><br><span class=\"line\">                <span class=\"keyword\">where</span> ecoResProduct.RecId == inventTable.Product;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.loadLines(ecoResProduct, <span class=\"number\">1</span>, InventDim::findOrCreateBlank().inventDimId);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> createProducts</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_tmpProductsToAdd&quot;&gt;</span>TmpRetailProductsToAdd<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">createProducts</span>(<span class=\"params\">TmpRetailProductsToAdd _tmpProductsToAdd</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">createProducts</span>(<span class=\"params\">_tmpProductsToAdd</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (common.TableId)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">case</span> <span class=\"title\">tableNum</span>(<span class=\"params\">HMTable</span>):</span></span><br><span class=\"line\"><span class=\"function\">                <span class=\"keyword\">this</span>.<span class=\"title\">createHMTable</span>(<span class=\"params\">HMTable::findByRecId(common.RecId</span>), _tmpProductsToAdd)</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> createHMTable</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_HMTable&quot;&gt;</span>HMTable<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_tmpProductsToAdd&quot;&gt;</span>TmpRetailProductsToAdd<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">internal</span> <span class=\"keyword\">void</span> <span class=\"title\">createHMTable</span>(<span class=\"params\">HMTable _HMTable, TmpRetailProductsToAdd _tmpProductsToAdd</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        HMTable HMTable;</span><br><span class=\"line\"></span><br><span class=\"line\">        ttsbegin;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"keyword\">select</span> _tmpProductsToAdd</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            HMTable.clear();</span><br><span class=\"line\">            HMTable.ItemId = _tmpProductsToAdd.ItemId;</span><br><span class=\"line\">            <span class=\"comment\">// Others customized fields value populated logic.</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (HMTable.validateWrite())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                HMTable.insert();</span><br><span class=\"line\">            &#125;            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ttscommit;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Finally, we need to override the createCallerTableRecords method in the RetailAddItems form to trigger the logic for creating item records.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(formStr(RetailAddItems))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMForm_RetailAddItems_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> createCallerTableRecords</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_callerTableId&quot;&gt;</span>TableId<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_tmpInventTable&quot;&gt;</span>TmpRetailProductsToAdd<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">createCallerTableRecords</span>(<span class=\"params\">TableId _callerTableId, TmpRetailProductsToAdd _tmpInventTable</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">createCallerTableRecords</span>(<span class=\"params\">_callerTableId, _tmpInventTable</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (_callerTableId)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">case</span> <span class=\"title\">tableNum</span>(<span class=\"params\">HMTable</span>):</span></span><br><span class=\"line\"><span class=\"function\">                <span class=\"keyword\">this</span>.<span class=\"title\">createOrderLine</span>(<span class=\"params\">FormDataUtil::getFormDataSource(<span class=\"keyword\">this</span>.<span class=\"keyword\">args</span>(</span>).<span class=\"title\">record</span>()))</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>The D365 F&amp;O has an out of box function named <strong>Add products</strong>, If developer develops an item-base table and wants to copy this function for this table. The following codes.</p>\n<h2 id=\"Code-Example\"><a href=\"#Code-Example\" class=\"headerlink\" title=\"Code Example\"></a>Code Example</h2><p>To begin with, we need to extend the standard system class to implement a custom strategy for loading default items in the Add Productions dialog. When the user selects one or multiple lines and clicks the Add Productions button, the dialog should automatically prefill the item field(s) based on the selected records.</p>\n<p>Secondly, we need to use a Chain of Command (CoC) extension on the createProducts method to implement the logic for adding items to the custom table.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(classStr(RetailCreateLinesFromProductsToAdd))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMClass_RetailCreateLinesFromProductsToAdd_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> loadLinesFromCaller</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_callerArgs&quot;&gt;</span><span class=\"doctag\">&lt;Args/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_tmpProductsToAdd&quot;&gt;</span>TmpRetailProductsToAdd<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">loadLinesFromCaller</span>(<span class=\"params\">Args _callerArgs, TmpRetailProductsToAdd _tmpProductsToAdd</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">loadLinesFromCaller</span>(<span class=\"params\">_callerArgs, _tmpProductsToAdd</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        TableId callerTableId = _callerArgs.dataset();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (callerTableId)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">case</span> <span class=\"title\">tableNum</span>(<span class=\"params\">HMTable</span>):</span></span><br><span class=\"line\"><span class=\"function\">                <span class=\"keyword\">this</span>.<span class=\"title\">loadHMTable</span>()</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> loadHMTable</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">internal</span> <span class=\"keyword\">void</span> <span class=\"title\">loadHMTable</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        InventTable     inventTable;</span><br><span class=\"line\">        EcoResProduct   ecoResProduct;</span><br><span class=\"line\">        HMTable         MTable = callerArgs.<span class=\"keyword\">record</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">select</span> firstonly product <span class=\"keyword\">from</span> inventTable</span><br><span class=\"line\">            <span class=\"keyword\">where</span> inventTable.ItemId == MTable.ItemId</span><br><span class=\"line\">            <span class=\"keyword\">join</span> ecoResProduct</span><br><span class=\"line\">                <span class=\"keyword\">where</span> ecoResProduct.RecId == inventTable.Product;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.loadLines(ecoResProduct, <span class=\"number\">1</span>, InventDim::findOrCreateBlank().inventDimId);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> createProducts</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_tmpProductsToAdd&quot;&gt;</span>TmpRetailProductsToAdd<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">createProducts</span>(<span class=\"params\">TmpRetailProductsToAdd _tmpProductsToAdd</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">createProducts</span>(<span class=\"params\">_tmpProductsToAdd</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (common.TableId)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">case</span> <span class=\"title\">tableNum</span>(<span class=\"params\">HMTable</span>):</span></span><br><span class=\"line\"><span class=\"function\">                <span class=\"keyword\">this</span>.<span class=\"title\">createHMTable</span>(<span class=\"params\">HMTable::findByRecId(common.RecId</span>), _tmpProductsToAdd)</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> createHMTable</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_HMTable&quot;&gt;</span>HMTable<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_tmpProductsToAdd&quot;&gt;</span>TmpRetailProductsToAdd<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">internal</span> <span class=\"keyword\">void</span> <span class=\"title\">createHMTable</span>(<span class=\"params\">HMTable _HMTable, TmpRetailProductsToAdd _tmpProductsToAdd</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        HMTable HMTable;</span><br><span class=\"line\"></span><br><span class=\"line\">        ttsbegin;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"keyword\">select</span> _tmpProductsToAdd</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            HMTable.clear();</span><br><span class=\"line\">            HMTable.ItemId = _tmpProductsToAdd.ItemId;</span><br><span class=\"line\">            <span class=\"comment\">// Others customized fields value populated logic.</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (HMTable.validateWrite())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                HMTable.insert();</span><br><span class=\"line\">            &#125;            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ttscommit;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Finally, we need to override the createCallerTableRecords method in the RetailAddItems form to trigger the logic for creating item records.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">[<span class=\"meta\">ExtensionOf(formStr(RetailAddItems))</span>]</span><br><span class=\"line\">final <span class=\"keyword\">class</span> <span class=\"title\">HMForm_RetailAddItems_Extension</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> createCallerTableRecords</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_callerTableId&quot;&gt;</span>TableId<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_tmpInventTable&quot;&gt;</span>TmpRetailProductsToAdd<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">createCallerTableRecords</span>(<span class=\"params\">TableId _callerTableId, TmpRetailProductsToAdd _tmpInventTable</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\">next <span class=\"title\">createCallerTableRecords</span>(<span class=\"params\">_callerTableId, _tmpInventTable</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (_callerTableId)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">case</span> <span class=\"title\">tableNum</span>(<span class=\"params\">HMTable</span>):</span></span><br><span class=\"line\"><span class=\"function\">                <span class=\"keyword\">this</span>.<span class=\"title\">createOrderLine</span>(<span class=\"params\">FormDataUtil::getFormDataSource(<span class=\"keyword\">this</span>.<span class=\"keyword\">args</span>(</span>).<span class=\"title\">record</span>()))</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Merge the Ledger Account","comments":1,"date":"2024-12-23T07:56:06.000Z","description":"Merge the Ledger Account","_content":"\n\nThe example code as shown below:\n\n```c#\npublic static LedgerDimensionAccount generateDefaultDimension(container _conName, container _conValue)\n{\n    DimensionAttributeValueSetStorage   valueSetStorage = new DimensionAttributeValueSetStorage();\n    int                                 i;\n    DimensionAttribute                  dimensionAttribute;\n    DimensionAttributeValue             dimensionAttributeValue;\n    container                           conAttr  = _conName;\n    container                           conValue = _conValue;\n    str                                 dimValue;\n\n    for (i = 1; i <= conLen(conAttr); i++)\n    {\n        dimensionAttribute = dimensionAttribute::findByName(conPeek(conAttr,i));\n\n        if (dimensionAttribute.RecId == 0)\n        {\n            continue;\n        }\n\n        dimValue = conPeek(conValue,i);\n\n        if (dimValue != \"\")\n        {\n            // The last parameter is \"true\". A dimensionAttributeValue record will be created if not found.\n            dimensionAttributeValue = dimensionAttributeValue::findByDimensionAttributeAndValue(dimensionAttribute, dimValue, false, true);\n\n            // Add the dimensionAttibuteValue to the default dimension\n            valueSetStorage.addItem(dimensionAttributeValue);\n        }\n    }\n    return valueSetStorage.save();\n}\n\npublic static LedgerDimensionAccount replaceDefaultDimensionValues(\n    DimensionDefault    _invoiceDefaultDimension,\n    DimensionDefault    _purchDefaultDimension,\n    container           _conName)\n{\n    DimensionAttributeValueSetStorage invoiceValueSetStorage    = DimensionAttributeValueSetStorage::find(_invoiceDefaultDimension);\n    DimensionAttributeValueSetStorage purchValueSetStorage      = DimensionAttributeValueSetStorage::find(_purchDefaultDimension);\n\n    for (int i = 1; i <= conLen(_conName); i++)\n    {\n        var dimensionAttribute      = DimensionAttribute::findByName(conPeek(_conName, i));\n        var invoiceDimensionValue   = invoiceValueSetStorage.getDisplayValueByDimensionAttribute(dimensionAttribute.RecId);\n        var purchDimensionValue     = purchValueSetStorage.getDisplayValueByDimensionAttribute(dimensionAttribute.RecId);\n\n        if (purchDimensionValue && (purchDimensionValue != invoiceDimensionValue))\n        {\n            var newDimensionAttributeValue = DimensionAttributeValue::findByDimensionAttributeAndValue(dimensionAttribute, purchDimensionValue, false, true);\n\n            invoiceValueSetStorage.removeDimensionAttribute(dimensionAttribute.RecId);\n            invoiceValueSetStorage.addItem(newDimensionAttributeValue);\n        }\n    }    \n    return invoiceValueSetStorage.save();\n}\n```","source":"_posts/xpp-merge-ledger-account.md","raw":"---\ntitle: Merge the Ledger Account\ncategories:\n - x++\ncomments: true\ndate: 2024-12-23 15:56:06\ndescription: Merge the Ledger Account\n---\n\n\nThe example code as shown below:\n\n```c#\npublic static LedgerDimensionAccount generateDefaultDimension(container _conName, container _conValue)\n{\n    DimensionAttributeValueSetStorage   valueSetStorage = new DimensionAttributeValueSetStorage();\n    int                                 i;\n    DimensionAttribute                  dimensionAttribute;\n    DimensionAttributeValue             dimensionAttributeValue;\n    container                           conAttr  = _conName;\n    container                           conValue = _conValue;\n    str                                 dimValue;\n\n    for (i = 1; i <= conLen(conAttr); i++)\n    {\n        dimensionAttribute = dimensionAttribute::findByName(conPeek(conAttr,i));\n\n        if (dimensionAttribute.RecId == 0)\n        {\n            continue;\n        }\n\n        dimValue = conPeek(conValue,i);\n\n        if (dimValue != \"\")\n        {\n            // The last parameter is \"true\". A dimensionAttributeValue record will be created if not found.\n            dimensionAttributeValue = dimensionAttributeValue::findByDimensionAttributeAndValue(dimensionAttribute, dimValue, false, true);\n\n            // Add the dimensionAttibuteValue to the default dimension\n            valueSetStorage.addItem(dimensionAttributeValue);\n        }\n    }\n    return valueSetStorage.save();\n}\n\npublic static LedgerDimensionAccount replaceDefaultDimensionValues(\n    DimensionDefault    _invoiceDefaultDimension,\n    DimensionDefault    _purchDefaultDimension,\n    container           _conName)\n{\n    DimensionAttributeValueSetStorage invoiceValueSetStorage    = DimensionAttributeValueSetStorage::find(_invoiceDefaultDimension);\n    DimensionAttributeValueSetStorage purchValueSetStorage      = DimensionAttributeValueSetStorage::find(_purchDefaultDimension);\n\n    for (int i = 1; i <= conLen(_conName); i++)\n    {\n        var dimensionAttribute      = DimensionAttribute::findByName(conPeek(_conName, i));\n        var invoiceDimensionValue   = invoiceValueSetStorage.getDisplayValueByDimensionAttribute(dimensionAttribute.RecId);\n        var purchDimensionValue     = purchValueSetStorage.getDisplayValueByDimensionAttribute(dimensionAttribute.RecId);\n\n        if (purchDimensionValue && (purchDimensionValue != invoiceDimensionValue))\n        {\n            var newDimensionAttributeValue = DimensionAttributeValue::findByDimensionAttributeAndValue(dimensionAttribute, purchDimensionValue, false, true);\n\n            invoiceValueSetStorage.removeDimensionAttribute(dimensionAttribute.RecId);\n            invoiceValueSetStorage.addItem(newDimensionAttributeValue);\n        }\n    }    \n    return invoiceValueSetStorage.save();\n}\n```","slug":"xpp-merge-ledger-account","published":1,"updated":"2025-12-26T03:11:02.935Z","layout":"post","photos":[],"_id":"cmk9a8vpo001e0cqkgktr0zfw","content":"<p>The example code as shown below:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> LedgerDimensionAccount <span class=\"title\">generateDefaultDimension</span>(<span class=\"params\">container _conName, container _conValue</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    DimensionAttributeValueSetStorage   valueSetStorage = <span class=\"keyword\">new</span> DimensionAttributeValueSetStorage();</span><br><span class=\"line\">    <span class=\"built_in\">int</span>                                 i;</span><br><span class=\"line\">    DimensionAttribute                  dimensionAttribute;</span><br><span class=\"line\">    DimensionAttributeValue             dimensionAttributeValue;</span><br><span class=\"line\">    container                           conAttr  = _conName;</span><br><span class=\"line\">    container                           conValue = _conValue;</span><br><span class=\"line\">    str                                 dimValue;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt;= conLen(conAttr); i++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        dimensionAttribute = dimensionAttribute::findByName(conPeek(conAttr,i));</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dimensionAttribute.RecId == <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        dimValue = conPeek(conValue,i);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dimValue != <span class=\"string\">&quot;&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// The last parameter is &quot;true&quot;. A dimensionAttributeValue record will be created if not found.</span></span><br><span class=\"line\">            dimensionAttributeValue = dimensionAttributeValue::findByDimensionAttributeAndValue(dimensionAttribute, dimValue, <span class=\"literal\">false</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Add the dimensionAttibuteValue to the default dimension</span></span><br><span class=\"line\">            valueSetStorage.addItem(dimensionAttributeValue);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> valueSetStorage.save();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> LedgerDimensionAccount <span class=\"title\">replaceDefaultDimensionValues</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">    DimensionDefault    _invoiceDefaultDimension,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">    DimensionDefault    _purchDefaultDimension,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">    container           _conName</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    DimensionAttributeValueSetStorage invoiceValueSetStorage    = DimensionAttributeValueSetStorage::find(_invoiceDefaultDimension);</span><br><span class=\"line\">    DimensionAttributeValueSetStorage purchValueSetStorage      = DimensionAttributeValueSetStorage::find(_purchDefaultDimension);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">1</span>; i &lt;= conLen(_conName); i++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> dimensionAttribute      = DimensionAttribute::findByName(conPeek(_conName, i));</span><br><span class=\"line\">        <span class=\"keyword\">var</span> invoiceDimensionValue   = invoiceValueSetStorage.getDisplayValueByDimensionAttribute(dimensionAttribute.RecId);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> purchDimensionValue     = purchValueSetStorage.getDisplayValueByDimensionAttribute(dimensionAttribute.RecId);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (purchDimensionValue &amp;&amp; (purchDimensionValue != invoiceDimensionValue))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> newDimensionAttributeValue = DimensionAttributeValue::findByDimensionAttributeAndValue(dimensionAttribute, purchDimensionValue, <span class=\"literal\">false</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            invoiceValueSetStorage.removeDimensionAttribute(dimensionAttribute.RecId);</span><br><span class=\"line\">            invoiceValueSetStorage.addItem(newDimensionAttributeValue);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> invoiceValueSetStorage.save();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<p>The example code as shown below:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> LedgerDimensionAccount <span class=\"title\">generateDefaultDimension</span>(<span class=\"params\">container _conName, container _conValue</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    DimensionAttributeValueSetStorage   valueSetStorage = <span class=\"keyword\">new</span> DimensionAttributeValueSetStorage();</span><br><span class=\"line\">    <span class=\"built_in\">int</span>                                 i;</span><br><span class=\"line\">    DimensionAttribute                  dimensionAttribute;</span><br><span class=\"line\">    DimensionAttributeValue             dimensionAttributeValue;</span><br><span class=\"line\">    container                           conAttr  = _conName;</span><br><span class=\"line\">    container                           conValue = _conValue;</span><br><span class=\"line\">    str                                 dimValue;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt;= conLen(conAttr); i++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        dimensionAttribute = dimensionAttribute::findByName(conPeek(conAttr,i));</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dimensionAttribute.RecId == <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        dimValue = conPeek(conValue,i);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dimValue != <span class=\"string\">&quot;&quot;</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// The last parameter is &quot;true&quot;. A dimensionAttributeValue record will be created if not found.</span></span><br><span class=\"line\">            dimensionAttributeValue = dimensionAttributeValue::findByDimensionAttributeAndValue(dimensionAttribute, dimValue, <span class=\"literal\">false</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// Add the dimensionAttibuteValue to the default dimension</span></span><br><span class=\"line\">            valueSetStorage.addItem(dimensionAttributeValue);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> valueSetStorage.save();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> LedgerDimensionAccount <span class=\"title\">replaceDefaultDimensionValues</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">    DimensionDefault    _invoiceDefaultDimension,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">    DimensionDefault    _purchDefaultDimension,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">    container           _conName</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    DimensionAttributeValueSetStorage invoiceValueSetStorage    = DimensionAttributeValueSetStorage::find(_invoiceDefaultDimension);</span><br><span class=\"line\">    DimensionAttributeValueSetStorage purchValueSetStorage      = DimensionAttributeValueSetStorage::find(_purchDefaultDimension);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">1</span>; i &lt;= conLen(_conName); i++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> dimensionAttribute      = DimensionAttribute::findByName(conPeek(_conName, i));</span><br><span class=\"line\">        <span class=\"keyword\">var</span> invoiceDimensionValue   = invoiceValueSetStorage.getDisplayValueByDimensionAttribute(dimensionAttribute.RecId);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> purchDimensionValue     = purchValueSetStorage.getDisplayValueByDimensionAttribute(dimensionAttribute.RecId);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (purchDimensionValue &amp;&amp; (purchDimensionValue != invoiceDimensionValue))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> newDimensionAttributeValue = DimensionAttributeValue::findByDimensionAttributeAndValue(dimensionAttribute, purchDimensionValue, <span class=\"literal\">false</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            invoiceValueSetStorage.removeDimensionAttribute(dimensionAttribute.RecId);</span><br><span class=\"line\">            invoiceValueSetStorage.addItem(newDimensionAttributeValue);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> invoiceValueSetStorage.save();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"How to add multiple lookup control to Form Grid","comments":1,"date":"2025-07-11T12:22:49.000Z","description":"How to add multiple lookup control to Form Grid","_content":"\nIn some scenarios, we may need to allow users to select multiple values from a lookup within a grid on a formfor example, assigning multiple categories or tags to a line-level record. Out of the box, Dynamics 365 Finance and Operations does not support multi-select lookups directly on grid controls. However, we can achieve this behavior by extending the `SysLookupMultiSelectGrid` framework.\n\n## Step 1: Create a Custom Class Based on `SysLookupMultiSelectGrid`\n\nTo begin, we need to create a custom class that extends SysLookupMultiSelectGrid. This class will encapsulate the logic for initializing the lookup, storing selected values, and writing them back to the grid's data source.\n\nHere are the key methods you should implement:\n\n- init(): Register the lookup override and capture context such as the caller data source and field.\n\n- lookup(FormStringControl _callerControl): Open the lookup form and load existing values into the selection. After the user makes a selection, update the data source field.\n\n- getSelected(): Return the container of selected record IDs.\n\n- setSelected(): Persist the selected values into a specific field (usually a semicolon-delimited string field).\n\n- construct(...): A static method to initialize the custom multi-select lookup instance.\n\nBy implementing these methods, your custom control can support seamless multi-selection directly from the form grid.\n\n```c#\n/// <summary>\n/// Willie Yao - 07/07/2025\n/// HMLookupMultiSelectGridOrderCategory\n/// </summary>\nclass HMLookupMultiSelectGridOrderCategory extends SysLookupMultiSelectGrid\n{\n    FormDataSource              callerDataSource;\n    FieldId                     callerFieldId;\n    #define.Spliter(';')\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// getSelected\n    /// </summary>\n    /// <returns>container</returns>\n    public container getSelected()\n    {\n        Array       markedRecords;\n        Common      common;\n        int         i;\n        int         recordsMarked = 0;\n\n        formDS      = formRun.dataSource();\n        selectedId  = conNull();\n        selectedStr = conNull();\n\n        for (common = getFirstSelection(formDS); common; common = formDS.getNext())\n        {\n            recordsMarked++;\n        }\n\n        if (recordsMarked > 0)\n        {\n            markedRecords = formDS.recordsMarked();\n\n            for (i = 1; i <= markedRecords.lastIndex(); i++)\n            {\n                formDS      = formRun.dataSource();\n                formDS.setPosition(markedRecords.value(i));\n                common      = formDS.cursor();\n                selectedId  += common.RecId;\n                selectedStr += common.(defaultSelectFieldId);\n            }\n        }\n\n        return selectedId;\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// init\n    /// </summary>\n    public void init()\n    {\n        callingControlId.registerOverrideMethod(methodStr(FormStringControl, lookup), methodStr(HMLookupMultiSelectGridOrderCategory, lookup), this);\n        callerDataSource    = callingControlId.formRun().dataSource(callingControlId.fieldBinding().tableName());\n        callerFieldId       = callingControlId.fieldBinding().fieldId();\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// lookup\n    /// </summary>\n    /// <param name=\"_callerControl\">FormStringControl</param>\n    public void lookup(FormStringControl _callerControl)\n    {\n        FormDataSource  formDataSource;\n        Common          callerRecord;\n \n        if (callerDataSource)\n        {\n            selectedId      = conNull();\n            selectedStr     = conNull();\n            callerRecord    = callerDataSource.cursor();\n \n            if (callerRecord.RecId)\n            {\n                HMSpiffs spiffs = callerRecord;\n                container con = str2con(spiffs.OrderCategory, ';', false);\n                int i;\n                for (i = 1; i <= conLen(con); i++)\n                {\n                    sunTAFSalesCategory salesCategory = sunTAFSalesCategory::find(conPeek(con, i));\n\n                    selectedId += salesCategory.RecId;\n                    selectedStr += salesCategory.SalesCategoryID;\n                }\n            }\n            else\n            {\n                if (callerRecord.validateWrite())\n                {\n                    callerRecord.write();\n                }\n                else\n                {\n                    return;\n                }\n            }\n        }\n \n        this.run();\n \n        if (callerDataSource)\n        {\n            callerRecord.(callerFieldId)    = con2Str(selectedStr, #Spliter);\n            formDataSource                  = callerRecord.dataSource();\n            formDataSource.refresh();\n        }\n \n        _callerControl.modified();\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// setSelected\n    /// </summary>\n    public void setSelected()\n    {\n        Common          callerRecord;\n \n        if (callerDataSource)\n        {\n            callerRecord    = callerDataSource.cursor();\n \n            if (callerRecord)\n            {\n                HMSpiffs spiffs = callerRecord;\n                spiffs.OrderCategory = con2Str(selectedStr, ';');\n            }\n        }\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// construct\n    /// </summary>\n    /// <param name=\"_ctrlId\">ctrlId</param>\n    /// <param name=\"_query\">query</param>\n    /// <param name=\"_selectField\">selectField</param>\n    /// <returns>HMLookupMultiSelectGridOrderCategory</returns>\n    public static HMLookupMultiSelectGridOrderCategory construct(\n        FormControl _ctrlId,\n        Query       _query,\n        container   _selectField = conNull())\n    {\n        HMLookupMultiSelectGridOrderCategory lookupMultiSelectControl;\n \n        lookupMultiSelectControl = new HMLookupMultiSelectGridOrderCategory();\n        lookupMultiSelectControl.parmCallingControl(_ctrlId);\n        lookupMultiSelectControl.parmCallingControlId(_ctrlId);\n        lookupMultiSelectControl.parmQuery(_query);\n        lookupMultiSelectControl.parmSelectField(_selectField);\n        lookupMultiSelectControl.init();\n \n        return lookupMultiSelectControl;\n    }\n\n}\n\n```\n\n## Step 2: Use the Lookup Control in the Form Grid\n\nOnce the custom lookup class is ready, the next step is to integrate it into the form grid where multi-selection is required.\n\nIn the `FormControl` method override (usually on the lookup() method of the relevant control), you can instantiate your custom lookup using the construct() method.\n\nFor example:\n\n```c#\nHMLookupMultiSelectGridOrderCategory::construct(MainGrid_OrderCategory, query, con);\n```\n\n- `MainGrid_OrderCategory` is the name of the string control (usually bound to a field like OrderCategory) on the form grid.\n\n- `quer`y is a standard `Query` object used to define the records shown in the lookup.\n\n- `con` is a container specifying which field(s) to select and return from the lookup records.\n\nThis setup allows the form to display a multi-select lookup when users interact with the field in the grid, enabling them to choose multiple entries and store them in a semicolon-delimited format (or another structure as needed).","source":"_posts/xpp-multipleselectionforformgrid.md","raw":"---\ntitle: How to add multiple lookup control to Form Grid\ncomments: true\ndate: 2025-07-11 20:22:49\ntags:\n - Lookup\n - Multiple Selection Lookup\n - Form\n - Grid\ncategories:\n - x++\ndescription: How to add multiple lookup control to Form Grid\n---\n\nIn some scenarios, we may need to allow users to select multiple values from a lookup within a grid on a formfor example, assigning multiple categories or tags to a line-level record. Out of the box, Dynamics 365 Finance and Operations does not support multi-select lookups directly on grid controls. However, we can achieve this behavior by extending the `SysLookupMultiSelectGrid` framework.\n\n## Step 1: Create a Custom Class Based on `SysLookupMultiSelectGrid`\n\nTo begin, we need to create a custom class that extends SysLookupMultiSelectGrid. This class will encapsulate the logic for initializing the lookup, storing selected values, and writing them back to the grid's data source.\n\nHere are the key methods you should implement:\n\n- init(): Register the lookup override and capture context such as the caller data source and field.\n\n- lookup(FormStringControl _callerControl): Open the lookup form and load existing values into the selection. After the user makes a selection, update the data source field.\n\n- getSelected(): Return the container of selected record IDs.\n\n- setSelected(): Persist the selected values into a specific field (usually a semicolon-delimited string field).\n\n- construct(...): A static method to initialize the custom multi-select lookup instance.\n\nBy implementing these methods, your custom control can support seamless multi-selection directly from the form grid.\n\n```c#\n/// <summary>\n/// Willie Yao - 07/07/2025\n/// HMLookupMultiSelectGridOrderCategory\n/// </summary>\nclass HMLookupMultiSelectGridOrderCategory extends SysLookupMultiSelectGrid\n{\n    FormDataSource              callerDataSource;\n    FieldId                     callerFieldId;\n    #define.Spliter(';')\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// getSelected\n    /// </summary>\n    /// <returns>container</returns>\n    public container getSelected()\n    {\n        Array       markedRecords;\n        Common      common;\n        int         i;\n        int         recordsMarked = 0;\n\n        formDS      = formRun.dataSource();\n        selectedId  = conNull();\n        selectedStr = conNull();\n\n        for (common = getFirstSelection(formDS); common; common = formDS.getNext())\n        {\n            recordsMarked++;\n        }\n\n        if (recordsMarked > 0)\n        {\n            markedRecords = formDS.recordsMarked();\n\n            for (i = 1; i <= markedRecords.lastIndex(); i++)\n            {\n                formDS      = formRun.dataSource();\n                formDS.setPosition(markedRecords.value(i));\n                common      = formDS.cursor();\n                selectedId  += common.RecId;\n                selectedStr += common.(defaultSelectFieldId);\n            }\n        }\n\n        return selectedId;\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// init\n    /// </summary>\n    public void init()\n    {\n        callingControlId.registerOverrideMethod(methodStr(FormStringControl, lookup), methodStr(HMLookupMultiSelectGridOrderCategory, lookup), this);\n        callerDataSource    = callingControlId.formRun().dataSource(callingControlId.fieldBinding().tableName());\n        callerFieldId       = callingControlId.fieldBinding().fieldId();\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// lookup\n    /// </summary>\n    /// <param name=\"_callerControl\">FormStringControl</param>\n    public void lookup(FormStringControl _callerControl)\n    {\n        FormDataSource  formDataSource;\n        Common          callerRecord;\n \n        if (callerDataSource)\n        {\n            selectedId      = conNull();\n            selectedStr     = conNull();\n            callerRecord    = callerDataSource.cursor();\n \n            if (callerRecord.RecId)\n            {\n                HMSpiffs spiffs = callerRecord;\n                container con = str2con(spiffs.OrderCategory, ';', false);\n                int i;\n                for (i = 1; i <= conLen(con); i++)\n                {\n                    sunTAFSalesCategory salesCategory = sunTAFSalesCategory::find(conPeek(con, i));\n\n                    selectedId += salesCategory.RecId;\n                    selectedStr += salesCategory.SalesCategoryID;\n                }\n            }\n            else\n            {\n                if (callerRecord.validateWrite())\n                {\n                    callerRecord.write();\n                }\n                else\n                {\n                    return;\n                }\n            }\n        }\n \n        this.run();\n \n        if (callerDataSource)\n        {\n            callerRecord.(callerFieldId)    = con2Str(selectedStr, #Spliter);\n            formDataSource                  = callerRecord.dataSource();\n            formDataSource.refresh();\n        }\n \n        _callerControl.modified();\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// setSelected\n    /// </summary>\n    public void setSelected()\n    {\n        Common          callerRecord;\n \n        if (callerDataSource)\n        {\n            callerRecord    = callerDataSource.cursor();\n \n            if (callerRecord)\n            {\n                HMSpiffs spiffs = callerRecord;\n                spiffs.OrderCategory = con2Str(selectedStr, ';');\n            }\n        }\n    }\n\n    /// <summary>\n    /// Willie Yao - 07/07/2025\n    /// construct\n    /// </summary>\n    /// <param name=\"_ctrlId\">ctrlId</param>\n    /// <param name=\"_query\">query</param>\n    /// <param name=\"_selectField\">selectField</param>\n    /// <returns>HMLookupMultiSelectGridOrderCategory</returns>\n    public static HMLookupMultiSelectGridOrderCategory construct(\n        FormControl _ctrlId,\n        Query       _query,\n        container   _selectField = conNull())\n    {\n        HMLookupMultiSelectGridOrderCategory lookupMultiSelectControl;\n \n        lookupMultiSelectControl = new HMLookupMultiSelectGridOrderCategory();\n        lookupMultiSelectControl.parmCallingControl(_ctrlId);\n        lookupMultiSelectControl.parmCallingControlId(_ctrlId);\n        lookupMultiSelectControl.parmQuery(_query);\n        lookupMultiSelectControl.parmSelectField(_selectField);\n        lookupMultiSelectControl.init();\n \n        return lookupMultiSelectControl;\n    }\n\n}\n\n```\n\n## Step 2: Use the Lookup Control in the Form Grid\n\nOnce the custom lookup class is ready, the next step is to integrate it into the form grid where multi-selection is required.\n\nIn the `FormControl` method override (usually on the lookup() method of the relevant control), you can instantiate your custom lookup using the construct() method.\n\nFor example:\n\n```c#\nHMLookupMultiSelectGridOrderCategory::construct(MainGrid_OrderCategory, query, con);\n```\n\n- `MainGrid_OrderCategory` is the name of the string control (usually bound to a field like OrderCategory) on the form grid.\n\n- `quer`y is a standard `Query` object used to define the records shown in the lookup.\n\n- `con` is a container specifying which field(s) to select and return from the lookup records.\n\nThis setup allows the form to display a multi-select lookup when users interact with the field in the grid, enabling them to choose multiple entries and store them in a semicolon-delimited format (or another structure as needed).","slug":"xpp-multipleselectionforformgrid","published":1,"updated":"2025-12-26T03:11:02.935Z","layout":"post","photos":[],"_id":"cmk9a8vpp001h0cqk0e3v8d37","content":"<p>In some scenarios, we may need to allow users to select multiple values from a lookup within a grid on a formfor example, assigning multiple categories or tags to a line-level record. Out of the box, Dynamics 365 Finance and Operations does not support multi-select lookups directly on grid controls. However, we can achieve this behavior by extending the <code>SysLookupMultiSelectGrid</code> framework.</p>\n<h2 id=\"Step-1-Create-a-Custom-Class-Based-on-SysLookupMultiSelectGrid\"><a href=\"#Step-1-Create-a-Custom-Class-Based-on-SysLookupMultiSelectGrid\" class=\"headerlink\" title=\"Step 1: Create a Custom Class Based on SysLookupMultiSelectGrid\"></a>Step 1: Create a Custom Class Based on <code>SysLookupMultiSelectGrid</code></h2><p>To begin, we need to create a custom class that extends SysLookupMultiSelectGrid. This class will encapsulate the logic for initializing the lookup, storing selected values, and writing them back to the grids data source.</p>\n<p>Here are the key methods you should implement:</p>\n<ul>\n<li><p>init(): Register the lookup override and capture context such as the caller data source and field.</p>\n</li>\n<li><p>lookup(FormStringControl _callerControl): Open the lookup form and load existing values into the selection. After the user makes a selection, update the data source field.</p>\n</li>\n<li><p>getSelected(): Return the container of selected record IDs.</p>\n</li>\n<li><p>setSelected(): Persist the selected values into a specific field (usually a semicolon-delimited string field).</p>\n</li>\n<li><p>construct(): A static method to initialize the custom multi-select lookup instance.</p>\n</li>\n</ul>\n<p>By implementing these methods, your custom control can support seamless multi-selection directly from the form grid.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> HMLookupMultiSelectGridOrderCategory</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">HMLookupMultiSelectGridOrderCategory</span> <span class=\"title\">extends</span> <span class=\"title\">SysLookupMultiSelectGrid</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    FormDataSource              callerDataSource;</span><br><span class=\"line\">    FieldId                     callerFieldId;</span><br><span class=\"line\">    <span class=\"meta\">#<span class=\"keyword\">define</span>.Spliter(&#x27;;&#x27;)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> getSelected</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>container<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> container <span class=\"title\">getSelected</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Array       markedRecords;</span><br><span class=\"line\">        Common      common;</span><br><span class=\"line\">        <span class=\"built_in\">int</span>         i;</span><br><span class=\"line\">        <span class=\"built_in\">int</span>         recordsMarked = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        formDS      = formRun.dataSource();</span><br><span class=\"line\">        selectedId  = conNull();</span><br><span class=\"line\">        selectedStr = conNull();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (common = getFirstSelection(formDS); common; common = formDS.getNext())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            recordsMarked++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (recordsMarked &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            markedRecords = formDS.recordsMarked();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt;= markedRecords.lastIndex(); i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                formDS      = formRun.dataSource();</span><br><span class=\"line\">                formDS.setPosition(markedRecords.<span class=\"keyword\">value</span>(i));</span><br><span class=\"line\">                common      = formDS.cursor();</span><br><span class=\"line\">                selectedId  += common.RecId;</span><br><span class=\"line\">                selectedStr += common.(defaultSelectFieldId);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> selectedId;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> init</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">init</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        callingControlId.registerOverrideMethod(methodStr(FormStringControl, lookup), methodStr(HMLookupMultiSelectGridOrderCategory, lookup), <span class=\"keyword\">this</span>);</span><br><span class=\"line\">        callerDataSource    = callingControlId.formRun().dataSource(callingControlId.fieldBinding().tableName());</span><br><span class=\"line\">        callerFieldId       = callingControlId.fieldBinding().fieldId();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> lookup</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_callerControl&quot;&gt;</span>FormStringControl<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">lookup</span>(<span class=\"params\">FormStringControl _callerControl</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        FormDataSource  formDataSource;</span><br><span class=\"line\">        Common          callerRecord;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (callerDataSource)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            selectedId      = conNull();</span><br><span class=\"line\">            selectedStr     = conNull();</span><br><span class=\"line\">            callerRecord    = callerDataSource.cursor();</span><br><span class=\"line\"> </span><br><span class=\"line\">            <span class=\"keyword\">if</span> (callerRecord.RecId)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                HMSpiffs spiffs = callerRecord;</span><br><span class=\"line\">                container con = str2con(spiffs.OrderCategory, <span class=\"string\">&#x27;;&#x27;</span>, <span class=\"literal\">false</span>);</span><br><span class=\"line\">                <span class=\"built_in\">int</span> i;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt;= conLen(con); i++)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    sunTAFSalesCategory salesCategory = sunTAFSalesCategory::find(conPeek(con, i));</span><br><span class=\"line\"></span><br><span class=\"line\">                    selectedId += salesCategory.RecId;</span><br><span class=\"line\">                    selectedStr += salesCategory.SalesCategoryID;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (callerRecord.validateWrite())</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    callerRecord.write();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">this</span>.run();</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (callerDataSource)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            callerRecord.(callerFieldId)    = con2Str(selectedStr, <span class=\"meta\">#Spliter);</span></span><br><span class=\"line\">            formDataSource                  = callerRecord.dataSource();</span><br><span class=\"line\">            formDataSource.refresh();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        _callerControl.modified();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> setSelected</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setSelected</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Common          callerRecord;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (callerDataSource)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            callerRecord    = callerDataSource.cursor();</span><br><span class=\"line\"> </span><br><span class=\"line\">            <span class=\"keyword\">if</span> (callerRecord)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                HMSpiffs spiffs = callerRecord;</span><br><span class=\"line\">                spiffs.OrderCategory = con2Str(selectedStr, <span class=\"string\">&#x27;;&#x27;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> construct</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_ctrlId&quot;&gt;</span>ctrlId<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_query&quot;&gt;</span>query<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_selectField&quot;&gt;</span>selectField<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>HMLookupMultiSelectGridOrderCategory<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> HMLookupMultiSelectGridOrderCategory <span class=\"title\">construct</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        FormControl _ctrlId,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        Query       _query,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        container   _selectField = conNull(</span>))</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        HMLookupMultiSelectGridOrderCategory lookupMultiSelectControl;</span><br><span class=\"line\"> </span><br><span class=\"line\">        lookupMultiSelectControl = <span class=\"keyword\">new</span> HMLookupMultiSelectGridOrderCategory();</span><br><span class=\"line\">        lookupMultiSelectControl.parmCallingControl(_ctrlId);</span><br><span class=\"line\">        lookupMultiSelectControl.parmCallingControlId(_ctrlId);</span><br><span class=\"line\">        lookupMultiSelectControl.parmQuery(_query);</span><br><span class=\"line\">        lookupMultiSelectControl.parmSelectField(_selectField);</span><br><span class=\"line\">        lookupMultiSelectControl.<span class=\"keyword\">init</span>();</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">return</span> lookupMultiSelectControl;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Step-2-Use-the-Lookup-Control-in-the-Form-Grid\"><a href=\"#Step-2-Use-the-Lookup-Control-in-the-Form-Grid\" class=\"headerlink\" title=\"Step 2: Use the Lookup Control in the Form Grid\"></a>Step 2: Use the Lookup Control in the Form Grid</h2><p>Once the custom lookup class is ready, the next step is to integrate it into the form grid where multi-selection is required.</p>\n<p>In the <code>FormControl</code> method override (usually on the lookup() method of the relevant control), you can instantiate your custom lookup using the construct() method.</p>\n<p>For example:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HMLookupMultiSelectGridOrderCategory::construct(MainGrid_OrderCategory, query, con);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p><code>MainGrid_OrderCategory</code> is the name of the string control (usually bound to a field like OrderCategory) on the form grid.</p>\n</li>\n<li><p><code>quer</code>y is a standard <code>Query</code> object used to define the records shown in the lookup.</p>\n</li>\n<li><p><code>con</code> is a container specifying which field(s) to select and return from the lookup records.</p>\n</li>\n</ul>\n<p>This setup allows the form to display a multi-select lookup when users interact with the field in the grid, enabling them to choose multiple entries and store them in a semicolon-delimited format (or another structure as needed).</p>\n","excerpt":"","more":"<p>In some scenarios, we may need to allow users to select multiple values from a lookup within a grid on a formfor example, assigning multiple categories or tags to a line-level record. Out of the box, Dynamics 365 Finance and Operations does not support multi-select lookups directly on grid controls. However, we can achieve this behavior by extending the <code>SysLookupMultiSelectGrid</code> framework.</p>\n<h2 id=\"Step-1-Create-a-Custom-Class-Based-on-SysLookupMultiSelectGrid\"><a href=\"#Step-1-Create-a-Custom-Class-Based-on-SysLookupMultiSelectGrid\" class=\"headerlink\" title=\"Step 1: Create a Custom Class Based on SysLookupMultiSelectGrid\"></a>Step 1: Create a Custom Class Based on <code>SysLookupMultiSelectGrid</code></h2><p>To begin, we need to create a custom class that extends SysLookupMultiSelectGrid. This class will encapsulate the logic for initializing the lookup, storing selected values, and writing them back to the grids data source.</p>\n<p>Here are the key methods you should implement:</p>\n<ul>\n<li><p>init(): Register the lookup override and capture context such as the caller data source and field.</p>\n</li>\n<li><p>lookup(FormStringControl _callerControl): Open the lookup form and load existing values into the selection. After the user makes a selection, update the data source field.</p>\n</li>\n<li><p>getSelected(): Return the container of selected record IDs.</p>\n</li>\n<li><p>setSelected(): Persist the selected values into a specific field (usually a semicolon-delimited string field).</p>\n</li>\n<li><p>construct(): A static method to initialize the custom multi-select lookup instance.</p>\n</li>\n</ul>\n<p>By implementing these methods, your custom control can support seamless multi-selection directly from the form grid.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> HMLookupMultiSelectGridOrderCategory</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">HMLookupMultiSelectGridOrderCategory</span> <span class=\"title\">extends</span> <span class=\"title\">SysLookupMultiSelectGrid</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    FormDataSource              callerDataSource;</span><br><span class=\"line\">    FieldId                     callerFieldId;</span><br><span class=\"line\">    <span class=\"meta\">#<span class=\"keyword\">define</span>.Spliter(&#x27;;&#x27;)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> getSelected</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>container<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> container <span class=\"title\">getSelected</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Array       markedRecords;</span><br><span class=\"line\">        Common      common;</span><br><span class=\"line\">        <span class=\"built_in\">int</span>         i;</span><br><span class=\"line\">        <span class=\"built_in\">int</span>         recordsMarked = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        formDS      = formRun.dataSource();</span><br><span class=\"line\">        selectedId  = conNull();</span><br><span class=\"line\">        selectedStr = conNull();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (common = getFirstSelection(formDS); common; common = formDS.getNext())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            recordsMarked++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (recordsMarked &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            markedRecords = formDS.recordsMarked();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt;= markedRecords.lastIndex(); i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                formDS      = formRun.dataSource();</span><br><span class=\"line\">                formDS.setPosition(markedRecords.<span class=\"keyword\">value</span>(i));</span><br><span class=\"line\">                common      = formDS.cursor();</span><br><span class=\"line\">                selectedId  += common.RecId;</span><br><span class=\"line\">                selectedStr += common.(defaultSelectFieldId);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> selectedId;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> init</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">init</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        callingControlId.registerOverrideMethod(methodStr(FormStringControl, lookup), methodStr(HMLookupMultiSelectGridOrderCategory, lookup), <span class=\"keyword\">this</span>);</span><br><span class=\"line\">        callerDataSource    = callingControlId.formRun().dataSource(callingControlId.fieldBinding().tableName());</span><br><span class=\"line\">        callerFieldId       = callingControlId.fieldBinding().fieldId();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> lookup</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_callerControl&quot;&gt;</span>FormStringControl<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">lookup</span>(<span class=\"params\">FormStringControl _callerControl</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        FormDataSource  formDataSource;</span><br><span class=\"line\">        Common          callerRecord;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (callerDataSource)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            selectedId      = conNull();</span><br><span class=\"line\">            selectedStr     = conNull();</span><br><span class=\"line\">            callerRecord    = callerDataSource.cursor();</span><br><span class=\"line\"> </span><br><span class=\"line\">            <span class=\"keyword\">if</span> (callerRecord.RecId)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                HMSpiffs spiffs = callerRecord;</span><br><span class=\"line\">                container con = str2con(spiffs.OrderCategory, <span class=\"string\">&#x27;;&#x27;</span>, <span class=\"literal\">false</span>);</span><br><span class=\"line\">                <span class=\"built_in\">int</span> i;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt;= conLen(con); i++)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    sunTAFSalesCategory salesCategory = sunTAFSalesCategory::find(conPeek(con, i));</span><br><span class=\"line\"></span><br><span class=\"line\">                    selectedId += salesCategory.RecId;</span><br><span class=\"line\">                    selectedStr += salesCategory.SalesCategoryID;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (callerRecord.validateWrite())</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    callerRecord.write();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">this</span>.run();</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (callerDataSource)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            callerRecord.(callerFieldId)    = con2Str(selectedStr, <span class=\"meta\">#Spliter);</span></span><br><span class=\"line\">            formDataSource                  = callerRecord.dataSource();</span><br><span class=\"line\">            formDataSource.refresh();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        _callerControl.modified();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> setSelected</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setSelected</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Common          callerRecord;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (callerDataSource)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            callerRecord    = callerDataSource.cursor();</span><br><span class=\"line\"> </span><br><span class=\"line\">            <span class=\"keyword\">if</span> (callerRecord)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                HMSpiffs spiffs = callerRecord;</span><br><span class=\"line\">                spiffs.OrderCategory = con2Str(selectedStr, <span class=\"string\">&#x27;;&#x27;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> construct</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_ctrlId&quot;&gt;</span>ctrlId<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_query&quot;&gt;</span>query<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;_selectField&quot;&gt;</span>selectField<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>HMLookupMultiSelectGridOrderCategory<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> HMLookupMultiSelectGridOrderCategory <span class=\"title\">construct</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        FormControl _ctrlId,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        Query       _query,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">        container   _selectField = conNull(</span>))</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        HMLookupMultiSelectGridOrderCategory lookupMultiSelectControl;</span><br><span class=\"line\"> </span><br><span class=\"line\">        lookupMultiSelectControl = <span class=\"keyword\">new</span> HMLookupMultiSelectGridOrderCategory();</span><br><span class=\"line\">        lookupMultiSelectControl.parmCallingControl(_ctrlId);</span><br><span class=\"line\">        lookupMultiSelectControl.parmCallingControlId(_ctrlId);</span><br><span class=\"line\">        lookupMultiSelectControl.parmQuery(_query);</span><br><span class=\"line\">        lookupMultiSelectControl.parmSelectField(_selectField);</span><br><span class=\"line\">        lookupMultiSelectControl.<span class=\"keyword\">init</span>();</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">return</span> lookupMultiSelectControl;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Step-2-Use-the-Lookup-Control-in-the-Form-Grid\"><a href=\"#Step-2-Use-the-Lookup-Control-in-the-Form-Grid\" class=\"headerlink\" title=\"Step 2: Use the Lookup Control in the Form Grid\"></a>Step 2: Use the Lookup Control in the Form Grid</h2><p>Once the custom lookup class is ready, the next step is to integrate it into the form grid where multi-selection is required.</p>\n<p>In the <code>FormControl</code> method override (usually on the lookup() method of the relevant control), you can instantiate your custom lookup using the construct() method.</p>\n<p>For example:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HMLookupMultiSelectGridOrderCategory::construct(MainGrid_OrderCategory, query, con);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p><code>MainGrid_OrderCategory</code> is the name of the string control (usually bound to a field like OrderCategory) on the form grid.</p>\n</li>\n<li><p><code>quer</code>y is a standard <code>Query</code> object used to define the records shown in the lookup.</p>\n</li>\n<li><p><code>con</code> is a container specifying which field(s) to select and return from the lookup records.</p>\n</li>\n</ul>\n<p>This setup allows the form to display a multi-select lookup when users interact with the field in the grid, enabling them to choose multiple entries and store them in a semicolon-delimited format (or another structure as needed).</p>\n"},{"title":"Insert a Yes/No Message box on a Form Click Button event","comments":1,"date":"2025-07-11T13:27:20.000Z","description":"Insert a Yes/No Message box on a Form Click Button event","_content":"\n> Reprint from: [AX / D365FO  Insert a Yes/No Message box on a Form Click Button event](https://d365ffo.com/2023/05/15/ax-d365fo-insert-a-yes-no-message-box-on-a-form-click-button-event/#:~:text=Below%20is%20an%20example%20code%20DialogButton%20diagBut%3B%20str,DialogButton%3A%3ANo%2C%20strTitle%29%3B%20if%20%28diagBut%20%3D%3D%20DialogButton%3A%3ANo%29%20info%28%27Operation%20canceled%27%29%3B)\n\nWhile any operation is performed by the user, there are cases such as need to receive confirmation from the user to perform the operation. In these cases we can use DialogButton for user interaction not say Yes/No to perform the operation.\n\nBelow is an example code:\n\n```c#\npublic void clicked()\n{\n   DialogButton diagBut;  \n   str strMessage = 'By clicking OK you confirm to save data into form, do you still want to continue?';\n   str strTitle = 'My Title';\n   diagBut = Box::yesNo(strMessage, DialogButton::No, strTitle);\n\n   if (diagBut == DialogButton::No)\n   {\n\n        info('Operation canceled');\n\n   }\n   else if(diagBut == DialogButton::Yes)\n   {  \n        Info('button click code here');\n   }\n}\n```","source":"_posts/xpp-noyesdialog.md","raw":"---\ntitle: Insert a Yes/No Message box on a Form Click Button event\ncomments: true\ndate: 2025-07-11 21:27:20\ntags:\n - Dialog\ncategories:\n - x++\ndescription: Insert a Yes/No Message box on a Form Click Button event\n---\n\n> Reprint from: [AX / D365FO  Insert a Yes/No Message box on a Form Click Button event](https://d365ffo.com/2023/05/15/ax-d365fo-insert-a-yes-no-message-box-on-a-form-click-button-event/#:~:text=Below%20is%20an%20example%20code%20DialogButton%20diagBut%3B%20str,DialogButton%3A%3ANo%2C%20strTitle%29%3B%20if%20%28diagBut%20%3D%3D%20DialogButton%3A%3ANo%29%20info%28%27Operation%20canceled%27%29%3B)\n\nWhile any operation is performed by the user, there are cases such as need to receive confirmation from the user to perform the operation. In these cases we can use DialogButton for user interaction not say Yes/No to perform the operation.\n\nBelow is an example code:\n\n```c#\npublic void clicked()\n{\n   DialogButton diagBut;  \n   str strMessage = 'By clicking OK you confirm to save data into form, do you still want to continue?';\n   str strTitle = 'My Title';\n   diagBut = Box::yesNo(strMessage, DialogButton::No, strTitle);\n\n   if (diagBut == DialogButton::No)\n   {\n\n        info('Operation canceled');\n\n   }\n   else if(diagBut == DialogButton::Yes)\n   {  \n        Info('button click code here');\n   }\n}\n```","slug":"xpp-noyesdialog","published":1,"updated":"2025-12-26T03:11:02.936Z","layout":"post","photos":[],"_id":"cmk9a8vq4002j0cqkh3jj69vo","content":"<blockquote>\n<p>Reprint from: <a href=\"https://d365ffo.com/2023/05/15/ax-d365fo-insert-a-yes-no-message-box-on-a-form-click-button-event/#:~:text=Below%20is%20an%20example%20code%20DialogButton%20diagBut%3B%20str,DialogButton%3A%3ANo%2C%20strTitle%29%3B%20if%20%28diagBut%20%3D%3D%20DialogButton%3A%3ANo%29%20info%28%27Operation%20canceled%27%29%3B\">AX &#x2F; D365FO  Insert a Yes&#x2F;No Message box on a Form Click Button event</a></p>\n</blockquote>\n<p>While any operation is performed by the user, there are cases such as need to receive confirmation from the user to perform the operation. In these cases we can use DialogButton for user interaction not say Yes&#x2F;No to perform the operation.</p>\n<p>Below is an example code:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">clicked</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   DialogButton diagBut;  </span><br><span class=\"line\">   str strMessage = <span class=\"string\">&#x27;By clicking OK you confirm to save data into form, do you still want to continue?&#x27;</span>;</span><br><span class=\"line\">   str strTitle = <span class=\"string\">&#x27;My Title&#x27;</span>;</span><br><span class=\"line\">   diagBut = Box::yesNo(strMessage, DialogButton::No, strTitle);</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (diagBut == DialogButton::No)</span><br><span class=\"line\">   &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        info(<span class=\"string\">&#x27;Operation canceled&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(diagBut == DialogButton::Yes)</span><br><span class=\"line\">   &#123;  </span><br><span class=\"line\">        Info(<span class=\"string\">&#x27;button click code here&#x27;</span>);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<blockquote>\n<p>Reprint from: <a href=\"https://d365ffo.com/2023/05/15/ax-d365fo-insert-a-yes-no-message-box-on-a-form-click-button-event/#:~:text=Below%20is%20an%20example%20code%20DialogButton%20diagBut%3B%20str,DialogButton%3A%3ANo%2C%20strTitle%29%3B%20if%20%28diagBut%20%3D%3D%20DialogButton%3A%3ANo%29%20info%28%27Operation%20canceled%27%29%3B\">AX &#x2F; D365FO  Insert a Yes&#x2F;No Message box on a Form Click Button event</a></p>\n</blockquote>\n<p>While any operation is performed by the user, there are cases such as need to receive confirmation from the user to perform the operation. In these cases we can use DialogButton for user interaction not say Yes&#x2F;No to perform the operation.</p>\n<p>Below is an example code:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">clicked</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   DialogButton diagBut;  </span><br><span class=\"line\">   str strMessage = <span class=\"string\">&#x27;By clicking OK you confirm to save data into form, do you still want to continue?&#x27;</span>;</span><br><span class=\"line\">   str strTitle = <span class=\"string\">&#x27;My Title&#x27;</span>;</span><br><span class=\"line\">   diagBut = Box::yesNo(strMessage, DialogButton::No, strTitle);</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (diagBut == DialogButton::No)</span><br><span class=\"line\">   &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        info(<span class=\"string\">&#x27;Operation canceled&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(diagBut == DialogButton::Yes)</span><br><span class=\"line\">   &#123;  </span><br><span class=\"line\">        Info(<span class=\"string\">&#x27;button click code here&#x27;</span>);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Query On-Hand inventory using specific inventory-dimensions","comments":1,"date":"2025-07-08T12:10:18.000Z","description":"Query On-Hand inventory using specific inventory-dimensions","_content":"\n## InventDimOnhand\n\nUsing the class InventDimOnhand, you can determine the on-hand inventory of articles and/or specific inventory-dimensions. The following job determines the inventory for a specific item and a specific inventlocation. This is grouped per color.\n\n```c#\nstatic void getInventOnhandExample(Args _args)\n{\n    ItemId itemId;\n    InventDimOnHand inventDimOnHand;\n    InventDimParm inventDimParmOnHandLevel;\n    InventDimOnHandIterator inventDimOnHandIterator;\n    InventDimOnHandMember inventDimOnHandMember;\n    InventDim inventDim;\n    InventDim inventDimCriteria;\n    InventDimParm inventDimParmCriteria;\n\n    // Item: Query specific item\n    itemId = \"DMO003\";\n    \n    // inventDimCriteria: Apply ranges\n    inventDimCriteria.wmsLocationId             = \"12-1\";\n    inventDimCriteria.InventBatchId             = \"DMOBatch001\";\n\n    // inventDimParmCriteria: should values from inventDimCriteria be used?\n    inventDimParmCriteria.ItemIdFlag            = false;\n    inventDimParmCriteria.InventSiteIdFlag      = false;\n    inventDimParmCriteria.InventLocationIdFlag  = false;\n    inventDimParmCriteria.wmsLocationIdFlag     = true;     // wmsLocationId from inventDimCriteria will be used\n    inventDimParmCriteria.wmsPalletIdFlag       = false;\n    inventDimParmCriteria.InventBatchIdFlag     = false;    // inventBatchId from inventDimCriteria will not be used\n    inventDimParmCriteria.InventSerialIdFlag    = false;\n    inventDimParmCriteria.ConfigIdFlag          = false;\n    inventDimParmCriteria.InventSizeIdFlag      = false;\n    inventDimParmCriteria.InventColorIdFlag     = false;\n    inventDimParmCriteria.InventStyleIdFlag     = false;\n\n    // inventDimParmOnHandLevel: Which dimensions should be used to group for?\n    // inventDimParmOnHandLevel necessary for inventDimOnHandLevel::DimParm\n    inventDimParmOnHandLevel.ItemIdFlag            = true;      // necessary\n    inventDimParmOnHandLevel.InventSiteIdFlag      = false;\n    inventDimParmOnHandLevel.InventLocationIdFlag  = false;\n    inventDimParmOnHandLevel.wmsLocationIdFlag     = false;\n    inventDimParmOnHandLevel.wmsPalletIdFlag       = false;\n    inventDimParmOnHandLevel.InventBatchIdFlag     = false;\n    inventDimParmOnHandLevel.InventSerialIdFlag    = false;\n    inventDimParmOnHandLevel.ConfigIdFlag          = false;\n    inventDimParmOnHandLevel.InventSizeIdFlag      = false;\n    inventDimParmOnHandLevel.InventColorIdFlag     = true;      // group by color\n    inventDimParmOnHandLevel.InventStyleIdFlag     = false;\n\n    inventDimOnHand = InventDimOnHand::newAvailPhysical(itemId,\n                                                        inventDimCriteria,\n                                                        inventDimParmCriteria,\n                                                        InventDimOnHandLevel::DimParm,\n                                                        inventDimParmOnHandLevel);\n\n    inventDimOnHandIterator = inventDimOnHand.onHandIterator();\n    while (inventDimOnHandIterator.more())\n    {\n        inventDimOnHandMember = inventDimOnHandIterator.value();\n\n        inventDim = InventDim::find(inventDimOnHandMember.parmInventDimId());\n\n        info(con2Str([  inventDimOnHandMember.parmItemId(),\n                        inventDim.InventSiteId,\n                        inventDim.InventLocationId,\n                        inventDim.wmsLocationId,\n                        inventDim.wmsPalletId,\n                        inventDim.InventBatchId,\n                        inventDim.InventSerialId,\n                        inventDim.ConfigId,\n                        inventDim.InventSizeId,\n                        inventDim.InventColorId,\n                        inventDim.InventStyleId,\n                        inventDimOnHandMember.parmInventQty()]));\n\n        inventDimOnHandIterator.next();\n    }\n}\n```\n\n## InventOnHand\n\nBelow function returns onhand qty of item. You can further filter on hand qty of the item for a location by passing invent location id as its optional parameter.\n\n```c#\ndisplay InventQtyOnHand qtyOnHand(InventLocationId _inventLocationId = '')\n{\n    InventOnHand inventQtyOnHand;\n\n    inventQtyOnHand = InventOnHand::newItemId(this.ItemId);\n\n    if (_inventLocationId)\n        inventQtyOnHand.parmInventLocationId(_inventLocationId);\n\n    return inventQtyOnHand.availPhysical();\n}\n```","source":"_posts/xpp-onhandinvent.md","raw":"---\ntitle: Query On-Hand inventory using specific inventory-dimensions\ncomments: true\ndate: 2025-07-08 20:10:18\ntags:\ncategories:\n - x++\ndescription: Query On-Hand inventory using specific inventory-dimensions\n---\n\n## InventDimOnhand\n\nUsing the class InventDimOnhand, you can determine the on-hand inventory of articles and/or specific inventory-dimensions. The following job determines the inventory for a specific item and a specific inventlocation. This is grouped per color.\n\n```c#\nstatic void getInventOnhandExample(Args _args)\n{\n    ItemId itemId;\n    InventDimOnHand inventDimOnHand;\n    InventDimParm inventDimParmOnHandLevel;\n    InventDimOnHandIterator inventDimOnHandIterator;\n    InventDimOnHandMember inventDimOnHandMember;\n    InventDim inventDim;\n    InventDim inventDimCriteria;\n    InventDimParm inventDimParmCriteria;\n\n    // Item: Query specific item\n    itemId = \"DMO003\";\n    \n    // inventDimCriteria: Apply ranges\n    inventDimCriteria.wmsLocationId             = \"12-1\";\n    inventDimCriteria.InventBatchId             = \"DMOBatch001\";\n\n    // inventDimParmCriteria: should values from inventDimCriteria be used?\n    inventDimParmCriteria.ItemIdFlag            = false;\n    inventDimParmCriteria.InventSiteIdFlag      = false;\n    inventDimParmCriteria.InventLocationIdFlag  = false;\n    inventDimParmCriteria.wmsLocationIdFlag     = true;     // wmsLocationId from inventDimCriteria will be used\n    inventDimParmCriteria.wmsPalletIdFlag       = false;\n    inventDimParmCriteria.InventBatchIdFlag     = false;    // inventBatchId from inventDimCriteria will not be used\n    inventDimParmCriteria.InventSerialIdFlag    = false;\n    inventDimParmCriteria.ConfigIdFlag          = false;\n    inventDimParmCriteria.InventSizeIdFlag      = false;\n    inventDimParmCriteria.InventColorIdFlag     = false;\n    inventDimParmCriteria.InventStyleIdFlag     = false;\n\n    // inventDimParmOnHandLevel: Which dimensions should be used to group for?\n    // inventDimParmOnHandLevel necessary for inventDimOnHandLevel::DimParm\n    inventDimParmOnHandLevel.ItemIdFlag            = true;      // necessary\n    inventDimParmOnHandLevel.InventSiteIdFlag      = false;\n    inventDimParmOnHandLevel.InventLocationIdFlag  = false;\n    inventDimParmOnHandLevel.wmsLocationIdFlag     = false;\n    inventDimParmOnHandLevel.wmsPalletIdFlag       = false;\n    inventDimParmOnHandLevel.InventBatchIdFlag     = false;\n    inventDimParmOnHandLevel.InventSerialIdFlag    = false;\n    inventDimParmOnHandLevel.ConfigIdFlag          = false;\n    inventDimParmOnHandLevel.InventSizeIdFlag      = false;\n    inventDimParmOnHandLevel.InventColorIdFlag     = true;      // group by color\n    inventDimParmOnHandLevel.InventStyleIdFlag     = false;\n\n    inventDimOnHand = InventDimOnHand::newAvailPhysical(itemId,\n                                                        inventDimCriteria,\n                                                        inventDimParmCriteria,\n                                                        InventDimOnHandLevel::DimParm,\n                                                        inventDimParmOnHandLevel);\n\n    inventDimOnHandIterator = inventDimOnHand.onHandIterator();\n    while (inventDimOnHandIterator.more())\n    {\n        inventDimOnHandMember = inventDimOnHandIterator.value();\n\n        inventDim = InventDim::find(inventDimOnHandMember.parmInventDimId());\n\n        info(con2Str([  inventDimOnHandMember.parmItemId(),\n                        inventDim.InventSiteId,\n                        inventDim.InventLocationId,\n                        inventDim.wmsLocationId,\n                        inventDim.wmsPalletId,\n                        inventDim.InventBatchId,\n                        inventDim.InventSerialId,\n                        inventDim.ConfigId,\n                        inventDim.InventSizeId,\n                        inventDim.InventColorId,\n                        inventDim.InventStyleId,\n                        inventDimOnHandMember.parmInventQty()]));\n\n        inventDimOnHandIterator.next();\n    }\n}\n```\n\n## InventOnHand\n\nBelow function returns onhand qty of item. You can further filter on hand qty of the item for a location by passing invent location id as its optional parameter.\n\n```c#\ndisplay InventQtyOnHand qtyOnHand(InventLocationId _inventLocationId = '')\n{\n    InventOnHand inventQtyOnHand;\n\n    inventQtyOnHand = InventOnHand::newItemId(this.ItemId);\n\n    if (_inventLocationId)\n        inventQtyOnHand.parmInventLocationId(_inventLocationId);\n\n    return inventQtyOnHand.availPhysical();\n}\n```","slug":"xpp-onhandinvent","published":1,"updated":"2025-12-26T03:11:02.937Z","layout":"post","photos":[],"_id":"cmk9a8vq4002k0cqkhh8ras1p","content":"<h2 id=\"InventDimOnhand\"><a href=\"#InventDimOnhand\" class=\"headerlink\" title=\"InventDimOnhand\"></a>InventDimOnhand</h2><p>Using the class InventDimOnhand, you can determine the on-hand inventory of articles and&#x2F;or specific inventory-dimensions. The following job determines the inventory for a specific item and a specific inventlocation. This is grouped per color.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">getInventOnhandExample</span>(<span class=\"params\">Args _args</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    ItemId itemId;</span><br><span class=\"line\">    InventDimOnHand inventDimOnHand;</span><br><span class=\"line\">    InventDimParm inventDimParmOnHandLevel;</span><br><span class=\"line\">    InventDimOnHandIterator inventDimOnHandIterator;</span><br><span class=\"line\">    InventDimOnHandMember inventDimOnHandMember;</span><br><span class=\"line\">    InventDim inventDim;</span><br><span class=\"line\">    InventDim inventDimCriteria;</span><br><span class=\"line\">    InventDimParm inventDimParmCriteria;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Item: Query specific item</span></span><br><span class=\"line\">    itemId = <span class=\"string\">&quot;DMO003&quot;</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// inventDimCriteria: Apply ranges</span></span><br><span class=\"line\">    inventDimCriteria.wmsLocationId             = <span class=\"string\">&quot;12-1&quot;</span>;</span><br><span class=\"line\">    inventDimCriteria.InventBatchId             = <span class=\"string\">&quot;DMOBatch001&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// inventDimParmCriteria: should values from inventDimCriteria be used?</span></span><br><span class=\"line\">    inventDimParmCriteria.ItemIdFlag            = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventSiteIdFlag      = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventLocationIdFlag  = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.wmsLocationIdFlag     = <span class=\"literal\">true</span>;     <span class=\"comment\">// wmsLocationId from inventDimCriteria will be used</span></span><br><span class=\"line\">    inventDimParmCriteria.wmsPalletIdFlag       = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventBatchIdFlag     = <span class=\"literal\">false</span>;    <span class=\"comment\">// inventBatchId from inventDimCriteria will not be used</span></span><br><span class=\"line\">    inventDimParmCriteria.InventSerialIdFlag    = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.ConfigIdFlag          = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventSizeIdFlag      = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventColorIdFlag     = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventStyleIdFlag     = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// inventDimParmOnHandLevel: Which dimensions should be used to group for?</span></span><br><span class=\"line\">    <span class=\"comment\">// inventDimParmOnHandLevel necessary for inventDimOnHandLevel::DimParm</span></span><br><span class=\"line\">    inventDimParmOnHandLevel.ItemIdFlag            = <span class=\"literal\">true</span>;      <span class=\"comment\">// necessary</span></span><br><span class=\"line\">    inventDimParmOnHandLevel.InventSiteIdFlag      = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.InventLocationIdFlag  = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.wmsLocationIdFlag     = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.wmsPalletIdFlag       = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.InventBatchIdFlag     = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.InventSerialIdFlag    = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.ConfigIdFlag          = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.InventSizeIdFlag      = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.InventColorIdFlag     = <span class=\"literal\">true</span>;      <span class=\"comment\">// group by color</span></span><br><span class=\"line\">    inventDimParmOnHandLevel.InventStyleIdFlag     = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    inventDimOnHand = InventDimOnHand::newAvailPhysical(itemId,</span><br><span class=\"line\">                                                        inventDimCriteria,</span><br><span class=\"line\">                                                        inventDimParmCriteria,</span><br><span class=\"line\">                                                        InventDimOnHandLevel::DimParm,</span><br><span class=\"line\">                                                        inventDimParmOnHandLevel);</span><br><span class=\"line\"></span><br><span class=\"line\">    inventDimOnHandIterator = inventDimOnHand.onHandIterator();</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (inventDimOnHandIterator.more())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        inventDimOnHandMember = inventDimOnHandIterator.<span class=\"keyword\">value</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        inventDim = InventDim::find(inventDimOnHandMember.parmInventDimId());</span><br><span class=\"line\"></span><br><span class=\"line\">        info(con2Str([  inventDimOnHandMember.parmItemId(),</span><br><span class=\"line\">                        inventDim.InventSiteId,</span><br><span class=\"line\">                        inventDim.InventLocationId,</span><br><span class=\"line\">                        inventDim.wmsLocationId,</span><br><span class=\"line\">                        inventDim.wmsPalletId,</span><br><span class=\"line\">                        inventDim.InventBatchId,</span><br><span class=\"line\">                        inventDim.InventSerialId,</span><br><span class=\"line\">                        inventDim.ConfigId,</span><br><span class=\"line\">                        inventDim.InventSizeId,</span><br><span class=\"line\">                        inventDim.InventColorId,</span><br><span class=\"line\">                        inventDim.InventStyleId,</span><br><span class=\"line\">                        inventDimOnHandMember.parmInventQty()]));</span><br><span class=\"line\"></span><br><span class=\"line\">        inventDimOnHandIterator.next();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"InventOnHand\"><a href=\"#InventOnHand\" class=\"headerlink\" title=\"InventOnHand\"></a>InventOnHand</h2><p>Below function returns onhand qty of item. You can further filter on hand qty of the item for a location by passing invent location id as its optional parameter.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">display InventQtyOnHand <span class=\"title\">qtyOnHand</span>(<span class=\"params\">InventLocationId _inventLocationId = <span class=\"string\">&#x27;&#x27;</span></span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    InventOnHand inventQtyOnHand;</span><br><span class=\"line\"></span><br><span class=\"line\">    inventQtyOnHand = InventOnHand::newItemId(<span class=\"keyword\">this</span>.ItemId);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (_inventLocationId)</span><br><span class=\"line\">        inventQtyOnHand.parmInventLocationId(_inventLocationId);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> inventQtyOnHand.availPhysical();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<h2 id=\"InventDimOnhand\"><a href=\"#InventDimOnhand\" class=\"headerlink\" title=\"InventDimOnhand\"></a>InventDimOnhand</h2><p>Using the class InventDimOnhand, you can determine the on-hand inventory of articles and&#x2F;or specific inventory-dimensions. The following job determines the inventory for a specific item and a specific inventlocation. This is grouped per color.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">getInventOnhandExample</span>(<span class=\"params\">Args _args</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    ItemId itemId;</span><br><span class=\"line\">    InventDimOnHand inventDimOnHand;</span><br><span class=\"line\">    InventDimParm inventDimParmOnHandLevel;</span><br><span class=\"line\">    InventDimOnHandIterator inventDimOnHandIterator;</span><br><span class=\"line\">    InventDimOnHandMember inventDimOnHandMember;</span><br><span class=\"line\">    InventDim inventDim;</span><br><span class=\"line\">    InventDim inventDimCriteria;</span><br><span class=\"line\">    InventDimParm inventDimParmCriteria;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Item: Query specific item</span></span><br><span class=\"line\">    itemId = <span class=\"string\">&quot;DMO003&quot;</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// inventDimCriteria: Apply ranges</span></span><br><span class=\"line\">    inventDimCriteria.wmsLocationId             = <span class=\"string\">&quot;12-1&quot;</span>;</span><br><span class=\"line\">    inventDimCriteria.InventBatchId             = <span class=\"string\">&quot;DMOBatch001&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// inventDimParmCriteria: should values from inventDimCriteria be used?</span></span><br><span class=\"line\">    inventDimParmCriteria.ItemIdFlag            = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventSiteIdFlag      = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventLocationIdFlag  = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.wmsLocationIdFlag     = <span class=\"literal\">true</span>;     <span class=\"comment\">// wmsLocationId from inventDimCriteria will be used</span></span><br><span class=\"line\">    inventDimParmCriteria.wmsPalletIdFlag       = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventBatchIdFlag     = <span class=\"literal\">false</span>;    <span class=\"comment\">// inventBatchId from inventDimCriteria will not be used</span></span><br><span class=\"line\">    inventDimParmCriteria.InventSerialIdFlag    = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.ConfigIdFlag          = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventSizeIdFlag      = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventColorIdFlag     = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmCriteria.InventStyleIdFlag     = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// inventDimParmOnHandLevel: Which dimensions should be used to group for?</span></span><br><span class=\"line\">    <span class=\"comment\">// inventDimParmOnHandLevel necessary for inventDimOnHandLevel::DimParm</span></span><br><span class=\"line\">    inventDimParmOnHandLevel.ItemIdFlag            = <span class=\"literal\">true</span>;      <span class=\"comment\">// necessary</span></span><br><span class=\"line\">    inventDimParmOnHandLevel.InventSiteIdFlag      = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.InventLocationIdFlag  = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.wmsLocationIdFlag     = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.wmsPalletIdFlag       = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.InventBatchIdFlag     = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.InventSerialIdFlag    = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.ConfigIdFlag          = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.InventSizeIdFlag      = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    inventDimParmOnHandLevel.InventColorIdFlag     = <span class=\"literal\">true</span>;      <span class=\"comment\">// group by color</span></span><br><span class=\"line\">    inventDimParmOnHandLevel.InventStyleIdFlag     = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    inventDimOnHand = InventDimOnHand::newAvailPhysical(itemId,</span><br><span class=\"line\">                                                        inventDimCriteria,</span><br><span class=\"line\">                                                        inventDimParmCriteria,</span><br><span class=\"line\">                                                        InventDimOnHandLevel::DimParm,</span><br><span class=\"line\">                                                        inventDimParmOnHandLevel);</span><br><span class=\"line\"></span><br><span class=\"line\">    inventDimOnHandIterator = inventDimOnHand.onHandIterator();</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (inventDimOnHandIterator.more())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        inventDimOnHandMember = inventDimOnHandIterator.<span class=\"keyword\">value</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        inventDim = InventDim::find(inventDimOnHandMember.parmInventDimId());</span><br><span class=\"line\"></span><br><span class=\"line\">        info(con2Str([  inventDimOnHandMember.parmItemId(),</span><br><span class=\"line\">                        inventDim.InventSiteId,</span><br><span class=\"line\">                        inventDim.InventLocationId,</span><br><span class=\"line\">                        inventDim.wmsLocationId,</span><br><span class=\"line\">                        inventDim.wmsPalletId,</span><br><span class=\"line\">                        inventDim.InventBatchId,</span><br><span class=\"line\">                        inventDim.InventSerialId,</span><br><span class=\"line\">                        inventDim.ConfigId,</span><br><span class=\"line\">                        inventDim.InventSizeId,</span><br><span class=\"line\">                        inventDim.InventColorId,</span><br><span class=\"line\">                        inventDim.InventStyleId,</span><br><span class=\"line\">                        inventDimOnHandMember.parmInventQty()]));</span><br><span class=\"line\"></span><br><span class=\"line\">        inventDimOnHandIterator.next();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"InventOnHand\"><a href=\"#InventOnHand\" class=\"headerlink\" title=\"InventOnHand\"></a>InventOnHand</h2><p>Below function returns onhand qty of item. You can further filter on hand qty of the item for a location by passing invent location id as its optional parameter.</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">display InventQtyOnHand <span class=\"title\">qtyOnHand</span>(<span class=\"params\">InventLocationId _inventLocationId = <span class=\"string\">&#x27;&#x27;</span></span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    InventOnHand inventQtyOnHand;</span><br><span class=\"line\"></span><br><span class=\"line\">    inventQtyOnHand = InventOnHand::newItemId(<span class=\"keyword\">this</span>.ItemId);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (_inventLocationId)</span><br><span class=\"line\">        inventQtyOnHand.parmInventLocationId(_inventLocationId);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> inventQtyOnHand.availPhysical();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Reverse customer transaction in X++","comments":1,"date":"2025-07-11T11:50:44.000Z","description":"Reverse customer transaction in X++","_content":"\n> Reprinted from: https://community.dynamics.com/blogs/post/?postid=d7f28166-cd5f-469c-979c-4dc412212af1\n\n## Purpose\n\nThe purpose of this document is to demonstrate how we can reverse a posted customer transaction through X++. The code below can be used as a script to automate reversal of posted customer transactions.\n\n## Product\n\nDynamics 365 for Finance and Operations.\n\n## Development\n\n### Code\n\n```c#\nclass MAKCustTransReversal extends TransactionReversal_Cust\n{\n    public static MAKCustTransReversal construct()\n    {\n        return new MAKCustTransReversal();\n    }\n\n    public boolean showDialog()\n    {\n        return false;\n    }\n\n    public static void main(Args _args)\n    {\n        CustTrans custTrans;\n        MAKCustTransReversal makCustTransReversal;\n        ReasonTable reasonTable;\n        ReasonCode reasonCode;\n        ReasonRefRecID reasonRefRecID;\n        InvoiceId invoiceId;\n        Args args;\n        ;\n\n        invoiceId = \"3392\";\n        reasonCode = \"ERROR\";        \n        reasonTable = ReasonTable::find(reasonCode);\n        reasonRefRecID = ReasonTableRef::createReasonTableRef(\n            reasonTable.Reason, reasonTable.Description);\n\n        custTrans = CustTrans::findFromInvoice(invoiceId);\n            \n        if (custTrans.RecId && !custTrans.LastSettleVoucher)\n        {\n            args = new Args();\n            args.record(custTrans);\n\n            makCustTransReversal = MAKCustTransReversal::construct();\n            makCustTransReversal.parmReversalDate(systemDateGet());\n            makCustTransReversal.parmReasonRefRecId(reasonRefRecID);\n            makCustTransReversal.reversal(args);\n            \n            info(strFmt(\"%1 %2 %3 %4 reversed.\",\n                custTrans.Voucher,\n                custTrans.TransDate,\n                custTrans.Invoice,\n                custTrans.Txt));\n        }        \n    }\n}\n```","source":"_posts/xpp-reversaltrans.md","raw":"---\ntitle: Reverse customer transaction in X++\ncomments: true\ndate: 2025-07-11 19:50:44\ntags:\n - CustTrans\n - VendTrans\n - Reversal\ncategories:\n - x++\ndescription: Reverse customer transaction in X++\n---\n\n> Reprinted from: https://community.dynamics.com/blogs/post/?postid=d7f28166-cd5f-469c-979c-4dc412212af1\n\n## Purpose\n\nThe purpose of this document is to demonstrate how we can reverse a posted customer transaction through X++. The code below can be used as a script to automate reversal of posted customer transactions.\n\n## Product\n\nDynamics 365 for Finance and Operations.\n\n## Development\n\n### Code\n\n```c#\nclass MAKCustTransReversal extends TransactionReversal_Cust\n{\n    public static MAKCustTransReversal construct()\n    {\n        return new MAKCustTransReversal();\n    }\n\n    public boolean showDialog()\n    {\n        return false;\n    }\n\n    public static void main(Args _args)\n    {\n        CustTrans custTrans;\n        MAKCustTransReversal makCustTransReversal;\n        ReasonTable reasonTable;\n        ReasonCode reasonCode;\n        ReasonRefRecID reasonRefRecID;\n        InvoiceId invoiceId;\n        Args args;\n        ;\n\n        invoiceId = \"3392\";\n        reasonCode = \"ERROR\";        \n        reasonTable = ReasonTable::find(reasonCode);\n        reasonRefRecID = ReasonTableRef::createReasonTableRef(\n            reasonTable.Reason, reasonTable.Description);\n\n        custTrans = CustTrans::findFromInvoice(invoiceId);\n            \n        if (custTrans.RecId && !custTrans.LastSettleVoucher)\n        {\n            args = new Args();\n            args.record(custTrans);\n\n            makCustTransReversal = MAKCustTransReversal::construct();\n            makCustTransReversal.parmReversalDate(systemDateGet());\n            makCustTransReversal.parmReasonRefRecId(reasonRefRecID);\n            makCustTransReversal.reversal(args);\n            \n            info(strFmt(\"%1 %2 %3 %4 reversed.\",\n                custTrans.Voucher,\n                custTrans.TransDate,\n                custTrans.Invoice,\n                custTrans.Txt));\n        }        \n    }\n}\n```","slug":"xpp-reversaltrans","published":1,"updated":"2025-12-26T03:11:02.940Z","layout":"post","photos":[],"_id":"cmk9a8vq5002m0cqk37rxc2vx","content":"<blockquote>\n<p>Reprinted from: <a href=\"https://community.dynamics.com/blogs/post/?postid=d7f28166-cd5f-469c-979c-4dc412212af1\">https://community.dynamics.com/blogs/post/?postid=d7f28166-cd5f-469c-979c-4dc412212af1</a></p>\n</blockquote>\n<h2 id=\"Purpose\"><a href=\"#Purpose\" class=\"headerlink\" title=\"Purpose\"></a>Purpose</h2><p>The purpose of this document is to demonstrate how we can reverse a posted customer transaction through X++. The code below can be used as a script to automate reversal of posted customer transactions.</p>\n<h2 id=\"Product\"><a href=\"#Product\" class=\"headerlink\" title=\"Product\"></a>Product</h2><p>Dynamics 365 for Finance and Operations.</p>\n<h2 id=\"Development\"><a href=\"#Development\" class=\"headerlink\" title=\"Development\"></a>Development</h2><h3 id=\"Code\"><a href=\"#Code\" class=\"headerlink\" title=\"Code\"></a>Code</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MAKCustTransReversal</span> <span class=\"title\">extends</span> <span class=\"title\">TransactionReversal_Cust</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> MAKCustTransReversal <span class=\"title\">construct</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MAKCustTransReversal();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">showDialog</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span>(<span class=\"params\">Args _args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        CustTrans custTrans;</span><br><span class=\"line\">        MAKCustTransReversal makCustTransReversal;</span><br><span class=\"line\">        ReasonTable reasonTable;</span><br><span class=\"line\">        ReasonCode reasonCode;</span><br><span class=\"line\">        ReasonRefRecID reasonRefRecID;</span><br><span class=\"line\">        InvoiceId invoiceId;</span><br><span class=\"line\">        Args <span class=\"keyword\">args</span>;</span><br><span class=\"line\">        ;</span><br><span class=\"line\"></span><br><span class=\"line\">        invoiceId = <span class=\"string\">&quot;3392&quot;</span>;</span><br><span class=\"line\">        reasonCode = <span class=\"string\">&quot;ERROR&quot;</span>;        </span><br><span class=\"line\">        reasonTable = ReasonTable::find(reasonCode);</span><br><span class=\"line\">        reasonRefRecID = ReasonTableRef::createReasonTableRef(</span><br><span class=\"line\">            reasonTable.Reason, reasonTable.Description);</span><br><span class=\"line\"></span><br><span class=\"line\">        custTrans = CustTrans::findFromInvoice(invoiceId);</span><br><span class=\"line\">            </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (custTrans.RecId &amp;&amp; !custTrans.LastSettleVoucher)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">args</span> = <span class=\"keyword\">new</span> Args();</span><br><span class=\"line\">            <span class=\"keyword\">args</span>.<span class=\"keyword\">record</span>(custTrans);</span><br><span class=\"line\"></span><br><span class=\"line\">            makCustTransReversal = MAKCustTransReversal::construct();</span><br><span class=\"line\">            makCustTransReversal.parmReversalDate(systemDateGet());</span><br><span class=\"line\">            makCustTransReversal.parmReasonRefRecId(reasonRefRecID);</span><br><span class=\"line\">            makCustTransReversal.reversal(<span class=\"keyword\">args</span>);</span><br><span class=\"line\">            </span><br><span class=\"line\">            info(strFmt(<span class=\"string\">&quot;%1 %2 %3 %4 reversed.&quot;</span>,</span><br><span class=\"line\">                custTrans.Voucher,</span><br><span class=\"line\">                custTrans.TransDate,</span><br><span class=\"line\">                custTrans.Invoice,</span><br><span class=\"line\">                custTrans.Txt));</span><br><span class=\"line\">        &#125;        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<blockquote>\n<p>Reprinted from: <a href=\"https://community.dynamics.com/blogs/post/?postid=d7f28166-cd5f-469c-979c-4dc412212af1\">https://community.dynamics.com/blogs/post/?postid=d7f28166-cd5f-469c-979c-4dc412212af1</a></p>\n</blockquote>\n<h2 id=\"Purpose\"><a href=\"#Purpose\" class=\"headerlink\" title=\"Purpose\"></a>Purpose</h2><p>The purpose of this document is to demonstrate how we can reverse a posted customer transaction through X++. The code below can be used as a script to automate reversal of posted customer transactions.</p>\n<h2 id=\"Product\"><a href=\"#Product\" class=\"headerlink\" title=\"Product\"></a>Product</h2><p>Dynamics 365 for Finance and Operations.</p>\n<h2 id=\"Development\"><a href=\"#Development\" class=\"headerlink\" title=\"Development\"></a>Development</h2><h3 id=\"Code\"><a href=\"#Code\" class=\"headerlink\" title=\"Code\"></a>Code</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MAKCustTransReversal</span> <span class=\"title\">extends</span> <span class=\"title\">TransactionReversal_Cust</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> MAKCustTransReversal <span class=\"title\">construct</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> MAKCustTransReversal();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">showDialog</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span>(<span class=\"params\">Args _args</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        CustTrans custTrans;</span><br><span class=\"line\">        MAKCustTransReversal makCustTransReversal;</span><br><span class=\"line\">        ReasonTable reasonTable;</span><br><span class=\"line\">        ReasonCode reasonCode;</span><br><span class=\"line\">        ReasonRefRecID reasonRefRecID;</span><br><span class=\"line\">        InvoiceId invoiceId;</span><br><span class=\"line\">        Args <span class=\"keyword\">args</span>;</span><br><span class=\"line\">        ;</span><br><span class=\"line\"></span><br><span class=\"line\">        invoiceId = <span class=\"string\">&quot;3392&quot;</span>;</span><br><span class=\"line\">        reasonCode = <span class=\"string\">&quot;ERROR&quot;</span>;        </span><br><span class=\"line\">        reasonTable = ReasonTable::find(reasonCode);</span><br><span class=\"line\">        reasonRefRecID = ReasonTableRef::createReasonTableRef(</span><br><span class=\"line\">            reasonTable.Reason, reasonTable.Description);</span><br><span class=\"line\"></span><br><span class=\"line\">        custTrans = CustTrans::findFromInvoice(invoiceId);</span><br><span class=\"line\">            </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (custTrans.RecId &amp;&amp; !custTrans.LastSettleVoucher)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">args</span> = <span class=\"keyword\">new</span> Args();</span><br><span class=\"line\">            <span class=\"keyword\">args</span>.<span class=\"keyword\">record</span>(custTrans);</span><br><span class=\"line\"></span><br><span class=\"line\">            makCustTransReversal = MAKCustTransReversal::construct();</span><br><span class=\"line\">            makCustTransReversal.parmReversalDate(systemDateGet());</span><br><span class=\"line\">            makCustTransReversal.parmReasonRefRecId(reasonRefRecID);</span><br><span class=\"line\">            makCustTransReversal.reversal(<span class=\"keyword\">args</span>);</span><br><span class=\"line\">            </span><br><span class=\"line\">            info(strFmt(<span class=\"string\">&quot;%1 %2 %3 %4 reversed.&quot;</span>,</span><br><span class=\"line\">                custTrans.Voucher,</span><br><span class=\"line\">                custTrans.TransDate,</span><br><span class=\"line\">                custTrans.Invoice,</span><br><span class=\"line\">                custTrans.Txt));</span><br><span class=\"line\">        &#125;        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"RunBase How to add Records to Include control","comments":1,"date":"2026-01-11T04:36:31.000Z","description":"RunBase How to add Records to Include control","_content":"\n---\n\n> This article also applies to Jobs implemented based on the **RunBaseBatch** framework.\n> Default assumption: the RunBase Job **has caching enabled (pack / unpack)**.\n\n---\n\n## Business Background\n\nIn D365 Finance & Operations, users often want to specify filter criteria through the **Records to include** control before running a Job, so that only the relevant set of records is processed.\n\nHowever, in custom `RunBase` / `RunBaseBatch` Jobs:\n\n* The system **does not** automatically provide this control by enabling a specific property\n* Official documentation provides very limited explanation\n* Many developers are unclear about the underlying implementation mechanism\n\nThis article demonstrates the **simplest implementation approach** to correctly add the **Records to include** control to a `RunBase` Job, and to ensure it works properly in **cached, batch, and new session** scenarios.\n\n---\n\n## Key Implementation\n\n### Step 1: Declare a global `QueryRun` variable\n\n```c#\nQueryRun gQueryRun;\n```\n\n> This variable is used to:\n>\n> * Hold the query conditions configured by the user in the UI\n> * Drive the business logic during the `run()` phase\n> * Support serialization via pack / unpack\n\n---\n\n### Step 2: Initialize `QueryRun`\n\n```c#\npublic void new()\n{\n    Query query = new Query(queryStr(SalesLine));\n    // The Query can be constructed using a Simple Query or QueryBuildDataSource\n    gQueryRun = new QueryRun(query);\n}\n```\n\n**Notes:**\n\n* `QueryRun` must be initialized during construction\n* At least one DataSource is required; otherwise, the Records to include UI cannot be generated\n\n---\n\n### Step 3: Override the `queryRun()` method\n\n```c#\npublic QueryRun queryRun()\n{\n    return gQueryRun;\n}\n```\n\n> This method **must return the global variable `gQueryRun`**; otherwise, the Records to include control will not function.\n\n---\n\n### Step 4: Override the `showQueryValues()` method\n\n```c#\npublic boolean showQueryValues()\n{\n    return true;\n}\n```\n\n**Purpose:**\n\n* Controls whether **Records to include** is displayed in the Dialog\n* Returning `true` is a required condition for showing this control\n\n---\n\n### Step 5: Override the `pack()` method\n\n```c#\npublic container pack()\n{\n    return [#CurrentVersion, gQueryRun.pack()];\n}\n```\n\n**Key points:**\n\n* `QueryRun` **must be serialized**\n* Otherwise, query conditions will be lost when running in Batch or in a new session\n\n---\n\n### Step 6: Override the `unpack()` method\n\n```c#\npublic boolean unpack(container _packedClass)\n{\n    Version version = RunBase::getVersion(_packedClass);\n    container conQuery;\n\n    switch (version)\n    {\n        case #CurrentVersion:\n            [version, conQuery] = _packedClass;\n            Query query = new Query(conQuery);\n            gQueryRun = new QueryRun(query);\n            break;\n\n        default:\n            return false;\n    }\n\n    return true;\n}\n```\n\n**Notes:**\n\n* During unpack, both `Query` and `QueryRun` must be reconstructed\n* Existing object instances must not be reused directly\n\n---\n\nBy following the **six steps above**, you can successfully add the **Records to include** control to a `RunBase` Job.\n\n---\n\n## Result Validation\n\nAfter opening the Job, if the **Records to include** query area appears in the Dialog, the control has been successfully added and is functioning correctly.\n\n{% asset_img \"batchjobdialog.png\" \"Class Header\" %}\n\n---\n\n## Using `QueryRun` in `run()`\n\n```c#\npublic void run()\n{\n    while (gQueryRun.next())\n    {\n        // Business logic\n    }\n}\n```\n\n**Notes:**\n\n* `gQueryRun` should be used directly in `run()`\n* Do not reconstruct the Query, otherwise the user-defined conditions will be ignored\n\n---\n\n## Summary\n\n1. `RunBase` **does not automatically manage Query objects**\n2. **Records to include** relies on `queryRun()` + `showQueryValues()`\n3. `QueryRun` **must support pack / unpack**\n4. In **Batch / RunInNewSession** scenarios, always verify that query conditions are applied correctly","source":"_posts/xpp-runbase-how-to-add-record-to-include.md","raw":"---\ntitle: RunBase How to add Records to Include control\ncomments: true\ndate: 2026-01-11 12:36:31\ntags:\n - RunBase\ncategories:\n - x++\ndescription: RunBase How to add Records to Include control\n---\n\n---\n\n> This article also applies to Jobs implemented based on the **RunBaseBatch** framework.\n> Default assumption: the RunBase Job **has caching enabled (pack / unpack)**.\n\n---\n\n## Business Background\n\nIn D365 Finance & Operations, users often want to specify filter criteria through the **Records to include** control before running a Job, so that only the relevant set of records is processed.\n\nHowever, in custom `RunBase` / `RunBaseBatch` Jobs:\n\n* The system **does not** automatically provide this control by enabling a specific property\n* Official documentation provides very limited explanation\n* Many developers are unclear about the underlying implementation mechanism\n\nThis article demonstrates the **simplest implementation approach** to correctly add the **Records to include** control to a `RunBase` Job, and to ensure it works properly in **cached, batch, and new session** scenarios.\n\n---\n\n## Key Implementation\n\n### Step 1: Declare a global `QueryRun` variable\n\n```c#\nQueryRun gQueryRun;\n```\n\n> This variable is used to:\n>\n> * Hold the query conditions configured by the user in the UI\n> * Drive the business logic during the `run()` phase\n> * Support serialization via pack / unpack\n\n---\n\n### Step 2: Initialize `QueryRun`\n\n```c#\npublic void new()\n{\n    Query query = new Query(queryStr(SalesLine));\n    // The Query can be constructed using a Simple Query or QueryBuildDataSource\n    gQueryRun = new QueryRun(query);\n}\n```\n\n**Notes:**\n\n* `QueryRun` must be initialized during construction\n* At least one DataSource is required; otherwise, the Records to include UI cannot be generated\n\n---\n\n### Step 3: Override the `queryRun()` method\n\n```c#\npublic QueryRun queryRun()\n{\n    return gQueryRun;\n}\n```\n\n> This method **must return the global variable `gQueryRun`**; otherwise, the Records to include control will not function.\n\n---\n\n### Step 4: Override the `showQueryValues()` method\n\n```c#\npublic boolean showQueryValues()\n{\n    return true;\n}\n```\n\n**Purpose:**\n\n* Controls whether **Records to include** is displayed in the Dialog\n* Returning `true` is a required condition for showing this control\n\n---\n\n### Step 5: Override the `pack()` method\n\n```c#\npublic container pack()\n{\n    return [#CurrentVersion, gQueryRun.pack()];\n}\n```\n\n**Key points:**\n\n* `QueryRun` **must be serialized**\n* Otherwise, query conditions will be lost when running in Batch or in a new session\n\n---\n\n### Step 6: Override the `unpack()` method\n\n```c#\npublic boolean unpack(container _packedClass)\n{\n    Version version = RunBase::getVersion(_packedClass);\n    container conQuery;\n\n    switch (version)\n    {\n        case #CurrentVersion:\n            [version, conQuery] = _packedClass;\n            Query query = new Query(conQuery);\n            gQueryRun = new QueryRun(query);\n            break;\n\n        default:\n            return false;\n    }\n\n    return true;\n}\n```\n\n**Notes:**\n\n* During unpack, both `Query` and `QueryRun` must be reconstructed\n* Existing object instances must not be reused directly\n\n---\n\nBy following the **six steps above**, you can successfully add the **Records to include** control to a `RunBase` Job.\n\n---\n\n## Result Validation\n\nAfter opening the Job, if the **Records to include** query area appears in the Dialog, the control has been successfully added and is functioning correctly.\n\n{% asset_img \"batchjobdialog.png\" \"Class Header\" %}\n\n---\n\n## Using `QueryRun` in `run()`\n\n```c#\npublic void run()\n{\n    while (gQueryRun.next())\n    {\n        // Business logic\n    }\n}\n```\n\n**Notes:**\n\n* `gQueryRun` should be used directly in `run()`\n* Do not reconstruct the Query, otherwise the user-defined conditions will be ignored\n\n---\n\n## Summary\n\n1. `RunBase` **does not automatically manage Query objects**\n2. **Records to include** relies on `queryRun()` + `showQueryValues()`\n3. `QueryRun` **must support pack / unpack**\n4. In **Batch / RunInNewSession** scenarios, always verify that query conditions are applied correctly","slug":"xpp-runbase-how-to-add-record-to-include","published":1,"updated":"2026-01-11T04:44:08.319Z","layout":"post","photos":[],"_id":"cmk9a8vq5002n0cqkac5vhy8e","content":"<hr>\n<blockquote>\n<p>This article also applies to Jobs implemented based on the <strong>RunBaseBatch</strong> framework.<br>Default assumption: the RunBase Job <strong>has caching enabled (pack &#x2F; unpack)</strong>.</p>\n</blockquote>\n<hr>\n<h2 id=\"Business-Background\"><a href=\"#Business-Background\" class=\"headerlink\" title=\"Business Background\"></a>Business Background</h2><p>In D365 Finance &amp; Operations, users often want to specify filter criteria through the <strong>Records to include</strong> control before running a Job, so that only the relevant set of records is processed.</p>\n<p>However, in custom <code>RunBase</code> &#x2F; <code>RunBaseBatch</code> Jobs:</p>\n<ul>\n<li>The system <strong>does not</strong> automatically provide this control by enabling a specific property</li>\n<li>Official documentation provides very limited explanation</li>\n<li>Many developers are unclear about the underlying implementation mechanism</li>\n</ul>\n<p>This article demonstrates the <strong>simplest implementation approach</strong> to correctly add the <strong>Records to include</strong> control to a <code>RunBase</code> Job, and to ensure it works properly in <strong>cached, batch, and new session</strong> scenarios.</p>\n<hr>\n<h2 id=\"Key-Implementation\"><a href=\"#Key-Implementation\" class=\"headerlink\" title=\"Key Implementation\"></a>Key Implementation</h2><h3 id=\"Step-1-Declare-a-global-QueryRun-variable\"><a href=\"#Step-1-Declare-a-global-QueryRun-variable\" class=\"headerlink\" title=\"Step 1: Declare a global QueryRun variable\"></a>Step 1: Declare a global <code>QueryRun</code> variable</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">QueryRun gQueryRun;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>This variable is used to:</p>\n<ul>\n<li>Hold the query conditions configured by the user in the UI</li>\n<li>Drive the business logic during the <code>run()</code> phase</li>\n<li>Support serialization via pack &#x2F; unpack</li>\n</ul>\n</blockquote>\n<hr>\n<h3 id=\"Step-2-Initialize-QueryRun\"><a href=\"#Step-2-Initialize-QueryRun\" class=\"headerlink\" title=\"Step 2: Initialize QueryRun\"></a>Step 2: Initialize <code>QueryRun</code></h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"keyword\">new</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Query query = <span class=\"keyword\">new</span> Query(queryStr(SalesLine));</span><br><span class=\"line\">    <span class=\"comment\">// The Query can be constructed using a Simple Query or QueryBuildDataSource</span></span><br><span class=\"line\">    gQueryRun = <span class=\"keyword\">new</span> QueryRun(query);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li><code>QueryRun</code> must be initialized during construction</li>\n<li>At least one DataSource is required; otherwise, the Records to include UI cannot be generated</li>\n</ul>\n<hr>\n<h3 id=\"Step-3-Override-the-queryRun-method\"><a href=\"#Step-3-Override-the-queryRun-method\" class=\"headerlink\" title=\"Step 3: Override the queryRun() method\"></a>Step 3: Override the <code>queryRun()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> QueryRun <span class=\"title\">queryRun</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> gQueryRun;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>This method <strong>must return the global variable <code>gQueryRun</code></strong>; otherwise, the Records to include control will not function.</p>\n</blockquote>\n<hr>\n<h3 id=\"Step-4-Override-the-showQueryValues-method\"><a href=\"#Step-4-Override-the-showQueryValues-method\" class=\"headerlink\" title=\"Step 4: Override the showQueryValues() method\"></a>Step 4: Override the <code>showQueryValues()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">showQueryValues</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Purpose:</strong></p>\n<ul>\n<li>Controls whether <strong>Records to include</strong> is displayed in the Dialog</li>\n<li>Returning <code>true</code> is a required condition for showing this control</li>\n</ul>\n<hr>\n<h3 id=\"Step-5-Override-the-pack-method\"><a href=\"#Step-5-Override-the-pack-method\" class=\"headerlink\" title=\"Step 5: Override the pack() method\"></a>Step 5: Override the <code>pack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> container <span class=\"title\">pack</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"meta\">#CurrentVersion, gQueryRun.pack()];</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Key points:</strong></p>\n<ul>\n<li><code>QueryRun</code> <strong>must be serialized</strong></li>\n<li>Otherwise, query conditions will be lost when running in Batch or in a new session</li>\n</ul>\n<hr>\n<h3 id=\"Step-6-Override-the-unpack-method\"><a href=\"#Step-6-Override-the-unpack-method\" class=\"headerlink\" title=\"Step 6: Override the unpack() method\"></a>Step 6: Override the <code>unpack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">unpack</span>(<span class=\"params\">container _packedClass</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Version version = RunBase::getVersion(_packedClass);</span><br><span class=\"line\">    container conQuery;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (version)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"meta\">#CurrentVersion:</span></span><br><span class=\"line\">            [<span class=\"meta\">version, conQuery</span>] = _packedClass;</span><br><span class=\"line\">            Query query = <span class=\"keyword\">new</span> Query(conQuery);</span><br><span class=\"line\">            gQueryRun = <span class=\"keyword\">new</span> QueryRun(query);</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"literal\">default</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li>During unpack, both <code>Query</code> and <code>QueryRun</code> must be reconstructed</li>\n<li>Existing object instances must not be reused directly</li>\n</ul>\n<hr>\n<p>By following the <strong>six steps above</strong>, you can successfully add the <strong>Records to include</strong> control to a <code>RunBase</code> Job.</p>\n<hr>\n<h2 id=\"Result-Validation\"><a href=\"#Result-Validation\" class=\"headerlink\" title=\"Result Validation\"></a>Result Validation</h2><p>After opening the Job, if the <strong>Records to include</strong> query area appears in the Dialog, the control has been successfully added and is functioning correctly.</p>\n<img src=\"/2026/01/11/xpp-runbase-how-to-add-record-to-include/batchjobdialog.png\" class=\"\" title=\"Class Header\">\n\n<hr>\n<h2 id=\"Using-QueryRun-in-run\"><a href=\"#Using-QueryRun-in-run\" class=\"headerlink\" title=\"Using QueryRun in run()\"></a>Using <code>QueryRun</code> in <code>run()</code></h2><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (gQueryRun.next())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Business logic</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li><code>gQueryRun</code> should be used directly in <code>run()</code></li>\n<li>Do not reconstruct the Query, otherwise the user-defined conditions will be ignored</li>\n</ul>\n<hr>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><ol>\n<li><code>RunBase</code> <strong>does not automatically manage Query objects</strong></li>\n<li><strong>Records to include</strong> relies on <code>queryRun()</code> + <code>showQueryValues()</code></li>\n<li><code>QueryRun</code> <strong>must support pack &#x2F; unpack</strong></li>\n<li>In <strong>Batch &#x2F; RunInNewSession</strong> scenarios, always verify that query conditions are applied correctly</li>\n</ol>\n","excerpt":"","more":"<hr>\n<blockquote>\n<p>This article also applies to Jobs implemented based on the <strong>RunBaseBatch</strong> framework.<br>Default assumption: the RunBase Job <strong>has caching enabled (pack &#x2F; unpack)</strong>.</p>\n</blockquote>\n<hr>\n<h2 id=\"Business-Background\"><a href=\"#Business-Background\" class=\"headerlink\" title=\"Business Background\"></a>Business Background</h2><p>In D365 Finance &amp; Operations, users often want to specify filter criteria through the <strong>Records to include</strong> control before running a Job, so that only the relevant set of records is processed.</p>\n<p>However, in custom <code>RunBase</code> &#x2F; <code>RunBaseBatch</code> Jobs:</p>\n<ul>\n<li>The system <strong>does not</strong> automatically provide this control by enabling a specific property</li>\n<li>Official documentation provides very limited explanation</li>\n<li>Many developers are unclear about the underlying implementation mechanism</li>\n</ul>\n<p>This article demonstrates the <strong>simplest implementation approach</strong> to correctly add the <strong>Records to include</strong> control to a <code>RunBase</code> Job, and to ensure it works properly in <strong>cached, batch, and new session</strong> scenarios.</p>\n<hr>\n<h2 id=\"Key-Implementation\"><a href=\"#Key-Implementation\" class=\"headerlink\" title=\"Key Implementation\"></a>Key Implementation</h2><h3 id=\"Step-1-Declare-a-global-QueryRun-variable\"><a href=\"#Step-1-Declare-a-global-QueryRun-variable\" class=\"headerlink\" title=\"Step 1: Declare a global QueryRun variable\"></a>Step 1: Declare a global <code>QueryRun</code> variable</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">QueryRun gQueryRun;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>This variable is used to:</p>\n<ul>\n<li>Hold the query conditions configured by the user in the UI</li>\n<li>Drive the business logic during the <code>run()</code> phase</li>\n<li>Support serialization via pack &#x2F; unpack</li>\n</ul>\n</blockquote>\n<hr>\n<h3 id=\"Step-2-Initialize-QueryRun\"><a href=\"#Step-2-Initialize-QueryRun\" class=\"headerlink\" title=\"Step 2: Initialize QueryRun\"></a>Step 2: Initialize <code>QueryRun</code></h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"keyword\">new</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Query query = <span class=\"keyword\">new</span> Query(queryStr(SalesLine));</span><br><span class=\"line\">    <span class=\"comment\">// The Query can be constructed using a Simple Query or QueryBuildDataSource</span></span><br><span class=\"line\">    gQueryRun = <span class=\"keyword\">new</span> QueryRun(query);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li><code>QueryRun</code> must be initialized during construction</li>\n<li>At least one DataSource is required; otherwise, the Records to include UI cannot be generated</li>\n</ul>\n<hr>\n<h3 id=\"Step-3-Override-the-queryRun-method\"><a href=\"#Step-3-Override-the-queryRun-method\" class=\"headerlink\" title=\"Step 3: Override the queryRun() method\"></a>Step 3: Override the <code>queryRun()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> QueryRun <span class=\"title\">queryRun</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> gQueryRun;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>This method <strong>must return the global variable <code>gQueryRun</code></strong>; otherwise, the Records to include control will not function.</p>\n</blockquote>\n<hr>\n<h3 id=\"Step-4-Override-the-showQueryValues-method\"><a href=\"#Step-4-Override-the-showQueryValues-method\" class=\"headerlink\" title=\"Step 4: Override the showQueryValues() method\"></a>Step 4: Override the <code>showQueryValues()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">showQueryValues</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Purpose:</strong></p>\n<ul>\n<li>Controls whether <strong>Records to include</strong> is displayed in the Dialog</li>\n<li>Returning <code>true</code> is a required condition for showing this control</li>\n</ul>\n<hr>\n<h3 id=\"Step-5-Override-the-pack-method\"><a href=\"#Step-5-Override-the-pack-method\" class=\"headerlink\" title=\"Step 5: Override the pack() method\"></a>Step 5: Override the <code>pack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> container <span class=\"title\">pack</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"meta\">#CurrentVersion, gQueryRun.pack()];</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Key points:</strong></p>\n<ul>\n<li><code>QueryRun</code> <strong>must be serialized</strong></li>\n<li>Otherwise, query conditions will be lost when running in Batch or in a new session</li>\n</ul>\n<hr>\n<h3 id=\"Step-6-Override-the-unpack-method\"><a href=\"#Step-6-Override-the-unpack-method\" class=\"headerlink\" title=\"Step 6: Override the unpack() method\"></a>Step 6: Override the <code>unpack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">unpack</span>(<span class=\"params\">container _packedClass</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Version version = RunBase::getVersion(_packedClass);</span><br><span class=\"line\">    container conQuery;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (version)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"meta\">#CurrentVersion:</span></span><br><span class=\"line\">            [<span class=\"meta\">version, conQuery</span>] = _packedClass;</span><br><span class=\"line\">            Query query = <span class=\"keyword\">new</span> Query(conQuery);</span><br><span class=\"line\">            gQueryRun = <span class=\"keyword\">new</span> QueryRun(query);</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"literal\">default</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li>During unpack, both <code>Query</code> and <code>QueryRun</code> must be reconstructed</li>\n<li>Existing object instances must not be reused directly</li>\n</ul>\n<hr>\n<p>By following the <strong>six steps above</strong>, you can successfully add the <strong>Records to include</strong> control to a <code>RunBase</code> Job.</p>\n<hr>\n<h2 id=\"Result-Validation\"><a href=\"#Result-Validation\" class=\"headerlink\" title=\"Result Validation\"></a>Result Validation</h2><p>After opening the Job, if the <strong>Records to include</strong> query area appears in the Dialog, the control has been successfully added and is functioning correctly.</p>\n<img src=\"/2026/01/11/xpp-runbase-how-to-add-record-to-include/batchjobdialog.png\" class=\"\" title=\"Class Header\">\n\n<hr>\n<h2 id=\"Using-QueryRun-in-run\"><a href=\"#Using-QueryRun-in-run\" class=\"headerlink\" title=\"Using QueryRun in run()\"></a>Using <code>QueryRun</code> in <code>run()</code></h2><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (gQueryRun.next())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Business logic</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li><code>gQueryRun</code> should be used directly in <code>run()</code></li>\n<li>Do not reconstruct the Query, otherwise the user-defined conditions will be ignored</li>\n</ul>\n<hr>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><ol>\n<li><code>RunBase</code> <strong>does not automatically manage Query objects</strong></li>\n<li><strong>Records to include</strong> relies on <code>queryRun()</code> + <code>showQueryValues()</code></li>\n<li><code>QueryRun</code> <strong>must support pack &#x2F; unpack</strong></li>\n<li>In <strong>Batch &#x2F; RunInNewSession</strong> scenarios, always verify that query conditions are applied correctly</li>\n</ol>\n"},{"title":"How To Develop A D365 Number Sequence","comments":1,"date":"2025-07-11T12:31:12.000Z","description":"How To Develop A D365 Number Sequence","_content":"\nIn Dynamics 365 Finance and Operations, number sequences are essential for generating unique identifiers for business records, such as orders, transactions, or custom entities. In this blog, well walk through how to develop a custom number sequence module step by step.\n\n## Step 1: Create a Custom Number Sequence Class\n\nThe first step is to create a class that extends `NumberSeqApplicationModule`. This class defines the number sequence logic and configuration.\n\nHeres an example:\n\n```c#\n/// <summary>\n/// HM_SUN-034204_EXT-00189 SPIFF workspace\n/// Willie Yao - 07/07/2025\n/// HMSpiffsIdNumSeq\n/// </summary>\ninternal final class HMSpiffsIdNumSeq extends NumberSeqApplicationModule\n{\n    /// <summary>\n    /// Subscribe to global number sequence module registration\n    /// </summary>\n    /// <param name=\"numberSeqModuleNamesMap\">numberSeqModuleNamesMap</param>\n    [SubscribesTo(classstr(NumberSeqGlobal), delegatestr(NumberSeqGlobal, buildModulesMapDelegate))]\n    static void buildModulesMapSubsciber(Map numberSeqModuleNamesMap)\n    {\n        NumberSeqGlobal::addModuleToMap(classnum(HMSpiffsIdNumSeq), numberSeqModuleNamesMap);\n    }\n\n    /// <summary>\n    /// Return the number sequence module\n    /// </summary>\n    /// <returns>NumberSeqModule</returns>\n    public NumberSeqModule numberSeqModule()\n    {\n        return NumberSeqModule::CRM;\n    }\n\n    /// <summary>\n    /// Load number sequence datatype configuration\n    /// </summary>\n    protected void loadModule()\n    {\n        NumberSeqDatatype datatype = NumberSeqDatatype::construct();\n\n        datatype.parmDatatypeId(extendedTypeNum(HMSpiffsId));\n        datatype.parmReferenceHelp(literalStr(\"@HM:HMTheSPIFFIdentificationReference\"));\n        datatype.parmWizardIsContinuous(false);\n        datatype.parmWizardIsManual(NoYes::No);\n        datatype.parmWizardFetchAheadQty(10);\n        datatype.parmWizardIsChangeDownAllowed(NoYes::No);\n        datatype.parmWizardIsChangeUpAllowed(NoYes::No);\n        datatype.parmSortField(1);\n        datatype.addParameterType(NumberSeqParameterType::DataArea, true, false);\n\n        this.create(datatype);\n    }\n}\n```\n\n**Key Points:**\n\n- The class must extend `NumberSeqApplicationModule`.\n\n- Use the `buildModulesMapSubsciber` method to register your module.\n\n- Implement `loadModule()` to define the configuration.\n\n- Choose an appropriate `NumberSeqModule` (e.g., `Sales`, `Inventory`).\n\n## Step 2: Load the Number Sequence from a Parameter Form\n\nOnce your number sequence class is defined, you can call it in a form (typically in a `loadModule()` method for parameter setup):\n\n```c#\nHMSpiffsIdNumSeq spiffsIdNumSeq = new HMSpiffsIdNumSeq();\nspiffsIdNumSeq.load();\n```\n\nThis code is often placed in the `loadModule()` method of a parameter setup form class (e.g., `MyModuleParameters`). This ensures that when number sequences are initialized, your custom identifier logic is registered.\n\nWith these two simple steps, youve successfully extended D365FO with a custom number sequence. This is especially useful for custom business scenarios where the out-of-box sequences don't meet your needs.\n\nIf you need to integrate this with forms, workflows, or auto-numbering during record creation, you can take it a step further by using the `NumberSeqReference` framework.","source":"_posts/xpp-numbersequencedevelop.md","raw":"---\ntitle: How To Develop A D365 Number Sequence\ncomments: true\ndate: 2025-07-11 20:31:12\ntags:\n - NumberSeq\ncategories:\n - x++\ndescription: How To Develop A D365 Number Sequence\n---\n\nIn Dynamics 365 Finance and Operations, number sequences are essential for generating unique identifiers for business records, such as orders, transactions, or custom entities. In this blog, well walk through how to develop a custom number sequence module step by step.\n\n## Step 1: Create a Custom Number Sequence Class\n\nThe first step is to create a class that extends `NumberSeqApplicationModule`. This class defines the number sequence logic and configuration.\n\nHeres an example:\n\n```c#\n/// <summary>\n/// HM_SUN-034204_EXT-00189 SPIFF workspace\n/// Willie Yao - 07/07/2025\n/// HMSpiffsIdNumSeq\n/// </summary>\ninternal final class HMSpiffsIdNumSeq extends NumberSeqApplicationModule\n{\n    /// <summary>\n    /// Subscribe to global number sequence module registration\n    /// </summary>\n    /// <param name=\"numberSeqModuleNamesMap\">numberSeqModuleNamesMap</param>\n    [SubscribesTo(classstr(NumberSeqGlobal), delegatestr(NumberSeqGlobal, buildModulesMapDelegate))]\n    static void buildModulesMapSubsciber(Map numberSeqModuleNamesMap)\n    {\n        NumberSeqGlobal::addModuleToMap(classnum(HMSpiffsIdNumSeq), numberSeqModuleNamesMap);\n    }\n\n    /// <summary>\n    /// Return the number sequence module\n    /// </summary>\n    /// <returns>NumberSeqModule</returns>\n    public NumberSeqModule numberSeqModule()\n    {\n        return NumberSeqModule::CRM;\n    }\n\n    /// <summary>\n    /// Load number sequence datatype configuration\n    /// </summary>\n    protected void loadModule()\n    {\n        NumberSeqDatatype datatype = NumberSeqDatatype::construct();\n\n        datatype.parmDatatypeId(extendedTypeNum(HMSpiffsId));\n        datatype.parmReferenceHelp(literalStr(\"@HM:HMTheSPIFFIdentificationReference\"));\n        datatype.parmWizardIsContinuous(false);\n        datatype.parmWizardIsManual(NoYes::No);\n        datatype.parmWizardFetchAheadQty(10);\n        datatype.parmWizardIsChangeDownAllowed(NoYes::No);\n        datatype.parmWizardIsChangeUpAllowed(NoYes::No);\n        datatype.parmSortField(1);\n        datatype.addParameterType(NumberSeqParameterType::DataArea, true, false);\n\n        this.create(datatype);\n    }\n}\n```\n\n**Key Points:**\n\n- The class must extend `NumberSeqApplicationModule`.\n\n- Use the `buildModulesMapSubsciber` method to register your module.\n\n- Implement `loadModule()` to define the configuration.\n\n- Choose an appropriate `NumberSeqModule` (e.g., `Sales`, `Inventory`).\n\n## Step 2: Load the Number Sequence from a Parameter Form\n\nOnce your number sequence class is defined, you can call it in a form (typically in a `loadModule()` method for parameter setup):\n\n```c#\nHMSpiffsIdNumSeq spiffsIdNumSeq = new HMSpiffsIdNumSeq();\nspiffsIdNumSeq.load();\n```\n\nThis code is often placed in the `loadModule()` method of a parameter setup form class (e.g., `MyModuleParameters`). This ensures that when number sequences are initialized, your custom identifier logic is registered.\n\nWith these two simple steps, youve successfully extended D365FO with a custom number sequence. This is especially useful for custom business scenarios where the out-of-box sequences don't meet your needs.\n\nIf you need to integrate this with forms, workflows, or auto-numbering during record creation, you can take it a step further by using the `NumberSeqReference` framework.","slug":"xpp-numbersequencedevelop","published":1,"updated":"2025-12-26T03:11:02.937Z","layout":"post","photos":[],"_id":"cmk9a8vq6002q0cqk2o5phjj7","content":"<p>In Dynamics 365 Finance and Operations, number sequences are essential for generating unique identifiers for business records, such as orders, transactions, or custom entities. In this blog, well walk through how to develop a custom number sequence module step by step.</p>\n<h2 id=\"Step-1-Create-a-Custom-Number-Sequence-Class\"><a href=\"#Step-1-Create-a-Custom-Number-Sequence-Class\" class=\"headerlink\" title=\"Step 1: Create a Custom Number Sequence Class\"></a>Step 1: Create a Custom Number Sequence Class</h2><p>The first step is to create a class that extends <code>NumberSeqApplicationModule</code>. This class defines the number sequence logic and configuration.</p>\n<p>Heres an example:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> HM_SUN-034204_EXT-00189 SPIFF workspace</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> HMSpiffsIdNumSeq</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">internal</span> final <span class=\"keyword\">class</span> <span class=\"title\">HMSpiffsIdNumSeq</span> <span class=\"title\">extends</span> <span class=\"title\">NumberSeqApplicationModule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Subscribe to global number sequence module registration</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;numberSeqModuleNamesMap&quot;&gt;</span>numberSeqModuleNamesMap<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    [<span class=\"meta\">SubscribesTo(classstr(NumberSeqGlobal), delegatestr(NumberSeqGlobal, buildModulesMapDelegate))</span>]</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">buildModulesMapSubsciber</span>(<span class=\"params\">Map numberSeqModuleNamesMap</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        NumberSeqGlobal::addModuleToMap(classnum(HMSpiffsIdNumSeq), numberSeqModuleNamesMap);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Return the number sequence module</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>NumberSeqModule<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> NumberSeqModule <span class=\"title\">numberSeqModule</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> NumberSeqModule::CRM;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Load number sequence datatype configuration</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">loadModule</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        NumberSeqDatatype datatype = NumberSeqDatatype::construct();</span><br><span class=\"line\"></span><br><span class=\"line\">        datatype.parmDatatypeId(extendedTypeNum(HMSpiffsId));</span><br><span class=\"line\">        datatype.parmReferenceHelp(literalStr(<span class=\"string\">&quot;@HM:HMTheSPIFFIdentificationReference&quot;</span>));</span><br><span class=\"line\">        datatype.parmWizardIsContinuous(<span class=\"literal\">false</span>);</span><br><span class=\"line\">        datatype.parmWizardIsManual(NoYes::No);</span><br><span class=\"line\">        datatype.parmWizardFetchAheadQty(<span class=\"number\">10</span>);</span><br><span class=\"line\">        datatype.parmWizardIsChangeDownAllowed(NoYes::No);</span><br><span class=\"line\">        datatype.parmWizardIsChangeUpAllowed(NoYes::No);</span><br><span class=\"line\">        datatype.parmSortField(<span class=\"number\">1</span>);</span><br><span class=\"line\">        datatype.addParameterType(NumberSeqParameterType::DataArea, <span class=\"literal\">true</span>, <span class=\"literal\">false</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.create(datatype);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Key Points:</strong></p>\n<ul>\n<li><p>The class must extend <code>NumberSeqApplicationModule</code>.</p>\n</li>\n<li><p>Use the <code>buildModulesMapSubsciber</code> method to register your module.</p>\n</li>\n<li><p>Implement <code>loadModule()</code> to define the configuration.</p>\n</li>\n<li><p>Choose an appropriate <code>NumberSeqModule</code> (e.g., <code>Sales</code>, <code>Inventory</code>).</p>\n</li>\n</ul>\n<h2 id=\"Step-2-Load-the-Number-Sequence-from-a-Parameter-Form\"><a href=\"#Step-2-Load-the-Number-Sequence-from-a-Parameter-Form\" class=\"headerlink\" title=\"Step 2: Load the Number Sequence from a Parameter Form\"></a>Step 2: Load the Number Sequence from a Parameter Form</h2><p>Once your number sequence class is defined, you can call it in a form (typically in a <code>loadModule()</code> method for parameter setup):</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HMSpiffsIdNumSeq spiffsIdNumSeq = <span class=\"keyword\">new</span> HMSpiffsIdNumSeq();</span><br><span class=\"line\">spiffsIdNumSeq.load();</span><br></pre></td></tr></table></figure>\n\n<p>This code is often placed in the <code>loadModule()</code> method of a parameter setup form class (e.g., <code>MyModuleParameters</code>). This ensures that when number sequences are initialized, your custom identifier logic is registered.</p>\n<p>With these two simple steps, youve successfully extended D365FO with a custom number sequence. This is especially useful for custom business scenarios where the out-of-box sequences dont meet your needs.</p>\n<p>If you need to integrate this with forms, workflows, or auto-numbering during record creation, you can take it a step further by using the <code>NumberSeqReference</code> framework.</p>\n","excerpt":"","more":"<p>In Dynamics 365 Finance and Operations, number sequences are essential for generating unique identifiers for business records, such as orders, transactions, or custom entities. In this blog, well walk through how to develop a custom number sequence module step by step.</p>\n<h2 id=\"Step-1-Create-a-Custom-Number-Sequence-Class\"><a href=\"#Step-1-Create-a-Custom-Number-Sequence-Class\" class=\"headerlink\" title=\"Step 1: Create a Custom Number Sequence Class\"></a>Step 1: Create a Custom Number Sequence Class</h2><p>The first step is to create a class that extends <code>NumberSeqApplicationModule</code>. This class defines the number sequence logic and configuration.</p>\n<p>Heres an example:</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> HM_SUN-034204_EXT-00189 SPIFF workspace</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Willie Yao - 07/07/2025</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> HMSpiffsIdNumSeq</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">internal</span> final <span class=\"keyword\">class</span> <span class=\"title\">HMSpiffsIdNumSeq</span> <span class=\"title\">extends</span> <span class=\"title\">NumberSeqApplicationModule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Subscribe to global number sequence module registration</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;numberSeqModuleNamesMap&quot;&gt;</span>numberSeqModuleNamesMap<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\">    [<span class=\"meta\">SubscribesTo(classstr(NumberSeqGlobal), delegatestr(NumberSeqGlobal, buildModulesMapDelegate))</span>]</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">buildModulesMapSubsciber</span>(<span class=\"params\">Map numberSeqModuleNamesMap</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        NumberSeqGlobal::addModuleToMap(classnum(HMSpiffsIdNumSeq), numberSeqModuleNamesMap);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Return the number sequence module</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>NumberSeqModule<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> NumberSeqModule <span class=\"title\">numberSeqModule</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> NumberSeqModule::CRM;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Load number sequence datatype configuration</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">loadModule</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        NumberSeqDatatype datatype = NumberSeqDatatype::construct();</span><br><span class=\"line\"></span><br><span class=\"line\">        datatype.parmDatatypeId(extendedTypeNum(HMSpiffsId));</span><br><span class=\"line\">        datatype.parmReferenceHelp(literalStr(<span class=\"string\">&quot;@HM:HMTheSPIFFIdentificationReference&quot;</span>));</span><br><span class=\"line\">        datatype.parmWizardIsContinuous(<span class=\"literal\">false</span>);</span><br><span class=\"line\">        datatype.parmWizardIsManual(NoYes::No);</span><br><span class=\"line\">        datatype.parmWizardFetchAheadQty(<span class=\"number\">10</span>);</span><br><span class=\"line\">        datatype.parmWizardIsChangeDownAllowed(NoYes::No);</span><br><span class=\"line\">        datatype.parmWizardIsChangeUpAllowed(NoYes::No);</span><br><span class=\"line\">        datatype.parmSortField(<span class=\"number\">1</span>);</span><br><span class=\"line\">        datatype.addParameterType(NumberSeqParameterType::DataArea, <span class=\"literal\">true</span>, <span class=\"literal\">false</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.create(datatype);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Key Points:</strong></p>\n<ul>\n<li><p>The class must extend <code>NumberSeqApplicationModule</code>.</p>\n</li>\n<li><p>Use the <code>buildModulesMapSubsciber</code> method to register your module.</p>\n</li>\n<li><p>Implement <code>loadModule()</code> to define the configuration.</p>\n</li>\n<li><p>Choose an appropriate <code>NumberSeqModule</code> (e.g., <code>Sales</code>, <code>Inventory</code>).</p>\n</li>\n</ul>\n<h2 id=\"Step-2-Load-the-Number-Sequence-from-a-Parameter-Form\"><a href=\"#Step-2-Load-the-Number-Sequence-from-a-Parameter-Form\" class=\"headerlink\" title=\"Step 2: Load the Number Sequence from a Parameter Form\"></a>Step 2: Load the Number Sequence from a Parameter Form</h2><p>Once your number sequence class is defined, you can call it in a form (typically in a <code>loadModule()</code> method for parameter setup):</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HMSpiffsIdNumSeq spiffsIdNumSeq = <span class=\"keyword\">new</span> HMSpiffsIdNumSeq();</span><br><span class=\"line\">spiffsIdNumSeq.load();</span><br></pre></td></tr></table></figure>\n\n<p>This code is often placed in the <code>loadModule()</code> method of a parameter setup form class (e.g., <code>MyModuleParameters</code>). This ensures that when number sequences are initialized, your custom identifier logic is registered.</p>\n<p>With these two simple steps, youve successfully extended D365FO with a custom number sequence. This is especially useful for custom business scenarios where the out-of-box sequences dont meet your needs.</p>\n<p>If you need to integrate this with forms, workflows, or auto-numbering during record creation, you can take it a step further by using the <code>NumberSeqReference</code> framework.</p>\n"},{"title":"Open in Microsoft Office","comments":1,"date":"2025-01-18T14:15:28.000Z","description":"Open in Microsoft Office","_content":"\n## Operation Step\n\nThe first step is to implement the **OfficeIMenuCustomizer** and **OfficeIGenerateWorkbookCustomExporter**.\n\n{% asset_img \"xpp-open-in-office.png\" \"Class Header\" %}\n\nThe example code is as follows:\n\n{% asset_img \"xpp-open-in-office2.png\" \"Class Header\" %}\n\n{% asset_img \"xpp-open-in-office3.png\" \"Class Header\" %}\n\n## Filter Setting\n\nDo not use the Recid of the primary table as the filter condition. This will inevitably require the Recid of the primary table to be released, but this will cause an insertion problem for the data entity: since RecId is the primary key of the primary table, it will make an insertion error regardless of any field entered, and will not be able to skip validation.\n\nIn this case, you can only use other unique keys instead, but many unique indexes contain multiple fields, so you need to create a computed column in the data entity and then construct a computed column field from the multiple fields of the unique index.","source":"_posts/xpp-open-in-office.md","raw":"---\ntitle: Open in Microsoft Office\ncomments: true\ndate: 2025-01-18 22:15:28\ncategories:\n - x++\ndescription: Open in Microsoft Office\n---\n\n## Operation Step\n\nThe first step is to implement the **OfficeIMenuCustomizer** and **OfficeIGenerateWorkbookCustomExporter**.\n\n{% asset_img \"xpp-open-in-office.png\" \"Class Header\" %}\n\nThe example code is as follows:\n\n{% asset_img \"xpp-open-in-office2.png\" \"Class Header\" %}\n\n{% asset_img \"xpp-open-in-office3.png\" \"Class Header\" %}\n\n## Filter Setting\n\nDo not use the Recid of the primary table as the filter condition. This will inevitably require the Recid of the primary table to be released, but this will cause an insertion problem for the data entity: since RecId is the primary key of the primary table, it will make an insertion error regardless of any field entered, and will not be able to skip validation.\n\nIn this case, you can only use other unique keys instead, but many unique indexes contain multiple fields, so you need to create a computed column in the data entity and then construct a computed column field from the multiple fields of the unique index.","slug":"xpp-open-in-office","published":1,"updated":"2025-12-26T03:11:02.937Z","layout":"post","photos":[],"_id":"cmk9a8vq6002t0cqk77q6eb1h","content":"<h2 id=\"Operation-Step\"><a href=\"#Operation-Step\" class=\"headerlink\" title=\"Operation Step\"></a>Operation Step</h2><p>The first step is to implement the <strong>OfficeIMenuCustomizer</strong> and <strong>OfficeIGenerateWorkbookCustomExporter</strong>.</p>\n<img src=\"/2025/01/18/xpp-open-in-office/xpp-open-in-office.png\" class=\"\" title=\"Class Header\">\n\n<p>The example code is as follows:</p>\n<img src=\"/2025/01/18/xpp-open-in-office/xpp-open-in-office2.png\" class=\"\" title=\"Class Header\">\n\n<img src=\"/2025/01/18/xpp-open-in-office/xpp-open-in-office3.png\" class=\"\" title=\"Class Header\">\n\n<h2 id=\"Filter-Setting\"><a href=\"#Filter-Setting\" class=\"headerlink\" title=\"Filter Setting\"></a>Filter Setting</h2><p>Do not use the Recid of the primary table as the filter condition. This will inevitably require the Recid of the primary table to be released, but this will cause an insertion problem for the data entity: since RecId is the primary key of the primary table, it will make an insertion error regardless of any field entered, and will not be able to skip validation.</p>\n<p>In this case, you can only use other unique keys instead, but many unique indexes contain multiple fields, so you need to create a computed column in the data entity and then construct a computed column field from the multiple fields of the unique index.</p>\n","excerpt":"","more":"<h2 id=\"Operation-Step\"><a href=\"#Operation-Step\" class=\"headerlink\" title=\"Operation Step\"></a>Operation Step</h2><p>The first step is to implement the <strong>OfficeIMenuCustomizer</strong> and <strong>OfficeIGenerateWorkbookCustomExporter</strong>.</p>\n<img src=\"/2025/01/18/xpp-open-in-office/xpp-open-in-office.png\" class=\"\" title=\"Class Header\">\n\n<p>The example code is as follows:</p>\n<img src=\"/2025/01/18/xpp-open-in-office/xpp-open-in-office2.png\" class=\"\" title=\"Class Header\">\n\n<img src=\"/2025/01/18/xpp-open-in-office/xpp-open-in-office3.png\" class=\"\" title=\"Class Header\">\n\n<h2 id=\"Filter-Setting\"><a href=\"#Filter-Setting\" class=\"headerlink\" title=\"Filter Setting\"></a>Filter Setting</h2><p>Do not use the Recid of the primary table as the filter condition. This will inevitably require the Recid of the primary table to be released, but this will cause an insertion problem for the data entity: since RecId is the primary key of the primary table, it will make an insertion error regardless of any field entered, and will not be able to skip validation.</p>\n<p>In this case, you can only use other unique keys instead, but many unique indexes contain multiple fields, so you need to create a computed column in the data entity and then construct a computed column field from the multiple fields of the unique index.</p>\n"},{"title":"RunBase How to enable the caching mechanism (pack/unpack)","comments":1,"date":"2026-01-11T05:02:24.000Z","description":"RunBase How to enable the caching mechanism (pack/unpack)?","_content":"\n# How to Enable Caching (pack / unpack) in RunBase\n\n> This article also applies to Jobs implemented using the **RunBaseBatch** framework.\n\n---\n\n## Business Background\n\nIn D365 Finance & Operations, `RunBase` is commonly used to implement parameterized business operations or batch Jobs. To ensure a good user experience and functional completeness, **caching (pack / unpack) must be enabled** in the following scenarios:\n\n1. When the **Records to include** control is required, allowing users to enter filter criteria for business tables (i.e., enabling Query);\n2. When the Job needs to run in a **new session (RunInNewSession)**;\n3. When the Job must support **Run in Batch** execution.\n\nFrom an implementation perspective, **caching is essentially the serialization and deserialization of RunBase member variables**. These member variables typically correspond to the parameters exposed to users in the Dialog.\n\nThis article demonstrates the **simplest and standard implementation approach** to correctly enable caching in a `RunBase` Job, while avoiding common implementation pitfalls.\n\n---\n\n## Key Implementation\n\n### Step 1: Use macros to manage member variables\n\n```c#\nprotected TransDate gTransDate; // Member variable\n\n#DEFINE.CurrentVersion(1) \n// #CurrentVersion represents the cache version number, defined as 1 in this example\n\n#LOCALMACRO.CurrentList \n// #CurrentList is used to centrally manage member variables that need to be cached\n// Note: container-type variables must not be included here\n    gTransDate\n#ENDMACRO\n```\n\n**Notes:**\n\n* Using macros significantly improves maintainability\n* When parameters change, only `#CurrentList` needs to be updated\n* container-type variables must be handled separately and cannot be placed directly in the macro list\n\n---\n\n### Step 2: Override the `pack()` method\n\n```c#\npublic container pack()\n{\n    return [#CurrentVersion, #CurrentList];\n}\n```\n\n**Implementation details:**\n\n* The return value must be a container\n* It is recommended to always store the version number first to support future extensions\n\n---\n\n### Step 3: Override the `unpack()` method\n\n```c#\npublic boolean unpack(container _packedClass)\n{\n    Version version = RunBase::getVersion(_packedClass);\n\n    switch (version)\n    {\n        case #CurrentVersion:\n            [version, #CurrentList] = _packedClass;\n            break;\n\n        default:\n            return false;\n    }\n\n    return true;\n}\n```\n\n**Notes:**\n\n* `RunBase::getVersion()` is used to safely parse the cache structure\n* This is a key mechanism for supporting Job upgrades and backward compatibility\n\n---\n\n## Special Case: Caching with `QueryRun`\n\n> When a Job enables the **Records to include** control, a `QueryRun` member variable is typically introduced.\n> Since `QueryRun` cannot be stored directly using macros, it must be handled separately.\n\n---\n\n### Step 1: Declare member variables\n\n```c#\nprotected TransDate gTransDate;\nQueryRun queryRun;\n\n#DEFINE.CurrentVersion(1)\n\n#LOCALMACRO.CurrentList\n    gTransDate\n#ENDMACRO\n```\n\n---\n\n### Step 2: Override the `pack()` method\n\n```c#\npublic container pack()\n{\n    return [#CurrentVersion, #CurrentList, queryRun.pack()];\n}\n```\n\n**Key points:**\n\n* `QueryRun` must be packed separately using `pack()`\n* The order must be consistent with the `unpack()` method\n\n---\n\n### Step 3: Override the `unpack()` method\n\n```c#\npublic boolean unpack(container _packedClass)\n{\n    Version version = RunBase::getVersion(_packedClass);\n    container conQuery;\n\n    switch (version)\n    {\n        case #CurrentVersion:\n            [version, #CurrentList, conQuery] = _packedClass;\n            Query query = new Query(conQuery);\n            queryRun = new QueryRun(query);\n            break;\n\n        default:\n            return false;\n    }\n\n    return true;\n}\n```\n\n**Notes:**\n\n* During unpack, both `Query` and `QueryRun` must be reconstructed\n* Existing object instances must not be reused\n\n---\n\n## Result Validation\n\n1. Open the Job;\n\n{% asset_img \"image-20260110214346484.png\" \"Class Header\" %}\n\n2. Enter parameter values and click **OK**;\n\n3. After successful execution, reopen the Job. The parameter values should default to the values entered during the previous run;\n\nThese results indicate that:\n\n* pack / unpack is working correctly\n* parameters are correctly restored in new session and Batch scenarios\n\n---\n\n## Summary\n\n1. **RunBase does not automatically enable caching**; `pack / unpack` must be explicitly implemented by the developer;\n2. Objects that need to be cached are typically **member variables exposed in the Dialog**;\n3. Using **macros to manage cached fields** is strongly recommended to improve maintainability;\n4. `QueryRun` is a special case and must be **packed and unpacked separately**;\n5. If a Job supports **RunInNewSession / RunInBatch / Records to include**, caching is **mandatory rather than optional**.","source":"_posts/xpp-runbase-how-to-enable-cache-mechanism.md","raw":"---\ntitle: RunBase How to enable the caching mechanism (pack/unpack)\ncomments: true\ndate: 2026-01-11 13:02:24\ntags:\n - RunBase\ncategories:\n - x++\ndescription: RunBase How to enable the caching mechanism (pack/unpack)?\n---\n\n# How to Enable Caching (pack / unpack) in RunBase\n\n> This article also applies to Jobs implemented using the **RunBaseBatch** framework.\n\n---\n\n## Business Background\n\nIn D365 Finance & Operations, `RunBase` is commonly used to implement parameterized business operations or batch Jobs. To ensure a good user experience and functional completeness, **caching (pack / unpack) must be enabled** in the following scenarios:\n\n1. When the **Records to include** control is required, allowing users to enter filter criteria for business tables (i.e., enabling Query);\n2. When the Job needs to run in a **new session (RunInNewSession)**;\n3. When the Job must support **Run in Batch** execution.\n\nFrom an implementation perspective, **caching is essentially the serialization and deserialization of RunBase member variables**. These member variables typically correspond to the parameters exposed to users in the Dialog.\n\nThis article demonstrates the **simplest and standard implementation approach** to correctly enable caching in a `RunBase` Job, while avoiding common implementation pitfalls.\n\n---\n\n## Key Implementation\n\n### Step 1: Use macros to manage member variables\n\n```c#\nprotected TransDate gTransDate; // Member variable\n\n#DEFINE.CurrentVersion(1) \n// #CurrentVersion represents the cache version number, defined as 1 in this example\n\n#LOCALMACRO.CurrentList \n// #CurrentList is used to centrally manage member variables that need to be cached\n// Note: container-type variables must not be included here\n    gTransDate\n#ENDMACRO\n```\n\n**Notes:**\n\n* Using macros significantly improves maintainability\n* When parameters change, only `#CurrentList` needs to be updated\n* container-type variables must be handled separately and cannot be placed directly in the macro list\n\n---\n\n### Step 2: Override the `pack()` method\n\n```c#\npublic container pack()\n{\n    return [#CurrentVersion, #CurrentList];\n}\n```\n\n**Implementation details:**\n\n* The return value must be a container\n* It is recommended to always store the version number first to support future extensions\n\n---\n\n### Step 3: Override the `unpack()` method\n\n```c#\npublic boolean unpack(container _packedClass)\n{\n    Version version = RunBase::getVersion(_packedClass);\n\n    switch (version)\n    {\n        case #CurrentVersion:\n            [version, #CurrentList] = _packedClass;\n            break;\n\n        default:\n            return false;\n    }\n\n    return true;\n}\n```\n\n**Notes:**\n\n* `RunBase::getVersion()` is used to safely parse the cache structure\n* This is a key mechanism for supporting Job upgrades and backward compatibility\n\n---\n\n## Special Case: Caching with `QueryRun`\n\n> When a Job enables the **Records to include** control, a `QueryRun` member variable is typically introduced.\n> Since `QueryRun` cannot be stored directly using macros, it must be handled separately.\n\n---\n\n### Step 1: Declare member variables\n\n```c#\nprotected TransDate gTransDate;\nQueryRun queryRun;\n\n#DEFINE.CurrentVersion(1)\n\n#LOCALMACRO.CurrentList\n    gTransDate\n#ENDMACRO\n```\n\n---\n\n### Step 2: Override the `pack()` method\n\n```c#\npublic container pack()\n{\n    return [#CurrentVersion, #CurrentList, queryRun.pack()];\n}\n```\n\n**Key points:**\n\n* `QueryRun` must be packed separately using `pack()`\n* The order must be consistent with the `unpack()` method\n\n---\n\n### Step 3: Override the `unpack()` method\n\n```c#\npublic boolean unpack(container _packedClass)\n{\n    Version version = RunBase::getVersion(_packedClass);\n    container conQuery;\n\n    switch (version)\n    {\n        case #CurrentVersion:\n            [version, #CurrentList, conQuery] = _packedClass;\n            Query query = new Query(conQuery);\n            queryRun = new QueryRun(query);\n            break;\n\n        default:\n            return false;\n    }\n\n    return true;\n}\n```\n\n**Notes:**\n\n* During unpack, both `Query` and `QueryRun` must be reconstructed\n* Existing object instances must not be reused\n\n---\n\n## Result Validation\n\n1. Open the Job;\n\n{% asset_img \"image-20260110214346484.png\" \"Class Header\" %}\n\n2. Enter parameter values and click **OK**;\n\n3. After successful execution, reopen the Job. The parameter values should default to the values entered during the previous run;\n\nThese results indicate that:\n\n* pack / unpack is working correctly\n* parameters are correctly restored in new session and Batch scenarios\n\n---\n\n## Summary\n\n1. **RunBase does not automatically enable caching**; `pack / unpack` must be explicitly implemented by the developer;\n2. Objects that need to be cached are typically **member variables exposed in the Dialog**;\n3. Using **macros to manage cached fields** is strongly recommended to improve maintainability;\n4. `QueryRun` is a special case and must be **packed and unpacked separately**;\n5. If a Job supports **RunInNewSession / RunInBatch / Records to include**, caching is **mandatory rather than optional**.","slug":"xpp-runbase-how-to-enable-cache-mechanism","published":1,"updated":"2026-01-11T05:14:51.659Z","layout":"post","photos":[],"_id":"cmk9a8vq7002x0cqk3jh4hpza","content":"<h1 id=\"How-to-Enable-Caching-pack-unpack-in-RunBase\"><a href=\"#How-to-Enable-Caching-pack-unpack-in-RunBase\" class=\"headerlink\" title=\"How to Enable Caching (pack &#x2F; unpack) in RunBase\"></a>How to Enable Caching (pack &#x2F; unpack) in RunBase</h1><blockquote>\n<p>This article also applies to Jobs implemented using the <strong>RunBaseBatch</strong> framework.</p>\n</blockquote>\n<hr>\n<h2 id=\"Business-Background\"><a href=\"#Business-Background\" class=\"headerlink\" title=\"Business Background\"></a>Business Background</h2><p>In D365 Finance &amp; Operations, <code>RunBase</code> is commonly used to implement parameterized business operations or batch Jobs. To ensure a good user experience and functional completeness, <strong>caching (pack &#x2F; unpack) must be enabled</strong> in the following scenarios:</p>\n<ol>\n<li>When the <strong>Records to include</strong> control is required, allowing users to enter filter criteria for business tables (i.e., enabling Query);</li>\n<li>When the Job needs to run in a <strong>new session (RunInNewSession)</strong>;</li>\n<li>When the Job must support <strong>Run in Batch</strong> execution.</li>\n</ol>\n<p>From an implementation perspective, <strong>caching is essentially the serialization and deserialization of RunBase member variables</strong>. These member variables typically correspond to the parameters exposed to users in the Dialog.</p>\n<p>This article demonstrates the <strong>simplest and standard implementation approach</strong> to correctly enable caching in a <code>RunBase</code> Job, while avoiding common implementation pitfalls.</p>\n<hr>\n<h2 id=\"Key-Implementation\"><a href=\"#Key-Implementation\" class=\"headerlink\" title=\"Key Implementation\"></a>Key Implementation</h2><h3 id=\"Step-1-Use-macros-to-manage-member-variables\"><a href=\"#Step-1-Use-macros-to-manage-member-variables\" class=\"headerlink\" title=\"Step 1: Use macros to manage member variables\"></a>Step 1: Use macros to manage member variables</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">protected</span> TransDate gTransDate; <span class=\"comment\">// Member variable</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#DEFINE.CurrentVersion(1) </span></span><br><span class=\"line\"><span class=\"comment\">// #CurrentVersion represents the cache version number, defined as 1 in this example</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#LOCALMACRO.CurrentList </span></span><br><span class=\"line\"><span class=\"comment\">// #CurrentList is used to centrally manage member variables that need to be cached</span></span><br><span class=\"line\"><span class=\"comment\">// Note: container-type variables must not be included here</span></span><br><span class=\"line\">    gTransDate</span><br><span class=\"line\"><span class=\"meta\">#ENDMACRO</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li>Using macros significantly improves maintainability</li>\n<li>When parameters change, only <code>#CurrentList</code> needs to be updated</li>\n<li>container-type variables must be handled separately and cannot be placed directly in the macro list</li>\n</ul>\n<hr>\n<h3 id=\"Step-2-Override-the-pack-method\"><a href=\"#Step-2-Override-the-pack-method\" class=\"headerlink\" title=\"Step 2: Override the pack() method\"></a>Step 2: Override the <code>pack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> container <span class=\"title\">pack</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"meta\">#CurrentVersion, #CurrentList];</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Implementation details:</strong></p>\n<ul>\n<li>The return value must be a container</li>\n<li>It is recommended to always store the version number first to support future extensions</li>\n</ul>\n<hr>\n<h3 id=\"Step-3-Override-the-unpack-method\"><a href=\"#Step-3-Override-the-unpack-method\" class=\"headerlink\" title=\"Step 3: Override the unpack() method\"></a>Step 3: Override the <code>unpack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">unpack</span>(<span class=\"params\">container _packedClass</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Version version = RunBase::getVersion(_packedClass);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (version)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"meta\">#CurrentVersion:</span></span><br><span class=\"line\">            [<span class=\"meta\">version, #CurrentList</span>] = _packedClass;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"literal\">default</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li><code>RunBase::getVersion()</code> is used to safely parse the cache structure</li>\n<li>This is a key mechanism for supporting Job upgrades and backward compatibility</li>\n</ul>\n<hr>\n<h2 id=\"Special-Case-Caching-with-QueryRun\"><a href=\"#Special-Case-Caching-with-QueryRun\" class=\"headerlink\" title=\"Special Case: Caching with QueryRun\"></a>Special Case: Caching with <code>QueryRun</code></h2><blockquote>\n<p>When a Job enables the <strong>Records to include</strong> control, a <code>QueryRun</code> member variable is typically introduced.<br>Since <code>QueryRun</code> cannot be stored directly using macros, it must be handled separately.</p>\n</blockquote>\n<hr>\n<h3 id=\"Step-1-Declare-member-variables\"><a href=\"#Step-1-Declare-member-variables\" class=\"headerlink\" title=\"Step 1: Declare member variables\"></a>Step 1: Declare member variables</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">protected</span> TransDate gTransDate;</span><br><span class=\"line\">QueryRun queryRun;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#DEFINE.CurrentVersion(1)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#LOCALMACRO.CurrentList</span></span><br><span class=\"line\">    gTransDate</span><br><span class=\"line\"><span class=\"meta\">#ENDMACRO</span></span><br></pre></td></tr></table></figure>\n\n<hr>\n<h3 id=\"Step-2-Override-the-pack-method-1\"><a href=\"#Step-2-Override-the-pack-method-1\" class=\"headerlink\" title=\"Step 2: Override the pack() method\"></a>Step 2: Override the <code>pack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> container <span class=\"title\">pack</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"meta\">#CurrentVersion, #CurrentList, queryRun.pack()];</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Key points:</strong></p>\n<ul>\n<li><code>QueryRun</code> must be packed separately using <code>pack()</code></li>\n<li>The order must be consistent with the <code>unpack()</code> method</li>\n</ul>\n<hr>\n<h3 id=\"Step-3-Override-the-unpack-method-1\"><a href=\"#Step-3-Override-the-unpack-method-1\" class=\"headerlink\" title=\"Step 3: Override the unpack() method\"></a>Step 3: Override the <code>unpack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">unpack</span>(<span class=\"params\">container _packedClass</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Version version = RunBase::getVersion(_packedClass);</span><br><span class=\"line\">    container conQuery;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (version)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"meta\">#CurrentVersion:</span></span><br><span class=\"line\">            [<span class=\"meta\">version, #CurrentList, conQuery</span>] = _packedClass;</span><br><span class=\"line\">            Query query = <span class=\"keyword\">new</span> Query(conQuery);</span><br><span class=\"line\">            queryRun = <span class=\"keyword\">new</span> QueryRun(query);</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"literal\">default</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li>During unpack, both <code>Query</code> and <code>QueryRun</code> must be reconstructed</li>\n<li>Existing object instances must not be reused</li>\n</ul>\n<hr>\n<h2 id=\"Result-Validation\"><a href=\"#Result-Validation\" class=\"headerlink\" title=\"Result Validation\"></a>Result Validation</h2><ol>\n<li>Open the Job;</li>\n</ol>\n<img src=\"/2026/01/11/xpp-runbase-how-to-enable-cache-mechanism/image-20260110214346484.png\" class=\"\" title=\"Class Header\">\n\n<ol start=\"2\">\n<li><p>Enter parameter values and click <strong>OK</strong>;</p>\n</li>\n<li><p>After successful execution, reopen the Job. The parameter values should default to the values entered during the previous run;</p>\n</li>\n</ol>\n<p>These results indicate that:</p>\n<ul>\n<li>pack &#x2F; unpack is working correctly</li>\n<li>parameters are correctly restored in new session and Batch scenarios</li>\n</ul>\n<hr>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><ol>\n<li><strong>RunBase does not automatically enable caching</strong>; <code>pack / unpack</code> must be explicitly implemented by the developer;</li>\n<li>Objects that need to be cached are typically <strong>member variables exposed in the Dialog</strong>;</li>\n<li>Using <strong>macros to manage cached fields</strong> is strongly recommended to improve maintainability;</li>\n<li><code>QueryRun</code> is a special case and must be <strong>packed and unpacked separately</strong>;</li>\n<li>If a Job supports <strong>RunInNewSession &#x2F; RunInBatch &#x2F; Records to include</strong>, caching is <strong>mandatory rather than optional</strong>.</li>\n</ol>\n","excerpt":"","more":"<h1 id=\"How-to-Enable-Caching-pack-unpack-in-RunBase\"><a href=\"#How-to-Enable-Caching-pack-unpack-in-RunBase\" class=\"headerlink\" title=\"How to Enable Caching (pack &#x2F; unpack) in RunBase\"></a>How to Enable Caching (pack &#x2F; unpack) in RunBase</h1><blockquote>\n<p>This article also applies to Jobs implemented using the <strong>RunBaseBatch</strong> framework.</p>\n</blockquote>\n<hr>\n<h2 id=\"Business-Background\"><a href=\"#Business-Background\" class=\"headerlink\" title=\"Business Background\"></a>Business Background</h2><p>In D365 Finance &amp; Operations, <code>RunBase</code> is commonly used to implement parameterized business operations or batch Jobs. To ensure a good user experience and functional completeness, <strong>caching (pack &#x2F; unpack) must be enabled</strong> in the following scenarios:</p>\n<ol>\n<li>When the <strong>Records to include</strong> control is required, allowing users to enter filter criteria for business tables (i.e., enabling Query);</li>\n<li>When the Job needs to run in a <strong>new session (RunInNewSession)</strong>;</li>\n<li>When the Job must support <strong>Run in Batch</strong> execution.</li>\n</ol>\n<p>From an implementation perspective, <strong>caching is essentially the serialization and deserialization of RunBase member variables</strong>. These member variables typically correspond to the parameters exposed to users in the Dialog.</p>\n<p>This article demonstrates the <strong>simplest and standard implementation approach</strong> to correctly enable caching in a <code>RunBase</code> Job, while avoiding common implementation pitfalls.</p>\n<hr>\n<h2 id=\"Key-Implementation\"><a href=\"#Key-Implementation\" class=\"headerlink\" title=\"Key Implementation\"></a>Key Implementation</h2><h3 id=\"Step-1-Use-macros-to-manage-member-variables\"><a href=\"#Step-1-Use-macros-to-manage-member-variables\" class=\"headerlink\" title=\"Step 1: Use macros to manage member variables\"></a>Step 1: Use macros to manage member variables</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">protected</span> TransDate gTransDate; <span class=\"comment\">// Member variable</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#DEFINE.CurrentVersion(1) </span></span><br><span class=\"line\"><span class=\"comment\">// #CurrentVersion represents the cache version number, defined as 1 in this example</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#LOCALMACRO.CurrentList </span></span><br><span class=\"line\"><span class=\"comment\">// #CurrentList is used to centrally manage member variables that need to be cached</span></span><br><span class=\"line\"><span class=\"comment\">// Note: container-type variables must not be included here</span></span><br><span class=\"line\">    gTransDate</span><br><span class=\"line\"><span class=\"meta\">#ENDMACRO</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li>Using macros significantly improves maintainability</li>\n<li>When parameters change, only <code>#CurrentList</code> needs to be updated</li>\n<li>container-type variables must be handled separately and cannot be placed directly in the macro list</li>\n</ul>\n<hr>\n<h3 id=\"Step-2-Override-the-pack-method\"><a href=\"#Step-2-Override-the-pack-method\" class=\"headerlink\" title=\"Step 2: Override the pack() method\"></a>Step 2: Override the <code>pack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> container <span class=\"title\">pack</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"meta\">#CurrentVersion, #CurrentList];</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Implementation details:</strong></p>\n<ul>\n<li>The return value must be a container</li>\n<li>It is recommended to always store the version number first to support future extensions</li>\n</ul>\n<hr>\n<h3 id=\"Step-3-Override-the-unpack-method\"><a href=\"#Step-3-Override-the-unpack-method\" class=\"headerlink\" title=\"Step 3: Override the unpack() method\"></a>Step 3: Override the <code>unpack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">unpack</span>(<span class=\"params\">container _packedClass</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Version version = RunBase::getVersion(_packedClass);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (version)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"meta\">#CurrentVersion:</span></span><br><span class=\"line\">            [<span class=\"meta\">version, #CurrentList</span>] = _packedClass;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"literal\">default</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li><code>RunBase::getVersion()</code> is used to safely parse the cache structure</li>\n<li>This is a key mechanism for supporting Job upgrades and backward compatibility</li>\n</ul>\n<hr>\n<h2 id=\"Special-Case-Caching-with-QueryRun\"><a href=\"#Special-Case-Caching-with-QueryRun\" class=\"headerlink\" title=\"Special Case: Caching with QueryRun\"></a>Special Case: Caching with <code>QueryRun</code></h2><blockquote>\n<p>When a Job enables the <strong>Records to include</strong> control, a <code>QueryRun</code> member variable is typically introduced.<br>Since <code>QueryRun</code> cannot be stored directly using macros, it must be handled separately.</p>\n</blockquote>\n<hr>\n<h3 id=\"Step-1-Declare-member-variables\"><a href=\"#Step-1-Declare-member-variables\" class=\"headerlink\" title=\"Step 1: Declare member variables\"></a>Step 1: Declare member variables</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">protected</span> TransDate gTransDate;</span><br><span class=\"line\">QueryRun queryRun;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#DEFINE.CurrentVersion(1)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#LOCALMACRO.CurrentList</span></span><br><span class=\"line\">    gTransDate</span><br><span class=\"line\"><span class=\"meta\">#ENDMACRO</span></span><br></pre></td></tr></table></figure>\n\n<hr>\n<h3 id=\"Step-2-Override-the-pack-method-1\"><a href=\"#Step-2-Override-the-pack-method-1\" class=\"headerlink\" title=\"Step 2: Override the pack() method\"></a>Step 2: Override the <code>pack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> container <span class=\"title\">pack</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"meta\">#CurrentVersion, #CurrentList, queryRun.pack()];</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Key points:</strong></p>\n<ul>\n<li><code>QueryRun</code> must be packed separately using <code>pack()</code></li>\n<li>The order must be consistent with the <code>unpack()</code> method</li>\n</ul>\n<hr>\n<h3 id=\"Step-3-Override-the-unpack-method-1\"><a href=\"#Step-3-Override-the-unpack-method-1\" class=\"headerlink\" title=\"Step 3: Override the unpack() method\"></a>Step 3: Override the <code>unpack()</code> method</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">unpack</span>(<span class=\"params\">container _packedClass</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Version version = RunBase::getVersion(_packedClass);</span><br><span class=\"line\">    container conQuery;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (version)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"meta\">#CurrentVersion:</span></span><br><span class=\"line\">            [<span class=\"meta\">version, #CurrentList, conQuery</span>] = _packedClass;</span><br><span class=\"line\">            Query query = <span class=\"keyword\">new</span> Query(conQuery);</span><br><span class=\"line\">            queryRun = <span class=\"keyword\">new</span> QueryRun(query);</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"literal\">default</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li>During unpack, both <code>Query</code> and <code>QueryRun</code> must be reconstructed</li>\n<li>Existing object instances must not be reused</li>\n</ul>\n<hr>\n<h2 id=\"Result-Validation\"><a href=\"#Result-Validation\" class=\"headerlink\" title=\"Result Validation\"></a>Result Validation</h2><ol>\n<li>Open the Job;</li>\n</ol>\n<img src=\"/2026/01/11/xpp-runbase-how-to-enable-cache-mechanism/image-20260110214346484.png\" class=\"\" title=\"Class Header\">\n\n<ol start=\"2\">\n<li><p>Enter parameter values and click <strong>OK</strong>;</p>\n</li>\n<li><p>After successful execution, reopen the Job. The parameter values should default to the values entered during the previous run;</p>\n</li>\n</ol>\n<p>These results indicate that:</p>\n<ul>\n<li>pack &#x2F; unpack is working correctly</li>\n<li>parameters are correctly restored in new session and Batch scenarios</li>\n</ul>\n<hr>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><ol>\n<li><strong>RunBase does not automatically enable caching</strong>; <code>pack / unpack</code> must be explicitly implemented by the developer;</li>\n<li>Objects that need to be cached are typically <strong>member variables exposed in the Dialog</strong>;</li>\n<li>Using <strong>macros to manage cached fields</strong> is strongly recommended to improve maintainability;</li>\n<li><code>QueryRun</code> is a special case and must be <strong>packed and unpacked separately</strong>;</li>\n<li>If a Job supports <strong>RunInNewSession &#x2F; RunInBatch &#x2F; Records to include</strong>, caching is <strong>mandatory rather than optional</strong>.</li>\n</ol>\n"},{"title":"RunBaseBatch How to enable \"Run In Batch\"","comments":1,"date":"2026-01-11T05:14:21.000Z","description":"RunBaseBatch How to enable \"Run In Batch\"","_content":"\n# How to Enable Run In Batch in RunBaseBatch\n\n> From a minimal implementation perspective, `RunBaseBatch` and `RunBase` Jobs are implemented in a highly similar way.\n> This article explains how to correctly enable **Run In Batch** in `RunBaseBatch` using the **standard implementation approach**.\n>\n> Note: The examples in this article are based on `RunBaseBatch`, and the minimal implementation version is not repeated here.\n\n---\n\n## Business Background\n\nIn D365 Finance & Operations, when a business process has the following characteristics, it is typically designed as a **Batch Job**:\n\n* Long execution time\n* Complex logic involving large volumes of data processing\n* Not suitable for blocking the user interaction interface\n\n`RunBaseBatch` is a standard framework provided by D365 that allows a RunBase Job to be **seamlessly upgraded into a batch-capable Job**, with built-in support for:\n\n* Run In Batch\n* Batch group\n* Execution in a new session\n\nHowever, this is only true **if the implementation follows the frameworks expectations**.\nThis article focuses on **which methods must call `super()` and why this is critical for enabling Run In Batch**.\n\n---\n\n## Key Implementation\n\n### Step 1: Inherit from `RunBaseBatch`\n\n```x++\npublic class HM365RunBaseBatch extends RunBaseBatch\n{\n    ...\n}\n```\n\n**Notes:**\n\n* Only by inheriting from `RunBaseBatch` will the system recognize the Job as batch-capable\n* Inheriting from `RunBase` alone is not sufficient to enable Run In Batch\n\n---\n\n### Step 2: Ensure `new()` calls `super()`\n\n```x++\npublic void new()\n{\n    Query query = new Query(queryStr(SalesLine));\n    queryRun = new QueryRun(query);\n\n    super(); \n    // Calling the base class constructor is mandatory\n    // RunBaseBatch initializes BatchInfo and other critical objects here\n}\n```\n\n**Key points:**\n\n* `super()` is **not optional**\n* If omitted:\n\n  * **Run In Batch** will not appear in the Dialog\n  * The Job will not be correctly registered as a Batch task\n* This is a **very common but subtle mistake**\n\n---\n\n### Step 3: Ensure `dialog()` calls `super()`\n\n```x++\npublic Object dialog()\n{\n    DialogRunbase dialog = super();\n\n    gDialogTransDate = dialog.addFieldValue(\n        extendedTypeStr(TransDate),\n        gTransDate\n    );\n\n    return dialog;\n}\n```\n\n**Notes:**\n\n* `super()` is responsible for constructing the Batch-related areas of the Dialog\n* If not called:\n\n  * Even if the Job inherits from `RunBaseBatch`\n  * Batch options will not be displayed in the Dialog\n\n---\n\n### Step 4: Ensure `getFromDialog()` calls `super()`\n\n```x++\npublic boolean getFromDialog()\n{\n    boolean ret = super();\n\n    gTransDate = gDialogTransDate.value();\n\n    return ret;\n}\n```\n\n**Notes:**\n\n* `super()` reads Batch-related parameters\n* If omitted:\n\n  * Run In Batch settings may not be correctly parsed\n  * Batch Job behavior may not match expectations\n\n---\n\n## Result Validation\n\nAfter the above steps are implemented correctly, opening the Job Dialog should display the **Run In Batch** options:\n\n{% asset_img \"image-20260111105512293.png\" \"Class Header\" %}\n\nThis confirms that:\n\n* The `RunBaseBatch` initialization flow is complete\n* BatchInfo has been successfully constructed\n* The Job can be submitted and executed as a Batch Job\n\n---\n\n## Summary\n\n1. **Enabling Run In Batch requires inheriting from `RunBaseBatch`, not `RunBase`**;\n2. Calling `super()` in `new()`, `dialog()`, and `getFromDialog()` is **mandatory, not a matter of coding style**;\n3. The `super()` call chain contains **critical logic for BatchInfo initialization and Batch parameter construction**;\n4. Even if the code compiles and runs, missing any required `super()` call may result in Run In Batch being visible but ineffective;\n5. In real projects, **around 80% of RunBaseBatch issues are caused by incomplete initialization rather than business logic errors**.","source":"_posts/xpp-runbasebatch-how-to-enable-run-in-batch.md","raw":"---\ntitle: RunBaseBatch How to enable \"Run In Batch\"\ncomments: true\ndate: 2026-01-11 13:14:21\ntags:\n - RunBase\ncategories:\n - x++\ndescription: RunBaseBatch How to enable \"Run In Batch\"\n---\n\n# How to Enable Run In Batch in RunBaseBatch\n\n> From a minimal implementation perspective, `RunBaseBatch` and `RunBase` Jobs are implemented in a highly similar way.\n> This article explains how to correctly enable **Run In Batch** in `RunBaseBatch` using the **standard implementation approach**.\n>\n> Note: The examples in this article are based on `RunBaseBatch`, and the minimal implementation version is not repeated here.\n\n---\n\n## Business Background\n\nIn D365 Finance & Operations, when a business process has the following characteristics, it is typically designed as a **Batch Job**:\n\n* Long execution time\n* Complex logic involving large volumes of data processing\n* Not suitable for blocking the user interaction interface\n\n`RunBaseBatch` is a standard framework provided by D365 that allows a RunBase Job to be **seamlessly upgraded into a batch-capable Job**, with built-in support for:\n\n* Run In Batch\n* Batch group\n* Execution in a new session\n\nHowever, this is only true **if the implementation follows the frameworks expectations**.\nThis article focuses on **which methods must call `super()` and why this is critical for enabling Run In Batch**.\n\n---\n\n## Key Implementation\n\n### Step 1: Inherit from `RunBaseBatch`\n\n```x++\npublic class HM365RunBaseBatch extends RunBaseBatch\n{\n    ...\n}\n```\n\n**Notes:**\n\n* Only by inheriting from `RunBaseBatch` will the system recognize the Job as batch-capable\n* Inheriting from `RunBase` alone is not sufficient to enable Run In Batch\n\n---\n\n### Step 2: Ensure `new()` calls `super()`\n\n```x++\npublic void new()\n{\n    Query query = new Query(queryStr(SalesLine));\n    queryRun = new QueryRun(query);\n\n    super(); \n    // Calling the base class constructor is mandatory\n    // RunBaseBatch initializes BatchInfo and other critical objects here\n}\n```\n\n**Key points:**\n\n* `super()` is **not optional**\n* If omitted:\n\n  * **Run In Batch** will not appear in the Dialog\n  * The Job will not be correctly registered as a Batch task\n* This is a **very common but subtle mistake**\n\n---\n\n### Step 3: Ensure `dialog()` calls `super()`\n\n```x++\npublic Object dialog()\n{\n    DialogRunbase dialog = super();\n\n    gDialogTransDate = dialog.addFieldValue(\n        extendedTypeStr(TransDate),\n        gTransDate\n    );\n\n    return dialog;\n}\n```\n\n**Notes:**\n\n* `super()` is responsible for constructing the Batch-related areas of the Dialog\n* If not called:\n\n  * Even if the Job inherits from `RunBaseBatch`\n  * Batch options will not be displayed in the Dialog\n\n---\n\n### Step 4: Ensure `getFromDialog()` calls `super()`\n\n```x++\npublic boolean getFromDialog()\n{\n    boolean ret = super();\n\n    gTransDate = gDialogTransDate.value();\n\n    return ret;\n}\n```\n\n**Notes:**\n\n* `super()` reads Batch-related parameters\n* If omitted:\n\n  * Run In Batch settings may not be correctly parsed\n  * Batch Job behavior may not match expectations\n\n---\n\n## Result Validation\n\nAfter the above steps are implemented correctly, opening the Job Dialog should display the **Run In Batch** options:\n\n{% asset_img \"image-20260111105512293.png\" \"Class Header\" %}\n\nThis confirms that:\n\n* The `RunBaseBatch` initialization flow is complete\n* BatchInfo has been successfully constructed\n* The Job can be submitted and executed as a Batch Job\n\n---\n\n## Summary\n\n1. **Enabling Run In Batch requires inheriting from `RunBaseBatch`, not `RunBase`**;\n2. Calling `super()` in `new()`, `dialog()`, and `getFromDialog()` is **mandatory, not a matter of coding style**;\n3. The `super()` call chain contains **critical logic for BatchInfo initialization and Batch parameter construction**;\n4. Even if the code compiles and runs, missing any required `super()` call may result in Run In Batch being visible but ineffective;\n5. In real projects, **around 80% of RunBaseBatch issues are caused by incomplete initialization rather than business logic errors**.","slug":"xpp-runbasebatch-how-to-enable-run-in-batch","published":1,"updated":"2026-01-11T05:17:24.988Z","layout":"post","photos":[],"_id":"cmk9a8vq700300cqkbbj1cdfv","content":"<h1 id=\"How-to-Enable-Run-In-Batch-in-RunBaseBatch\"><a href=\"#How-to-Enable-Run-In-Batch-in-RunBaseBatch\" class=\"headerlink\" title=\"How to Enable Run In Batch in RunBaseBatch\"></a>How to Enable Run In Batch in RunBaseBatch</h1><blockquote>\n<p>From a minimal implementation perspective, <code>RunBaseBatch</code> and <code>RunBase</code> Jobs are implemented in a highly similar way.<br>This article explains how to correctly enable <strong>Run In Batch</strong> in <code>RunBaseBatch</code> using the <strong>standard implementation approach</strong>.</p>\n<p>Note: The examples in this article are based on <code>RunBaseBatch</code>, and the minimal implementation version is not repeated here.</p>\n</blockquote>\n<hr>\n<h2 id=\"Business-Background\"><a href=\"#Business-Background\" class=\"headerlink\" title=\"Business Background\"></a>Business Background</h2><p>In D365 Finance &amp; Operations, when a business process has the following characteristics, it is typically designed as a <strong>Batch Job</strong>:</p>\n<ul>\n<li>Long execution time</li>\n<li>Complex logic involving large volumes of data processing</li>\n<li>Not suitable for blocking the user interaction interface</li>\n</ul>\n<p><code>RunBaseBatch</code> is a standard framework provided by D365 that allows a RunBase Job to be <strong>seamlessly upgraded into a batch-capable Job</strong>, with built-in support for:</p>\n<ul>\n<li>Run In Batch</li>\n<li>Batch group</li>\n<li>Execution in a new session</li>\n</ul>\n<p>However, this is only true <strong>if the implementation follows the frameworks expectations</strong>.<br>This article focuses on <strong>which methods must call <code>super()</code> and why this is critical for enabling Run In Batch</strong>.</p>\n<hr>\n<h2 id=\"Key-Implementation\"><a href=\"#Key-Implementation\" class=\"headerlink\" title=\"Key Implementation\"></a>Key Implementation</h2><h3 id=\"Step-1-Inherit-from-RunBaseBatch\"><a href=\"#Step-1-Inherit-from-RunBaseBatch\" class=\"headerlink\" title=\"Step 1: Inherit from RunBaseBatch\"></a>Step 1: Inherit from <code>RunBaseBatch</code></h3><figure class=\"highlight x++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">HM365RunBaseBatch</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">RunBaseBatch</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li>Only by inheriting from <code>RunBaseBatch</code> will the system recognize the Job as batch-capable</li>\n<li>Inheriting from <code>RunBase</code> alone is not sufficient to enable Run In Batch</li>\n</ul>\n<hr>\n<h3 id=\"Step-2-Ensure-new-calls-super\"><a href=\"#Step-2-Ensure-new-calls-super\" class=\"headerlink\" title=\"Step 2: Ensure new() calls super()\"></a>Step 2: Ensure <code>new()</code> calls <code>super()</code></h3><figure class=\"highlight x++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"keyword\">new</span>()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Query query = <span class=\"keyword\">new</span> Query(queryStr(SalesLine));</span><br><span class=\"line\">    queryRun = <span class=\"keyword\">new</span> QueryRun(query);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">super</span>(); </span><br><span class=\"line\">    <span class=\"comment\">// Calling the base class constructor is mandatory</span></span><br><span class=\"line\">    <span class=\"comment\">// RunBaseBatch initializes BatchInfo and other critical objects here</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Key points:</strong></p>\n<ul>\n<li><p><code>super()</code> is <strong>not optional</strong></p>\n</li>\n<li><p>If omitted:</p>\n<ul>\n<li><strong>Run In Batch</strong> will not appear in the Dialog</li>\n<li>The Job will not be correctly registered as a Batch task</li>\n</ul>\n</li>\n<li><p>This is a <strong>very common but subtle mistake</strong></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Step-3-Ensure-dialog-calls-super\"><a href=\"#Step-3-Ensure-dialog-calls-super\" class=\"headerlink\" title=\"Step 3: Ensure dialog() calls super()\"></a>Step 3: Ensure <code>dialog()</code> calls <code>super()</code></h3><figure class=\"highlight x++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> Object dialog()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    DialogRunbase dialog = <span class=\"keyword\">super</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    gDialogTransDate = dialog.addFieldValue(</span><br><span class=\"line\">        extendedTypeStr(TransDate),</span><br><span class=\"line\">        gTransDate</span><br><span class=\"line\">    );</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dialog;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li><p><code>super()</code> is responsible for constructing the Batch-related areas of the Dialog</p>\n</li>\n<li><p>If not called:</p>\n<ul>\n<li>Even if the Job inherits from <code>RunBaseBatch</code></li>\n<li>Batch options will not be displayed in the Dialog</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"Step-4-Ensure-getFromDialog-calls-super\"><a href=\"#Step-4-Ensure-getFromDialog-calls-super\" class=\"headerlink\" title=\"Step 4: Ensure getFromDialog() calls super()\"></a>Step 4: Ensure <code>getFromDialog()</code> calls <code>super()</code></h3><figure class=\"highlight x++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"built_in\">boolean</span> getFromDialog()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">boolean</span> ret = <span class=\"keyword\">super</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    gTransDate = gDialogTransDate.value();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li><p><code>super()</code> reads Batch-related parameters</p>\n</li>\n<li><p>If omitted:</p>\n<ul>\n<li>Run In Batch settings may not be correctly parsed</li>\n<li>Batch Job behavior may not match expectations</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"Result-Validation\"><a href=\"#Result-Validation\" class=\"headerlink\" title=\"Result Validation\"></a>Result Validation</h2><p>After the above steps are implemented correctly, opening the Job Dialog should display the <strong>Run In Batch</strong> options:</p>\n<img src=\"/2026/01/11/xpp-runbasebatch-how-to-enable-run-in-batch/image-20260111105512293.png\" class=\"\" title=\"Class Header\">\n\n<p>This confirms that:</p>\n<ul>\n<li>The <code>RunBaseBatch</code> initialization flow is complete</li>\n<li>BatchInfo has been successfully constructed</li>\n<li>The Job can be submitted and executed as a Batch Job</li>\n</ul>\n<hr>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><ol>\n<li><strong>Enabling Run In Batch requires inheriting from <code>RunBaseBatch</code>, not <code>RunBase</code></strong>;</li>\n<li>Calling <code>super()</code> in <code>new()</code>, <code>dialog()</code>, and <code>getFromDialog()</code> is <strong>mandatory, not a matter of coding style</strong>;</li>\n<li>The <code>super()</code> call chain contains <strong>critical logic for BatchInfo initialization and Batch parameter construction</strong>;</li>\n<li>Even if the code compiles and runs, missing any required <code>super()</code> call may result in Run In Batch being visible but ineffective;</li>\n<li>In real projects, <strong>around 80% of RunBaseBatch issues are caused by incomplete initialization rather than business logic errors</strong>.</li>\n</ol>\n","excerpt":"","more":"<h1 id=\"How-to-Enable-Run-In-Batch-in-RunBaseBatch\"><a href=\"#How-to-Enable-Run-In-Batch-in-RunBaseBatch\" class=\"headerlink\" title=\"How to Enable Run In Batch in RunBaseBatch\"></a>How to Enable Run In Batch in RunBaseBatch</h1><blockquote>\n<p>From a minimal implementation perspective, <code>RunBaseBatch</code> and <code>RunBase</code> Jobs are implemented in a highly similar way.<br>This article explains how to correctly enable <strong>Run In Batch</strong> in <code>RunBaseBatch</code> using the <strong>standard implementation approach</strong>.</p>\n<p>Note: The examples in this article are based on <code>RunBaseBatch</code>, and the minimal implementation version is not repeated here.</p>\n</blockquote>\n<hr>\n<h2 id=\"Business-Background\"><a href=\"#Business-Background\" class=\"headerlink\" title=\"Business Background\"></a>Business Background</h2><p>In D365 Finance &amp; Operations, when a business process has the following characteristics, it is typically designed as a <strong>Batch Job</strong>:</p>\n<ul>\n<li>Long execution time</li>\n<li>Complex logic involving large volumes of data processing</li>\n<li>Not suitable for blocking the user interaction interface</li>\n</ul>\n<p><code>RunBaseBatch</code> is a standard framework provided by D365 that allows a RunBase Job to be <strong>seamlessly upgraded into a batch-capable Job</strong>, with built-in support for:</p>\n<ul>\n<li>Run In Batch</li>\n<li>Batch group</li>\n<li>Execution in a new session</li>\n</ul>\n<p>However, this is only true <strong>if the implementation follows the frameworks expectations</strong>.<br>This article focuses on <strong>which methods must call <code>super()</code> and why this is critical for enabling Run In Batch</strong>.</p>\n<hr>\n<h2 id=\"Key-Implementation\"><a href=\"#Key-Implementation\" class=\"headerlink\" title=\"Key Implementation\"></a>Key Implementation</h2><h3 id=\"Step-1-Inherit-from-RunBaseBatch\"><a href=\"#Step-1-Inherit-from-RunBaseBatch\" class=\"headerlink\" title=\"Step 1: Inherit from RunBaseBatch\"></a>Step 1: Inherit from <code>RunBaseBatch</code></h3><figure class=\"highlight x++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">HM365RunBaseBatch</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">RunBaseBatch</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li>Only by inheriting from <code>RunBaseBatch</code> will the system recognize the Job as batch-capable</li>\n<li>Inheriting from <code>RunBase</code> alone is not sufficient to enable Run In Batch</li>\n</ul>\n<hr>\n<h3 id=\"Step-2-Ensure-new-calls-super\"><a href=\"#Step-2-Ensure-new-calls-super\" class=\"headerlink\" title=\"Step 2: Ensure new() calls super()\"></a>Step 2: Ensure <code>new()</code> calls <code>super()</code></h3><figure class=\"highlight x++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"keyword\">new</span>()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Query query = <span class=\"keyword\">new</span> Query(queryStr(SalesLine));</span><br><span class=\"line\">    queryRun = <span class=\"keyword\">new</span> QueryRun(query);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">super</span>(); </span><br><span class=\"line\">    <span class=\"comment\">// Calling the base class constructor is mandatory</span></span><br><span class=\"line\">    <span class=\"comment\">// RunBaseBatch initializes BatchInfo and other critical objects here</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Key points:</strong></p>\n<ul>\n<li><p><code>super()</code> is <strong>not optional</strong></p>\n</li>\n<li><p>If omitted:</p>\n<ul>\n<li><strong>Run In Batch</strong> will not appear in the Dialog</li>\n<li>The Job will not be correctly registered as a Batch task</li>\n</ul>\n</li>\n<li><p>This is a <strong>very common but subtle mistake</strong></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Step-3-Ensure-dialog-calls-super\"><a href=\"#Step-3-Ensure-dialog-calls-super\" class=\"headerlink\" title=\"Step 3: Ensure dialog() calls super()\"></a>Step 3: Ensure <code>dialog()</code> calls <code>super()</code></h3><figure class=\"highlight x++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> Object dialog()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    DialogRunbase dialog = <span class=\"keyword\">super</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    gDialogTransDate = dialog.addFieldValue(</span><br><span class=\"line\">        extendedTypeStr(TransDate),</span><br><span class=\"line\">        gTransDate</span><br><span class=\"line\">    );</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dialog;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li><p><code>super()</code> is responsible for constructing the Batch-related areas of the Dialog</p>\n</li>\n<li><p>If not called:</p>\n<ul>\n<li>Even if the Job inherits from <code>RunBaseBatch</code></li>\n<li>Batch options will not be displayed in the Dialog</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"Step-4-Ensure-getFromDialog-calls-super\"><a href=\"#Step-4-Ensure-getFromDialog-calls-super\" class=\"headerlink\" title=\"Step 4: Ensure getFromDialog() calls super()\"></a>Step 4: Ensure <code>getFromDialog()</code> calls <code>super()</code></h3><figure class=\"highlight x++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"built_in\">boolean</span> getFromDialog()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">boolean</span> ret = <span class=\"keyword\">super</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    gTransDate = gDialogTransDate.value();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Notes:</strong></p>\n<ul>\n<li><p><code>super()</code> reads Batch-related parameters</p>\n</li>\n<li><p>If omitted:</p>\n<ul>\n<li>Run In Batch settings may not be correctly parsed</li>\n<li>Batch Job behavior may not match expectations</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"Result-Validation\"><a href=\"#Result-Validation\" class=\"headerlink\" title=\"Result Validation\"></a>Result Validation</h2><p>After the above steps are implemented correctly, opening the Job Dialog should display the <strong>Run In Batch</strong> options:</p>\n<img src=\"/2026/01/11/xpp-runbasebatch-how-to-enable-run-in-batch/image-20260111105512293.png\" class=\"\" title=\"Class Header\">\n\n<p>This confirms that:</p>\n<ul>\n<li>The <code>RunBaseBatch</code> initialization flow is complete</li>\n<li>BatchInfo has been successfully constructed</li>\n<li>The Job can be submitted and executed as a Batch Job</li>\n</ul>\n<hr>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><ol>\n<li><strong>Enabling Run In Batch requires inheriting from <code>RunBaseBatch</code>, not <code>RunBase</code></strong>;</li>\n<li>Calling <code>super()</code> in <code>new()</code>, <code>dialog()</code>, and <code>getFromDialog()</code> is <strong>mandatory, not a matter of coding style</strong>;</li>\n<li>The <code>super()</code> call chain contains <strong>critical logic for BatchInfo initialization and Batch parameter construction</strong>;</li>\n<li>Even if the code compiles and runs, missing any required <code>super()</code> call may result in Run In Batch being visible but ineffective;</li>\n<li>In real projects, <strong>around 80% of RunBaseBatch issues are caused by incomplete initialization rather than business logic errors</strong>.</li>\n</ol>\n"}],"PostAsset":[{"_id":"source/_posts/d365-documentroutingconfiguration/image-25.png","slug":"image-25.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-26.png","slug":"image-26.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-27.png","slug":"image-27.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-28.png","slug":"image-28.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-29.png","slug":"image-29.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-30.png","slug":"image-30.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-31.png","slug":"image-31.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-32.png","slug":"image-32.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-33.png","slug":"image-33.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-34.png","slug":"image-34.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-35.png","slug":"image-35.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-36.png","slug":"image-36.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-37.png","slug":"image-37.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-38.png","slug":"image-38.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-39.png","slug":"image-39.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-40.png","slug":"image-40.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-41.png","slug":"image-41.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-42.png","slug":"image-42.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-43.png","slug":"image-43.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-45.png","slug":"image-45.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-46.png","slug":"image-46.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-47.png","slug":"image-47.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-48.png","slug":"image-48.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/d365-documentroutingconfiguration/image-49.png","slug":"image-49.png","post":"cmk9a8vp900030cqkb889h06q","modified":0,"renderable":0},{"_id":"source/_posts/hmt-installtutorial/Picture1.png","slug":"Picture1.png","post":"cmk9a8vpc00070cqk2v696dgr","modified":0,"renderable":0},{"_id":"source/_posts/hmt-installtutorial/Picture2.png","slug":"Picture2.png","post":"cmk9a8vpc00070cqk2v696dgr","modified":0,"renderable":0},{"_id":"source/_posts/hmt-installtutorial/Picture3.png","slug":"Picture3.png","post":"cmk9a8vpc00070cqk2v696dgr","modified":0,"renderable":0},{"_id":"source/_posts/hmt-installtutorial/Picture4.png","slug":"Picture4.png","post":"cmk9a8vpc00070cqk2v696dgr","modified":0,"renderable":0},{"_id":"source/_posts/mssql-clear-log/mssql-clear-log.png","slug":"mssql-clear-log.png","post":"cmk9a8vpg000e0cqkejm51ddo","modified":0,"renderable":0},{"_id":"source/_posts/xpp-ImplementTheSysExtensionSerializer/Screenshot of the My Cust Table showing the Sys Extension Serializer Map_.png","slug":"Screenshot of the My Cust Table showing the Sys Extension Serializer Map_.png","post":"cmk9a8vpe000a0cqkcy390dvr","modified":0,"renderable":0},{"_id":"source/_posts/xpp-ImplementTheSysExtensionSerializer/Screenshot of the Properties form showing that the Replacement Key is set to the Alternate key_.png","slug":"Screenshot of the Properties form showing that the Replacement Key is set to the Alternate key_.png","post":"cmk9a8vpe000a0cqkcy390dvr","modified":0,"renderable":0},{"_id":"source/_posts/xpp-ImplementTheSysExtensionSerializer/Screenshot of the Properties form showing the relation to the standard table_.png","slug":"Screenshot of the Properties form showing the relation to the standard table_.png","post":"cmk9a8vpe000a0cqkcy390dvr","modified":0,"renderable":0},{"_id":"source/_posts/xpp-ImplementTheSysExtensionSerializer/Screenshot showing the Cust Table_.png","slug":"Screenshot showing the Cust Table_.png","post":"cmk9a8vpe000a0cqkcy390dvr","modified":0,"renderable":0},{"_id":"source/_posts/xpp-createledgerjournals/CopyJournalDialog.png","slug":"CopyJournalDialog.png","post":"cmk9a8vpi000j0cqk9lyl87wh","modified":0,"renderable":0},{"_id":"source/_posts/xpp-api-list/xpp-api-list-recordinsertlist.png","slug":"xpp-api-list-recordinsertlist.png","post":"cmk9a8vph000f0cqk9lyog8le","modified":0,"renderable":0},{"_id":"source/_posts/xpp-debug-configuration/xpp-debug-configuration.png","slug":"xpp-debug-configuration.png","post":"cmk9a8vpl000v0cqk6p8jh0bq","modified":0,"renderable":0},{"_id":"source/_posts/xpp-extendsalesinvoicereport/CreateNewReport.png","slug":"CreateNewReport.png","post":"cmk9a8vpm00120cqk54ez8q5e","modified":0,"renderable":0},{"_id":"source/_posts/xpp-extendsalesinvoicereport/LineTablix.png","slug":"LineTablix.png","post":"cmk9a8vpm00120cqk54ez8q5e","modified":0,"renderable":0},{"_id":"source/_posts/xpp-extendsalesinvoicereport/PrintedReport.png","slug":"PrintedReport.png","post":"cmk9a8vpm00120cqk54ez8q5e","modified":0,"renderable":0},{"_id":"source/_posts/xpp-extendsalesinvoicereport/ReportDatasets.png","slug":"ReportDatasets.png","post":"cmk9a8vpm00120cqk54ez8q5e","modified":0,"renderable":0},{"_id":"source/_posts/xpp-extendsalesinvoicereport/ReportProperties.png","slug":"ReportProperties.png","post":"cmk9a8vpm00120cqk54ez8q5e","modified":0,"renderable":0},{"_id":"source/_posts/xpp-extendsalesinvoicereport/ReportResulting.png","slug":"ReportResulting.png","post":"cmk9a8vpm00120cqk54ez8q5e","modified":0,"renderable":0},{"_id":"source/_posts/xpp-extendsalesinvoicereport/RowVisibility.png","slug":"RowVisibility.png","post":"cmk9a8vpm00120cqk54ez8q5e","modified":0,"renderable":0},{"_id":"source/_posts/xpp-runbase-how-to-add-record-to-include/batchjobdialog.png","slug":"batchjobdialog.png","post":"cmk9a8vq5002n0cqkac5vhy8e","modified":0,"renderable":0},{"_id":"source/_posts/xpp-open-in-office/xpp-open-in-office.png","slug":"xpp-open-in-office.png","post":"cmk9a8vq6002t0cqk77q6eb1h","modified":0,"renderable":0},{"_id":"source/_posts/xpp-open-in-office/xpp-open-in-office2.png","slug":"xpp-open-in-office2.png","post":"cmk9a8vq6002t0cqk77q6eb1h","modified":0,"renderable":0},{"_id":"source/_posts/xpp-open-in-office/xpp-open-in-office3.png","slug":"xpp-open-in-office3.png","post":"cmk9a8vq6002t0cqk77q6eb1h","modified":0,"renderable":0},{"_id":"source/_posts/xpp-runbase-how-to-enable-cache-mechanism/image-20260110214346484.png","slug":"image-20260110214346484.png","post":"cmk9a8vq7002x0cqk3jh4hpza","modified":0,"renderable":0},{"_id":"source/_posts/xpp-runbasebatch-how-to-enable-run-in-batch/image-20260111105512293.png","slug":"image-20260111105512293.png","post":"cmk9a8vq700300cqkbbj1cdfv","modified":0,"renderable":0}],"PostCategory":[{"post_id":"cmk9a8vpd00090cqk40ja9yru","category_id":"cmk9a8vpa00040cqkaiwo3anz","_id":"cmk9a8vph000g0cqka8s29ud4"},{"post_id":"cmk9a8vp700010cqkfkchcc3r","category_id":"cmk9a8vpa00040cqkaiwo3anz","_id":"cmk9a8vpi000k0cqk76wx0kq7"},{"post_id":"cmk9a8vp900030cqkb889h06q","category_id":"cmk9a8vpa00040cqkaiwo3anz","_id":"cmk9a8vpj000n0cqkh2bnhmr7"},{"post_id":"cmk9a8vpi000j0cqk9lyl87wh","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpk000s0cqk4spt47op"},{"post_id":"cmk9a8vpc00070cqk2v696dgr","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpl000w0cqkfhrn1alo"},{"post_id":"cmk9a8vpj000m0cqk1odechd7","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpl000z0cqk6rmic29g"},{"post_id":"cmk9a8vpj000q0cqkgip5huqa","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpm00130cqkcuu98i87"},{"post_id":"cmk9a8vpe000a0cqkcy390dvr","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpn00170cqkdfcdaggo"},{"post_id":"cmk9a8vpk000r0cqkd9n43oyr","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpn00190cqk94m7eey6"},{"post_id":"cmk9a8vpl000v0cqk6p8jh0bq","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpo001c0cqk3bqlezo5"},{"post_id":"cmk9a8vpg000e0cqkejm51ddo","category_id":"cmk9a8vpk000t0cqkevw0czgk","_id":"cmk9a8vpo001f0cqkee1s6aww"},{"post_id":"cmk9a8vpl000y0cqk9flr8yqg","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpp001i0cqk6rfc9596"},{"post_id":"cmk9a8vpm00120cqk54ez8q5e","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpp001k0cqk6a735uns"},{"post_id":"cmk9a8vph000f0cqk9lyog8le","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpp001m0cqk1jr03fvl"},{"post_id":"cmk9a8vpm00160cqk3tfw3xas","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpq001o0cqk6hm0brg6"},{"post_id":"cmk9a8vpn00180cqk55vt65va","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpq001q0cqk46mn3az4"},{"post_id":"cmk9a8vpo001e0cqkgktr0zfw","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpq001r0cqk3pa454gr"},{"post_id":"cmk9a8vpp001h0cqk0e3v8d37","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vpq001s0cqkf6aqbgi8"},{"post_id":"cmk9a8vq4002j0cqkh3jj69vo","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vq6002o0cqkf8txerwt"},{"post_id":"cmk9a8vq4002k0cqkhh8ras1p","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vq6002r0cqkenwzdr9s"},{"post_id":"cmk9a8vq5002m0cqk37rxc2vx","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vq6002u0cqkd7sgasew"},{"post_id":"cmk9a8vq5002n0cqkac5vhy8e","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vq7002y0cqk6rup9fvp"},{"post_id":"cmk9a8vq6002q0cqk2o5phjj7","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vq700310cqk5mc70isa"},{"post_id":"cmk9a8vq6002t0cqk77q6eb1h","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vq800330cqkggz56rvu"},{"post_id":"cmk9a8vq7002x0cqk3jh4hpza","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vq800350cqk0srb63ca"},{"post_id":"cmk9a8vq700300cqkbbj1cdfv","category_id":"cmk9a8vph000h0cqkaoyze39l","_id":"cmk9a8vq800370cqkhu2n4sof"}],"PostTag":[{"post_id":"cmk9a8vp700010cqkfkchcc3r","tag_id":"cmk9a8vpb00050cqk8j715nqn","_id":"cmk9a8vpf000d0cqkgin75grn"},{"post_id":"cmk9a8vpc00070cqk2v696dgr","tag_id":"cmk9a8vpe000c0cqk0qr8bcjj","_id":"cmk9a8vpi000l0cqk07v0fqo3"},{"post_id":"cmk9a8vpe000a0cqkcy390dvr","tag_id":"cmk9a8vph000i0cqk6g869sbz","_id":"cmk9a8vpl000x0cqk3owc2i3x"},{"post_id":"cmk9a8vpe000a0cqkcy390dvr","tag_id":"cmk9a8vpj000p0cqk12btadla","_id":"cmk9a8vpm00110cqk5ntw8mwt"},{"post_id":"cmk9a8vpi000j0cqk9lyl87wh","tag_id":"cmk9a8vpk000u0cqk9bv36g0q","_id":"cmk9a8vpm00150cqk5ssi720t"},{"post_id":"cmk9a8vpj000m0cqk1odechd7","tag_id":"cmk9a8vpm00140cqk0a4w9oiv","_id":"cmk9a8vpo001d0cqkh2kq2xvi"},{"post_id":"cmk9a8vpj000q0cqkgip5huqa","tag_id":"cmk9a8vpm00140cqk0a4w9oiv","_id":"cmk9a8vpp001j0cqk6km24bnm"},{"post_id":"cmk9a8vpk000r0cqkd9n43oyr","tag_id":"cmk9a8vpo001g0cqk7iujcb5h","_id":"cmk9a8vpp001n0cqk8smygb13"},{"post_id":"cmk9a8vpl000y0cqk9flr8yqg","tag_id":"cmk9a8vpp001l0cqkgtau6ztd","_id":"cmk9a8vpq001v0cqka1m08s9e"},{"post_id":"cmk9a8vpl000y0cqk9flr8yqg","tag_id":"cmk9a8vpq001p0cqkgmsl2i1d","_id":"cmk9a8vpq001w0cqkcrkt6scj"},{"post_id":"cmk9a8vpl000y0cqk9flr8yqg","tag_id":"cmk9a8vpq001t0cqk3bv294br","_id":"cmk9a8vpr001y0cqkgopngsn3"},{"post_id":"cmk9a8vpl000y0cqk9flr8yqg","tag_id":"cmk9a8vpk000u0cqk9bv36g0q","_id":"cmk9a8vpr001z0cqkbhbocbvx"},{"post_id":"cmk9a8vpm00120cqk54ez8q5e","tag_id":"cmk9a8vpm00140cqk0a4w9oiv","_id":"cmk9a8vpr00210cqka98m3n00"},{"post_id":"cmk9a8vpm00120cqk54ez8q5e","tag_id":"cmk9a8vpq001x0cqk3a0h0c9p","_id":"cmk9a8vpr00220cqkf8u0d30p"},{"post_id":"cmk9a8vpm00160cqk3tfw3xas","tag_id":"cmk9a8vpr00200cqk6b0hgn2c","_id":"cmk9a8vps00270cqk43l9e46q"},{"post_id":"cmk9a8vpm00160cqk3tfw3xas","tag_id":"cmk9a8vpr00230cqk7bdr3mqv","_id":"cmk9a8vps00280cqkd0gj2ll4"},{"post_id":"cmk9a8vpm00160cqk3tfw3xas","tag_id":"cmk9a8vpr00240cqkf3nl3aq7","_id":"cmk9a8vps002a0cqkakn1d5tc"},{"post_id":"cmk9a8vpm00160cqk3tfw3xas","tag_id":"cmk9a8vpr00250cqk60psawxs","_id":"cmk9a8vpu002b0cqk67cc0noj"},{"post_id":"cmk9a8vpm00160cqk3tfw3xas","tag_id":"cmk9a8vpj000p0cqk12btadla","_id":"cmk9a8vpw002d0cqk7uiv8bgu"},{"post_id":"cmk9a8vpp001h0cqk0e3v8d37","tag_id":"cmk9a8vps00260cqkdayhezy4","_id":"cmk9a8vpy002f0cqk6vh6bgmw"},{"post_id":"cmk9a8vpp001h0cqk0e3v8d37","tag_id":"cmk9a8vps00290cqk1xzx7gbm","_id":"cmk9a8vpy002g0cqkhupd4sjd"},{"post_id":"cmk9a8vpp001h0cqk0e3v8d37","tag_id":"cmk9a8vpu002c0cqk97722dth","_id":"cmk9a8vpy002h0cqk2e8ya0a2"},{"post_id":"cmk9a8vpp001h0cqk0e3v8d37","tag_id":"cmk9a8vpx002e0cqk0015b7mk","_id":"cmk9a8vpy002i0cqk881jeu0g"},{"post_id":"cmk9a8vq5002m0cqk37rxc2vx","tag_id":"cmk9a8vpp001l0cqkgtau6ztd","_id":"cmk9a8vq6002p0cqkh0x98itm"},{"post_id":"cmk9a8vq5002m0cqk37rxc2vx","tag_id":"cmk9a8vpq001p0cqkgmsl2i1d","_id":"cmk9a8vq6002s0cqk6vxqcrxz"},{"post_id":"cmk9a8vq5002m0cqk37rxc2vx","tag_id":"cmk9a8vpq001t0cqk3bv294br","_id":"cmk9a8vq7002w0cqka5h8d90g"},{"post_id":"cmk9a8vq5002n0cqkac5vhy8e","tag_id":"cmk9a8vpo001g0cqk7iujcb5h","_id":"cmk9a8vq7002z0cqk7w5sdpeh"},{"post_id":"cmk9a8vq4002j0cqkh3jj69vo","tag_id":"cmk9a8vq5002l0cqkekho5axc","_id":"cmk9a8vq800320cqkh2lp16d7"},{"post_id":"cmk9a8vq7002x0cqk3jh4hpza","tag_id":"cmk9a8vpo001g0cqk7iujcb5h","_id":"cmk9a8vq800340cqk99zqfzp2"},{"post_id":"cmk9a8vq700300cqkbbj1cdfv","tag_id":"cmk9a8vpo001g0cqk7iujcb5h","_id":"cmk9a8vq800360cqk07sxaq5h"},{"post_id":"cmk9a8vq6002q0cqk2o5phjj7","tag_id":"cmk9a8vq6002v0cqk7j0s1ni8","_id":"cmk9a8vq800380cqk4bg12oex"}],"Tag":[{"name":"git","_id":"cmk9a8vpb00050cqk8j715nqn"},{"name":"HMT","_id":"cmk9a8vpe000c0cqk0qr8bcjj"},{"name":"Table","_id":"cmk9a8vph000i0cqk6g869sbz"},{"name":"Extend","_id":"cmk9a8vpj000p0cqk12btadla"},{"name":"LedgerJournalTrans","_id":"cmk9a8vpk000u0cqk9bv36g0q"},{"name":"ssrs","_id":"cmk9a8vpm00140cqk0a4w9oiv"},{"name":"RunBase","_id":"cmk9a8vpo001g0cqk7iujcb5h"},{"name":"CustTrans","_id":"cmk9a8vpp001l0cqkgtau6ztd"},{"name":"VendTrans","_id":"cmk9a8vpq001p0cqkgmsl2i1d"},{"name":"Reversal","_id":"cmk9a8vpq001t0cqk3bv294br"},{"name":"sales invoice report","_id":"cmk9a8vpq001x0cqk3a0h0c9p"},{"name":"SalesTable","_id":"cmk9a8vpr00200cqk6b0hgn2c"},{"name":"SubBillingSchedule","_id":"cmk9a8vpr00230cqk7bdr3mqv"},{"name":"SubBillingScheduleLine","_id":"cmk9a8vpr00240cqkf3nl3aq7"},{"name":"SalesLine","_id":"cmk9a8vpr00250cqk60psawxs"},{"name":"Lookup","_id":"cmk9a8vps00260cqkdayhezy4"},{"name":"Multiple Selection Lookup","_id":"cmk9a8vps00290cqk1xzx7gbm"},{"name":"Form","_id":"cmk9a8vpu002c0cqk97722dth"},{"name":"Grid","_id":"cmk9a8vpx002e0cqk0015b7mk"},{"name":"Dialog","_id":"cmk9a8vq5002l0cqkekho5axc"},{"name":"NumberSeq","_id":"cmk9a8vq6002v0cqk7j0s1ni8"}]}}